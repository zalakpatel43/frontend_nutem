"use strict";(self.webpackChunkskyward_nutem=self.webpackChunkskyward_nutem||[]).push([[263],{2263:(A,u,s)=>{s.r(u),s.d(u,{PermissionModule:()=>w});var h=s(177),c=s(8498),t=s(4438);let f=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275cmp=t.VBU({type:e,selectors:[["app-permission"]],decls:1,vars:0,template:function(o,r){1&o&&t.nrm(0,"router-outlet")},dependencies:[c.n3]})}return e})();var a=s(4434),v=s(7936),g=s(5794),m=s(8834);const b=()=>["../","add"];let k=(()=>{class e{constructor(i,o){this.permissionService=i,this.notificationService=o,this.permissionData=[],this.page=a.Wt.permissioon,this.permissions=a.eZ,this.searchData={}}ngOnInit(){this.getPermissionData()}getPermissionData(){this.loading=!0,this.permissionService.getPermissionList().subscribe(i=>{this.permissionData=i,this.loading=!1},i=>{this.error=i,this.loading=!1})}removePermission(i){confirm("Are you sure you want to delete this permission?")&&this.permissionService.deletePermission(i).subscribe(()=>{this.getPermissionData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(i){this.searchData=Object.assign({},i)}isActiveRow(i){return{"text-danger":!i.isActive}}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(v.n),t.rXU(g.tw))};static#i=this.\u0275cmp=t.VBU({type:e,selectors:[["app-list"]],decls:14,vars:2,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","color","primary",1,"app-button",3,"routerLink"],[1,"icon-plus"],[1,"row"],[1,"col-12"]],template:function(o,r){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6,"Permission Check List"),t.k0s()(),t.j41(7,"div",6)(8,"a",7)(9,"span"),t.EFF(10,"Add New"),t.k0s(),t.nrm(11,"i",8),t.k0s()()(),t.j41(12,"div",9),t.nrm(13,"div",10),t.k0s()()()()),2&o&&(t.R7$(8),t.Y8G("routerLink",t.lJ4(1,b)))},dependencies:[c.Wk,m.It]})}return e})();var n=s(9417),F=s(8777);function C(e,d){if(1&e&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&e){const i=d.$implicit;t.Y8G("value",i.id),t.R7$(),t.JRh(i.name)}}function j(e,d){if(1&e&&(t.j41(0,"option",27),t.EFF(1),t.k0s()),2&e){const i=d.$implicit;t.Y8G("value",i.id),t.R7$(),t.JRh(i.name)}}let l=(()=>{class e{constructor(i,o,r,p){this.formBuilder=i,this.toastr=o,this.router=r,this.route=p,this.roles=[],this.permissions=[],this.permissionId=null,this.permissionForm=this.formBuilder.group({roleId:["",n.k0.required],permissionId:["",n.k0.required],view:[!1],add:[!1],edit:[!1],delete:[!1]})}ngOnInit(){this.route.params.subscribe(i=>{i.id&&(this.isEditMode=!0,this.permissionId=+i.id)})}save(){this.permissionForm.invalid||this.router.navigate(["../"],{relativeTo:this.route})}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(n.ok),t.rXU(g.tw),t.rXU(c.Ix),t.rXU(c.nX))};static#i=this.\u0275cmp=t.VBU({type:e,selectors:[["app-add-edit"]],decls:44,vars:4,consts:[[1,"container"],[1,"border","p-3","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","color","primary",1,"app-button",3,"click"],[1,"app-form",3,"submit","formGroup"],[1,"form-group"],["for","roleId"],["id","roleId","formControlName","roleId",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","permissionId"],["id","permissionId","formControlName","permissionId",1,"form-control"],[1,"form-check"],["type","checkbox","id","viewCheckbox","formControlName","view",1,"form-check-input"],["for","viewCheckbox",1,"form-check-label"],["type","checkbox","id","addCheckbox","formControlName","add",1,"form-check-input"],["for","addCheckbox",1,"form-check-label"],["type","checkbox","id","editCheckbox","formControlName","edit",1,"form-check-input"],["for","editCheckbox",1,"form-check-label"],["type","checkbox","id","deleteCheckbox","formControlName","delete",1,"form-check-input"],["for","deleteCheckbox",1,"form-check-label"],[1,"row"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","","color","primary",1,"app-button","mr-1"],[3,"value"]],template:function(o,r){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t.nrm(5,"i",5),t.EFF(6," Add/Edit Permission"),t.k0s()(),t.j41(7,"div",6)(8,"a",7),t.bIt("click",function(){return r.cancel()}),t.EFF(9," View List "),t.k0s()()(),t.j41(10,"form",8),t.bIt("submit",function(){return r.save()}),t.j41(11,"div",9)(12,"label",10),t.EFF(13,"Role"),t.k0s(),t.j41(14,"select",11),t.DNE(15,C,2,2,"option",12),t.k0s()(),t.j41(16,"div",9)(17,"label",13),t.EFF(18,"Permission"),t.k0s(),t.j41(19,"select",14),t.DNE(20,j,2,2,"option",12),t.k0s()(),t.j41(21,"div",9)(22,"label"),t.EFF(23,"Permissions"),t.k0s(),t.j41(24,"div",15),t.nrm(25,"input",16),t.j41(26,"label",17),t.EFF(27,"View"),t.k0s()(),t.j41(28,"div",15),t.nrm(29,"input",18),t.j41(30,"label",19),t.EFF(31,"Add"),t.k0s()(),t.j41(32,"div",15),t.nrm(33,"input",20),t.j41(34,"label",21),t.EFF(35,"Edit"),t.k0s()(),t.j41(36,"div",15),t.nrm(37,"input",22),t.j41(38,"label",23),t.EFF(39,"Delete"),t.k0s()()(),t.j41(40,"div",24)(41,"div",25)(42,"button",26),t.EFF(43),t.k0s()()()()()()),2&o&&(t.R7$(10),t.Y8G("formGroup",r.permissionForm),t.R7$(5),t.Y8G("ngForOf",r.roles),t.R7$(5),t.Y8G("ngForOf",r.permissions),t.R7$(23),t.SpI(" ",r.isEditMode?"Update":"Save"," "))},dependencies:[h.Sq,n.qT,n.xH,n.y7,n.Zm,n.wz,n.BC,n.cb,n.j4,n.JD,m.It,m.$z,F.T],styles:[".app-form[_ngcontent-%COMP%]{max-width:600px;margin:auto}.app-button[_ngcontent-%COMP%]{margin-top:10px}"]})}return e})();const P=[{path:"",component:f,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:k,canActivate:[a.LL],data:{page:a.Wt.permissioon,title:"Permission"}},{path:"add",canActivate:[a.LL],data:{page:a.Wt.permissioon,title:"Permission"},component:l},{path:"edit/:id",canActivate:[a.LL],data:{page:a.Wt.permissioon,title:"Permission"},component:l}]}];let x=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275mod=t.$C({type:e});static#e=this.\u0275inj=t.G2t({imports:[c.iI.forChild(P),c.iI]})}return e})();var y=s(1774),E=s(9830),I=s(2356);let w=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275mod=t.$C({type:e});static#e=this.\u0275inj=t.G2t({providers:[v.n,(0,E._c)()],imports:[h.MD,x,y.Gg,I.c9]})}return e})()}}]);