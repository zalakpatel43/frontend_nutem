"use strict";(self.webpackChunkskyward_admin=self.webpackChunkskyward_admin||[]).push([[535],{53535:(Te,E,o)=>{o.r(E),o.d(E,{TrailerInspectionModule:()=>pe});var f=o(60177),u=o(18498),e=o(54438);let D=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-trailer-inspection"]],decls:1,vars:0,template:function(n,r){1&n&&e.nrm(0,"router-outlet")},dependencies:[u.n3]})}return i})();var m=o(4434),$=o(21626);let v=(()=>{class i{constructor(t,n){this.http=t,this._baseService=n}getTrailerInspectionList(){return this.http.get(`${m.T6.TrailerInspectionList}`)}getComapnyList(){return this.http.get(`${m.T6.CompanyMasterList}`)}getVehicleTypeList(){return this.http.get(`${m.T6.VehicleTypeMasterList}`)}addTrailerInspection(t){return this.http.post(`${m.T6.TrailerInspectionAdd}`,t)}updateTrailerInspection(t){return this.http.post(`${m.T6.TrailerInspectionEdit}`,t)}getByIdTrailerInspection(t){return this.http.get(`${m.T6.TrailerInspectionGetById}?id=`+t)}DeleteTrailerInspection(t){return this.http.get(`${m.T6.TrailerInspectionDelete}?Id=`+t)}static#e=this.\u0275fac=function(n){return new(n||i)(e.KVO($.Qq),e.KVO(m.dD))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var j=o(45794),N=o(88834),G=o(99213),k=o(33380),O=o(30220),M=o(49239);let A=(()=>{class i{constructor(){this.searchChanged=new e.bkB,this.searchData={},this.searchKey="startDateTime , endDateTime, shiftName"}updateSearchTerms(t,n){this.searchData[t]=n,this.searchChanged.emit(this.searchData)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["trailer-inspection-search-panel"]],outputs:{searchChanged:"searchChanged"},decls:3,vars:1,consts:[[1,"row"],[1,"col-lg-6"],[3,"textSearchEntered","placeHolder"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"search-text",2),e.bIt("textSearchEntered",function(l){return r.updateSearchTerms(r.searchKey,l)}),e.k0s()()()),2&n&&(e.R7$(2),e.Y8G("placeHolder","Search Shift"))},dependencies:[M.D]})}return i})();var L=o(96081);const _=()=>["../","add"],w=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),Y=i=>["..","edit",i];function U(i,c){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=c.value;e.R7$(),e.JRh(e.i5U(2,1,t,"MM/dd/yyyy hh:mm a"))}}function V(i,c){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=c.value;e.R7$(),e.JRh(t)}}function B(i,c){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=c.value;e.R7$(),e.JRh(t)}}function x(i,c){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=c.value;e.R7$(),e.JRh(t)}}function W(i,c){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=c.value;e.R7$(),e.JRh(t)}}function H(i,c){if(1&i&&(e.j41(0,"a",22)(1,"mat-icon"),e.EFF(2,"edit"),e.k0s()()),2&i){const t=e.XpG().row;e.Y8G("routerLink",e.eq3(1,Y,t.id))}}function X(i,c){if(1&i){const t=e.RV6();e.DNE(0,H,3,3,"a",20),e.j41(1,"button",21),e.bIt("click",function(){const r=e.eBV(t).row,a=e.XpG();return e.Njj(a.removeWeightCheck(r.id))}),e.j41(2,"mat-icon"),e.EFF(3,"close"),e.k0s()()}if(2&i){const t=e.XpG();e.Y8G("authPermission",t.page+"_"+t.permissions.edit)}}let P=(()=>{class i{constructor(t,n){this.trailerInspectionService=t,this.notificationService=n,this.trailerInspectionData=[],this.page=m.Wt.trailerInspection,this.permissions=m.eZ,this.searchData={},this.showDeleteModal=!1}ngOnInit(){this.getTrailerInspectionData()}getTrailerInspectionData(){this.loading=!0,this.trailerInspectionService.getTrailerInspectionList().subscribe(t=>{this.trailerInspectionData=t,console.log("TrailerInspection list",this.trailerInspectionData),this.loading=!1},t=>{this.error=t,this.loading=!1})}removeWeightCheck(t){confirm("Are you sure, you want to delete this Trailer Inspection?")&&this.trailerInspectionService.DeleteTrailerInspection(t).subscribe(()=>{this.getTrailerInspectionData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(t){this.searchData=Object.assign({},t),console.log("serach data",this.searchData)}isActiveRow(t){return{"text-danger":!t.isActive}}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(v),e.rXU(j.tw))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-list"]],decls:29,vars:16,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","color","primary",1,"app-button",3,"routerLink"],[1,"icon-plus"],[1,"row"],[1,"col-12"],[3,"searchChanged"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","messages"],["name","Date","prop","date"],["ngx-datatable-cell-template",""],["name","Company Name","prop","companyName"],["name","Driver Name","prop","driverName"],["name","Vehicle Type Name","prop","vehicleTypeName"],["name","License Plate No","prop","licensePlateNo"],["name","Actions",3,"sortable"],["class","button-padding","color","primary",3,"routerLink",4,"authPermission"],["type","button",2,"border","none","background-color","white","color","red",3,"click"],["color","primary",1,"button-padding",3,"routerLink"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e.EFF(6,"Trailer Inspection List"),e.k0s()(),e.j41(7,"div",6)(8,"a",7)(9,"span"),e.EFF(10,"Add New"),e.k0s(),e.nrm(11,"i",8),e.k0s()()(),e.j41(12,"div",9)(13,"div",10)(14,"trailer-inspection-search-panel",11),e.bIt("searchChanged",function(l){return r.updateSearch(l)}),e.k0s(),e.j41(15,"ngx-datatable",12),e.nI1(16,"searchtable"),e.j41(17,"ngx-datatable-column",13),e.DNE(18,U,3,4,"ng-template",14),e.k0s(),e.j41(19,"ngx-datatable-column",15),e.DNE(20,V,2,1,"ng-template",14),e.k0s(),e.j41(21,"ngx-datatable-column",16),e.DNE(22,B,2,1,"ng-template",14),e.k0s(),e.j41(23,"ngx-datatable-column",17),e.DNE(24,x,2,1,"ng-template",14),e.k0s(),e.j41(25,"ngx-datatable-column",18),e.DNE(26,W,2,1,"ng-template",14),e.k0s(),e.j41(27,"ngx-datatable-column",19),e.DNE(28,X,4,1,"ng-template",14),e.k0s()()()()()()()),2&n&&(e.R7$(8),e.Y8G("routerLink",e.lJ4(14,_)),e.R7$(7),e.Y8G("rows",e.i5U(16,11,r.trailerInspectionData,r.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",r.loading)("scrollbarH",!0)("messages",e.lJ4(15,w)),e.R7$(12),e.Y8G("sortable",!1))},dependencies:[u.Wk,N.It,G.An,k.ge,k.ed,k.QI,O.B,A,f.vh,L.j]})}return i})();var d=o(89417),J=o(61528),F=o(32102),K=o(99631),z=o(82798),Q=o(86600),C=o(25084),R=o(5951),Z=o(58777),q=o(67133),b=o(42356);function ee(i,c){if(1&i){const t=e.RV6();e.j41(0,"a",70),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.cancel())}),e.EFF(1," View List "),e.k0s()}}function te(i,c){if(1&i&&(e.j41(0,"mat-option",71),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.companyName," ")}}function ie(i,c){if(1&i&&(e.j41(0,"mat-option",71),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function re(i,c){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Time In is required "),e.k0s())}function ne(i,c){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Time Out is required "),e.k0s())}function oe(i,c){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Time Of Inspection is required "),e.k0s())}function se(i,c){if(1&i&&(e.j41(0,"mat-option",71),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function ae(i,c){if(1&i&&(e.j41(0,"div",72)(1,"mat-form-field",20)(2,"mat-label"),e.EFF(3,"Reason for Rejection"),e.k0s(),e.nrm(4,"textarea",73)(5,"mat-validation-message",22),e.k0s()()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("control",t.trailerInspectionForm.controls.RejectionReason)("message","RejectionReason")("formSubmitted",t.isFormSubmitted)}}let S=(()=>{class i{constructor(t,n,r,a,l,s){this.activatedRoute=t,this.router=n,this.formBuilder=r,this.weightCheckService=a,this.notificationService=l,this.trailerInspectionService=s,this.page=m.Wt.trailerInspection,this.permissions=m.eZ,this.companyList=[],this.vehicleTypeList=[],this.usersList=[],this.isFormError=!1,this.createForm()}ngOnInit(){this.getRoute(),this.loadDropdowns()}getRoute(){this.routerSub=this.activatedRoute.params.subscribe(t=>{this.isEditMode=!m.ov.isEmpty(t.id),this.createForm(),this.isEditMode&&(this.trailerInspectionId=t.id,this.getTrailerInspectionById())})}getTrailerInspectionById(){this.trailerInspectionService.getByIdTrailerInspection(this.trailerInspectionId).subscribe(t=>{this.trailerInspectionData=t,this.setWeightCheckData(),console.log("get by id data",t)},t=>{console.log(t)})}setWeightCheckData(){const t=n=>new Date(n).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});this.trailerInspectionForm.patchValue({Code:this.trailerInspectionData.code,Date:this.trailerInspectionData.date,CompanyId:this.trailerInspectionData.companyId,InspectedById:this.trailerInspectionData.inspectedById,TimeIn:t(this.trailerInspectionData.timeIn),TimeOut:t(this.trailerInspectionData.timeOut),TotalTime:this.trailerInspectionData.totalTime,TimeOfInspection:t(this.trailerInspectionData.timeOfInspection),Mode:this.trailerInspectionData.mode,DriverName:this.trailerInspectionData.driverName,VehicleTypeId:this.trailerInspectionData.vehicleTypeId,LicensePlateNo:this.trailerInspectionData.licensePlateNo,TrailerNo:this.trailerInspectionData.trailerNo,TruckNo:this.trailerInspectionData.truckNo,VehicleStatus:this.trailerInspectionData.vehicleStatus,RejectionReason:this.trailerInspectionData.rejectionReason,VehicleCleanAns:this.trailerInspectionData.vehicleCleanAns,VehicleCleanNotes:this.trailerInspectionData.vehicleCleanNotes,ComingOrderFromForeignAns:this.trailerInspectionData.comingOrderFromForeignAns,ComingOrderFromForeignNotes:this.trailerInspectionData.comingOrderFromForeignNotes,DoorCloseProperlyAns:this.trailerInspectionData.doorCloseProperlyAns,DoorCloseProperlyNotes:this.trailerInspectionData.doorCloseProperlyNotes,OverallIntegrityAns:this.trailerInspectionData.overallIntegrityAns,OverallIntegrityNotes:this.trailerInspectionData.overallIntegrityNotes,FloorInGoodConditionAns:this.trailerInspectionData.floorInGoodConditionAns,FloorInGoodConditionNotes:this.trailerInspectionData.floorInGoodConditionNotes,PresentOnTrailerAns:this.trailerInspectionData.presentOnTrailerAns,PresentOnTrailerNotes:this.trailerInspectionData.presentOnTrailerNotes,SafeWorkingOrderAns:this.trailerInspectionData.safeWorkingOrderAns,SafeWorkingOrderNotes:this.trailerInspectionData.safeWorkingOrderNotes,IsRustPresentAns:this.trailerInspectionData.isRustPresentAns,IsRustPresentNotes:this.trailerInspectionData.isRustPresentNotes,TemperatureSettingUsedAns:this.trailerInspectionData.temperatureSettingUsedAns,TemperatureSettingUsedNotes:this.trailerInspectionData.temperatureSettingUsedNotes}),this.trailerInspectionForm.get("TimeIn").disable(),this.trailerInspectionForm.get("TimeOut").disable(),this.trailerInspectionForm.get("TotalTime").disable(),this.trailerInspectionForm.get("TimeOfInspection").disable()}loadDropdowns(){this.trailerInspectionService.getComapnyList().subscribe(t=>{this.companyList=t}),this.trailerInspectionService.getVehicleTypeList().subscribe(t=>{this.vehicleTypeList=t}),this.weightCheckService.getUserList().subscribe(t=>{this.usersList=t})}createForm(){this.trailerInspectionForm=this.formBuilder.group({Code:[{value:"",disabled:!0},[d.k0.required]],Date:["",[d.k0.required]],CompanyId:["",[d.k0.required]],InspectedById:["",[d.k0.required]],TimeIn:["",[d.k0.required]],TimeOut:["",[d.k0.required]],TotalTime:["",[d.k0.required]],TimeOfInspection:["",[d.k0.required]],Mode:["Outgoing",[]],DriverName:["",[d.k0.required]],VehicleTypeId:["",[d.k0.required]],LicensePlateNo:["",[d.k0.required]],TrailerNo:["",[]],TruckNo:["",[]],VehicleStatus:["Accepted",[]],RejectionReason:["",[]],VehicleCleanAns:["Pass",[]],VehicleCleanNotes:["",[]],ComingOrderFromForeignAns:["Pass",[]],ComingOrderFromForeignNotes:["",[]],DoorCloseProperlyAns:["Pass",[]],DoorCloseProperlyNotes:["",[]],OverallIntegrityAns:["Pass",[]],OverallIntegrityNotes:["",[]],FloorInGoodConditionAns:["Pass",[]],FloorInGoodConditionNotes:["",[]],PresentOnTrailerAns:["Pass",[]],PresentOnTrailerNotes:["",[]],SafeWorkingOrderAns:["Pass",[]],SafeWorkingOrderNotes:["",[]],IsRustPresentAns:["Pass",[]],IsRustPresentNotes:["",[]],TemperatureSettingUsedAns:["Pass",[]],TemperatureSettingUsedNotes:["",[]]}),this.trailerInspectionForm.controls.Date.setValue((new Date).toISOString().split("T")[0])}getToday(){return(new Date).toISOString().split("T")[0]}OnTimeOut(t){const n=this.trailerInspectionForm.get("TimeIn").value,r=this.trailerInspectionForm.get("TimeOut").value;if(console.log("time in , timeout",n,r),!n)return this.notificationService.error("select Time in "),this.trailerInspectionForm.get("TimeOut").setValue(""),void(this.isFormError=!0);if(n&&r){const a=this.parseTime(n),l=this.parseTime(r);if(a>=l)return this.notificationService.error("Time out should be greater than Time in "),this.trailerInspectionForm.get("TimeOut").setValue(""),void(this.isFormError=!0);if(a<l){const p=Math.floor((l-a)/6e4),I=Math.floor(p/60),g=p%60;this.trailerInspectionForm.get("TotalTime").setValue(`${I}:${g<10?"0":""}${g}`),this.isFormError=!1}else this.trailerInspectionForm.get("TotalTime").setValue(""),this.isFormError=!0}}OnInspectionTime(t){const n=this.trailerInspectionForm.get("TimeIn").value,r=this.trailerInspectionForm.get("TimeOut").value,a=this.trailerInspectionForm.get("TimeOfInspection").value;if(!n)return this.notificationService.error("select Time in "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);if(!r)return this.notificationService.error("select Time out "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);if(n&&r){const l=this.parseTime(n),s=this.parseTime(r),p=this.parseTime(a);if(p<l)return this.notificationService.error("Inspection time should be greater than Time in "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);if(p>s)return this.notificationService.error("Inspection time should be less than Time out "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);p>=l&&p<=s?this.isFormError=!1:(this.trailerInspectionForm.get("TimeOfInspection").setValue(""),this.isFormError=!0)}}parseTime(t){const[n,r]=t.split(" ");let[a,l]=n.split(":").map(Number);"PM"===r&&a<12&&(a+=12),"AM"===r&&12===a&&(a=0);const s=new Date;return s.setHours(a),s.setMinutes(l),s.setSeconds(0),s.setMilliseconds(0),s.getTime()}createTrailerInspection(t){this.trailerInspectionService.addTrailerInspection(t).subscribe(()=>{this.cancel(),this.notificationService.success("Trailer Inspection created successfully.")},n=>{this.error=n})}updateTrailerInspection(t){this.trailerInspectionService.updateTrailerInspection(t).subscribe(()=>{this.cancel(),this.notificationService.success("Trailer Inspection  updated successfully.")},n=>{this.error=n})}save(){if(this.isFormSubmitted=!0,!this.trailerInspectionForm.invalid){let t=this.trailerInspectionForm.value;console.log("formvalue",t);let n=this.validateFOrm(t);if(console.log("isValid",n),n){let r=this.transformData(t);console.log("Playload",r),this.isEditMode?this.updateTrailerInspection(r):this.createTrailerInspection(r)}}}validateFOrm(t){return this.isFormError?(this.notificationService.error("please check time issue"),!1):"Fail"===t.VehicleCleanAns&&0==t.VehicleCleanNotes.trim().length?(this.notificationService.error("enter Vehicle Clean Notes"),!1):"Fail"===t.ComingOrderFromForeignAns&&0==t.ComingOrderFromForeignNotes.trim().length?(this.notificationService.error("enter Coming Order From Foreign  Notes"),!1):"Fail"===t.DoorCloseProperlyAns&&0==t.DoorCloseProperlyNotes.trim().length?(this.notificationService.error("enter Door Close Properly Notes"),!1):"Fail"===t.OverallIntegrityAns&&0==t.OverallIntegrityNotes.trim().length?(this.notificationService.error("enter Overall Integrity Notes"),!1):"Fail"===t.FloorInGoodConditionAns&&0==t.FloorInGoodConditionNotes.trim().length?(this.notificationService.error("enter Floor In Good Condition Notes"),!1):"Fail"===t.PresentOnTrailerAns&&0==t.PresentOnTrailerNotes.trim().length?(this.notificationService.error("enter Present On Trailer Notes"),!1):"Fail"===t.SafeWorkingOrderAns&&0==t.SafeWorkingOrderNotes.trim().length?(this.notificationService.error("enter Safe Working Order Notes"),!1):"Fail"===t.IsRustPresentAns&&0==t.IsRustPresentNotes.trim().length?(this.notificationService.error("enter Is Rust Present Notes"),!1):"Fail"!==t.TemperatureSettingUsedAns||0!=t.TemperatureSettingUsedNotes.trim().length||(this.notificationService.error("enter Temperature Setting Used Notes"),!1)}transformData(t){function r(l){const p=l.match(/(\d{1,2}):(\d{2}) (AM|PM)/i);if(!p)throw new Error("Invalid time format");let[,I,g,T]=p,h=parseInt(I,10);const he=parseInt(g,10);"AM"===T.toUpperCase()?12===h&&(h=0):"PM"===T.toUpperCase()&&12!==h&&(h+=12);const ue=h.toString().padStart(2,"0"),ge=he.toString().padStart(2,"0"),y=new Date;return`${y.getFullYear()}-${(y.getMonth()+1).toString().padStart(2,"0")}-${y.getDate().toString().padStart(2,"0")}T${ue}:${ge}`}return{Id:this.isEditMode?this.trailerInspectionData.id:0,Code:this.isEditMode?this.trailerInspectionData.code:"",Date:function n(l){const s=new Date(l);if(isNaN(s.getTime()))throw new Error("Invalid date string provided");return`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}T${String(s.getHours()).padStart(2,"0")}:${String(s.getMinutes()).padStart(2,"0")}`}(t.Date),CompanyId:t.CompanyId,InspectedById:t.InspectedById,TimeIn:this.isEditMode?this.trailerInspectionData.timeIn:r(t.TimeIn),TimeOut:this.isEditMode?this.trailerInspectionData.timeOut:r(t.TimeOut),TotalTime:this.isEditMode?this.trailerInspectionData.totalTime:t.TotalTime.toString(),TimeOfInspection:this.isEditMode?this.trailerInspectionData.timeOfInspection:r(t.TimeOfInspection),Mode:t.Mode,DriverName:t.DriverName,VehicleTypeId:t.VehicleTypeId,LicensePlateNo:t.LicensePlateNo||"",TrailerNo:t.TrailerNo||"",TruckNo:t.TruckNo||"",VehicleStatus:t.VehicleStatus,RejectionReason:t.RejectionReason,VehicleCleanAns:t.VehicleCleanAns,VehicleCleanNotes:t.VehicleCleanNotes,ComingOrderFromForeignAns:t.ComingOrderFromForeignAns,ComingOrderFromForeignNotes:t.ComingOrderFromForeignNotes,DoorCloseProperlyAns:t.DoorCloseProperlyAns,DoorCloseProperlyNotes:t.DoorCloseProperlyNotes,OverallIntegrityAns:t.OverallIntegrityAns,OverallIntegrityNotes:t.OverallIntegrityNotes,FloorInGoodConditionAns:t.FloorInGoodConditionAns,FloorInGoodConditionNotes:t.FloorInGoodConditionNotes,PresentOnTrailerAns:t.PresentOnTrailerAns,PresentOnTrailerNotes:t.PresentOnTrailerNotes,SafeWorkingOrderAns:t.SafeWorkingOrderAns,SafeWorkingOrderNotes:t.SafeWorkingOrderNotes,IsRustPresentAns:t.IsRustPresentAns,IsRustPresentNotes:t.IsRustPresentNotes,TemperatureSettingUsedAns:t.TemperatureSettingUsedAns,TemperatureSettingUsedNotes:t.TemperatureSettingUsedNotes}}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}ngOnDestroy(){this.routerSub.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(u.nX),e.rXU(u.Ix),e.rXU(d.ze),e.rXU(J.Q),e.rXU(j.tw),e.rXU(v))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-add-edit"]],decls:269,vars:43,consts:[["form","ngForm"],["pickerStart",""],["timepicker",""],["timeOutPicker",""],["InspectionPicker",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","color","primary","class","app-button",3,"click",4,"authPermission"],["novalidate","",1,"app-form",3,"submit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],["appearance","fill",1,"full-width"],["matInput","","formControlName","Code",3,"disabled"],[3,"control","message","formSubmitted"],["matInput","","formControlName","Date",3,"matDatepicker","min"],["matSuffix","",3,"for"],["formControlName","CompanyId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","InspectedById"],["matInput","","placeholder","Select time","formControlName","TimeIn",3,"ngxTimepicker"],[4,"ngIf"],["matInput","","placeholder","Select time","formControlName","TimeOut",3,"ngModelChange","ngxTimepicker"],["matInput","","formControlName","TotalTime","readonly",""],["matInput","","placeholder","Select time","formControlName","TimeOfInspection",3,"ngModelChange","ngxTimepicker"],["formControlName","Mode",1,"d-flex"],["value","Outgoing"],["value","Incoming"],["matInput","","formControlName","DriverName"],["formControlName","VehicleTypeId"],["matInput","","formControlName","LicensePlateNo"],["matInput","","formControlName","TrailerNo"],["matInput","","formControlName","TruckNo"],["formControlName","VehicleStatus",1,"d-flex"],["value","Accepted"],["value","Rejected"],["class","col-12 col-sm-12 col-md-12 col-lg-12 mb-3",4,"ngIf"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"col-12","col-sm-12","col-md-5","col-lg-5","mb-3"],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3"],["formControlName","VehicleCleanAns"],["value","Pass"],["value","Fail"],["matInput","","formControlName","VehicleCleanNotes"],["formControlName","ComingOrderFromForeignAns"],["matInput","","formControlName","ComingOrderFromForeignNotes"],["formControlName","DoorCloseProperlyAns"],["matInput","","formControlName","DoorCloseProperlyNotes"],["formControlName","OverallIntegrityAns"],["matInput","","formControlName","OverallIntegrityNotes"],["formControlName","FloorInGoodConditionAns"],["matInput","","formControlName","FloorInGoodConditionNotes"],["formControlName","PresentOnTrailerAns"],["matInput","","formControlName","PresentOnTrailerNotes"],["formControlName","SafeWorkingOrderAns"],["matInput","","formControlName","SafeWorkingOrderNotes"],["formControlName","IsRustPresentAns"],["matInput","","formControlName","IsRustPresentNotes"],["formControlName","TemperatureSettingUsedAns"],["matInput","","formControlName","TemperatureSettingUsedNotes"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","","color","primary",1,"app-button","mr-1"],["mat-flat-button","","color","primary",1,"app-button",3,"click"],[3,"value"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-3"],["matInput","","formControlName","RejectionReason"]],template:function(n,r){if(1&n){const a=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"h4",10),e.nrm(6,"i",11),e.EFF(7," Add/Edit Trailer Inspection"),e.k0s()(),e.j41(8,"div",12),e.DNE(9,ee,2,0,"a",13),e.k0s()(),e.j41(10,"form",14,0),e.bIt("submit",function(){return e.eBV(a),e.Njj(r.save())}),e.j41(12,"div",15)(13,"div",16)(14,"h5",10),e.EFF(15,"Header Details"),e.k0s()(),e.j41(16,"div",17)(17,"div",18)(18,"div",19)(19,"mat-form-field",20)(20,"mat-label"),e.EFF(21,"Code"),e.k0s(),e.nrm(22,"input",21)(23,"mat-validation-message",22),e.k0s()(),e.j41(24,"div",19)(25,"mat-form-field",20)(26,"mat-label"),e.EFF(27,"Date"),e.k0s(),e.nrm(28,"input",23)(29,"mat-datepicker-toggle",24)(30,"mat-datepicker",null,1)(32,"mat-validation-message",22),e.k0s()(),e.j41(33,"div",19)(34,"mat-form-field",20)(35,"mat-label"),e.EFF(36,"Company"),e.k0s(),e.j41(37,"mat-select",25),e.DNE(38,te,2,2,"mat-option",26),e.k0s(),e.nrm(39,"mat-validation-message",22),e.k0s()(),e.j41(40,"div",19)(41,"mat-form-field",20)(42,"mat-label"),e.EFF(43,"Inspected By"),e.k0s(),e.j41(44,"mat-select",27),e.DNE(45,ie,2,2,"mat-option",26),e.k0s(),e.nrm(46,"mat-validation-message",22),e.k0s()(),e.j41(47,"div",19)(48,"mat-form-field",20)(49,"mat-label"),e.EFF(50,"Time In"),e.k0s(),e.nrm(51,"input",28)(52,"ngx-material-timepicker",null,2),e.DNE(54,re,2,0,"mat-error",29),e.k0s()(),e.j41(55,"div",19)(56,"mat-form-field",20)(57,"mat-label"),e.EFF(58,"Time Out"),e.k0s(),e.j41(59,"input",30),e.bIt("ngModelChange",function(s){return e.eBV(a),e.Njj(r.OnTimeOut(s))}),e.k0s(),e.nrm(60,"ngx-material-timepicker",null,3),e.DNE(62,ne,2,0,"mat-error",29),e.k0s()(),e.j41(63,"div",19)(64,"mat-form-field",20)(65,"mat-label"),e.EFF(66,"Total Time at Dock"),e.k0s(),e.nrm(67,"input",31),e.k0s()(),e.j41(68,"div",19)(69,"mat-form-field",20)(70,"mat-label"),e.EFF(71,"TimeOfInspection"),e.k0s(),e.j41(72,"input",32),e.bIt("ngModelChange",function(s){return e.eBV(a),e.Njj(r.OnInspectionTime(s))}),e.k0s(),e.nrm(73,"ngx-material-timepicker",null,4),e.DNE(75,oe,2,0,"mat-error",29),e.k0s()(),e.j41(76,"div",19)(77,"mat-label"),e.EFF(78,"Mode"),e.k0s(),e.j41(79,"mat-radio-group",33)(80,"mat-radio-button",34),e.EFF(81,"Outgoing"),e.k0s(),e.j41(82,"mat-radio-button",35),e.EFF(83,"Incoming"),e.k0s()()(),e.j41(84,"div",19)(85,"mat-form-field",20)(86,"mat-label"),e.EFF(87,"Driver Name"),e.k0s(),e.nrm(88,"input",36)(89,"mat-validation-message",22),e.k0s()(),e.j41(90,"div",19)(91,"mat-form-field",20)(92,"mat-label"),e.EFF(93,"Vehicle Type"),e.k0s(),e.j41(94,"mat-select",37),e.DNE(95,se,2,2,"mat-option",26),e.k0s(),e.nrm(96,"mat-validation-message",22),e.k0s()(),e.j41(97,"div",19)(98,"mat-form-field",20)(99,"mat-label"),e.EFF(100,"License Plate No"),e.k0s(),e.nrm(101,"input",38)(102,"mat-validation-message",22),e.k0s()(),e.j41(103,"div",19)(104,"mat-form-field",20)(105,"mat-label"),e.EFF(106,"Trailer No"),e.k0s(),e.nrm(107,"input",39)(108,"mat-validation-message",22),e.k0s()(),e.j41(109,"div",19)(110,"mat-form-field",20)(111,"mat-label"),e.EFF(112,"Truck No"),e.k0s(),e.nrm(113,"input",40)(114,"mat-validation-message",22),e.k0s()()(),e.j41(115,"div",18)(116,"div",19)(117,"mat-label"),e.EFF(118,"Vehicle Accepted or Rejected?"),e.k0s(),e.j41(119,"mat-radio-group",41)(120,"mat-radio-button",42),e.EFF(121,"Accepted"),e.k0s(),e.j41(122,"mat-radio-button",43),e.EFF(123,"Rejected"),e.k0s()()(),e.DNE(124,ae,6,3,"div",44),e.k0s()()(),e.j41(125,"div",15)(126,"div",45)(127,"h5",10),e.EFF(128,"Specifications"),e.k0s()(),e.j41(129,"div",17)(130,"div",18)(131,"div",46)(132,"p"),e.EFF(133,"Is the interior and exterior of the vehicle clean and free of debris?"),e.k0s()(),e.j41(134,"div",47)(135,"mat-radio-group",48)(136,"mat-radio-button",49),e.EFF(137,"Pass"),e.k0s(),e.j41(138,"mat-radio-button",50),e.EFF(139,"Fail"),e.k0s()()(),e.j41(140,"div",46)(141,"mat-form-field",20)(142,"mat-label"),e.EFF(143,"Notes"),e.k0s(),e.nrm(144,"input",51),e.k0s()()(),e.j41(145,"div",18)(146,"div",46)(147,"p"),e.EFF(148,"Are there any foreign orders coming from the trailer?"),e.k0s()(),e.j41(149,"div",47)(150,"mat-radio-group",52)(151,"mat-radio-button",49),e.EFF(152,"Pass"),e.k0s(),e.j41(153,"mat-radio-button",50),e.EFF(154,"Fail"),e.k0s()()(),e.j41(155,"div",46)(156,"mat-form-field",20)(157,"mat-label"),e.EFF(158,"Notes"),e.k0s(),e.nrm(159,"input",53),e.k0s()()(),e.j41(160,"div",18)(161,"div",46)(162,"p"),e.EFF(163,"Are the doors able to lock and close properly?"),e.k0s()(),e.j41(164,"div",47)(165,"mat-radio-group",54)(166,"mat-radio-button",49),e.EFF(167,"Pass"),e.k0s(),e.j41(168,"mat-radio-button",50),e.EFF(169,"Fail"),e.k0s()()(),e.j41(170,"div",46)(171,"mat-form-field",20)(172,"mat-label"),e.EFF(173,"Notes"),e.k0s(),e.nrm(174,"input",55),e.k0s()()(),e.j41(175,"div",18)(176,"div",46)(177,"p"),e.EFF(178,"Has the load been transported or is going to be transported in a way which could have impacted its quality safety or overall integrity?"),e.k0s()(),e.j41(179,"div",47)(180,"mat-radio-group",56)(181,"mat-radio-button",49),e.EFF(182,"Pass"),e.k0s(),e.j41(183,"mat-radio-button",50),e.EFF(184,"Fail"),e.k0s()()(),e.j41(185,"div",46)(186,"mat-form-field",20)(187,"mat-label"),e.EFF(188,"Notes"),e.k0s(),e.nrm(189,"input",57),e.k0s()()(),e.j41(190,"div",18)(191,"div",46)(192,"p"),e.EFF(193,"Are the floors in good condition?"),e.k0s()(),e.j41(194,"div",47)(195,"mat-radio-group",58)(196,"mat-radio-button",49),e.EFF(197,"Pass"),e.k0s(),e.j41(198,"mat-radio-button",50),e.EFF(199,"Fail"),e.k0s()()(),e.j41(200,"div",46)(201,"mat-form-field",20)(202,"mat-label"),e.EFF(203,"Notes"),e.k0s(),e.nrm(204,"input",59),e.k0s()()(),e.j41(205,"div",18)(206,"div",46)(207,"p"),e.EFF(208,"Are any major holes or openings present on the trailer?"),e.k0s()(),e.j41(209,"div",47)(210,"mat-radio-group",60)(211,"mat-radio-button",49),e.EFF(212,"Pass"),e.k0s(),e.j41(213,"mat-radio-button",50),e.EFF(214,"Fail"),e.k0s()()(),e.j41(215,"div",46)(216,"mat-form-field",20)(217,"mat-label"),e.EFF(218,"Notes"),e.k0s(),e.nrm(219,"input",61),e.k0s()()(),e.j41(220,"div",18)(221,"div",46)(222,"p"),e.EFF(223,"Is the overall structure of the vehicle and trailer intact and in safe working order?"),e.k0s()(),e.j41(224,"div",47)(225,"mat-radio-group",62)(226,"mat-radio-button",49),e.EFF(227,"Pass"),e.k0s(),e.j41(228,"mat-radio-button",50),e.EFF(229,"Fail"),e.k0s()()(),e.j41(230,"div",46)(231,"mat-form-field",20)(232,"mat-label"),e.EFF(233,"Notes"),e.k0s(),e.nrm(234,"input",63),e.k0s()()(),e.j41(235,"div",18)(236,"div",46)(237,"p"),e.EFF(238,"Is there any major water damage or rust present?"),e.k0s()(),e.j41(239,"div",47)(240,"mat-radio-group",64)(241,"mat-radio-button",49),e.EFF(242,"Pass"),e.k0s(),e.j41(243,"mat-radio-button",50),e.EFF(244,"Fail"),e.k0s()()(),e.j41(245,"div",46)(246,"mat-form-field",20)(247,"mat-label"),e.EFF(248,"Notes"),e.k0s(),e.nrm(249,"input",65),e.k0s()()(),e.j41(250,"div",18)(251,"div",46)(252,"p"),e.EFF(253,"(If applicable) was/is the correct temperature setting used for transporting the load?"),e.k0s()(),e.j41(254,"div",47)(255,"mat-radio-group",66)(256,"mat-radio-button",49),e.EFF(257,"Pass"),e.k0s(),e.j41(258,"mat-radio-button",50),e.EFF(259,"Fail"),e.k0s()()(),e.j41(260,"div",46)(261,"mat-form-field",20)(262,"mat-label"),e.EFF(263,"Notes"),e.k0s(),e.nrm(264,"input",67),e.k0s()()()()(),e.j41(265,"div",18)(266,"div",68)(267,"button",69),e.EFF(268,"Save"),e.k0s()()()()()()()}if(2&n){const a=e.sdS(31),l=e.sdS(53),s=e.sdS(61),p=e.sdS(74);e.R7$(9),e.Y8G("authPermission",r.page+"_"+r.permissions.list),e.R7$(),e.Y8G("formGroup",r.trailerInspectionForm),e.R7$(12),e.Y8G("disabled",!0),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.Code)("message","Code")("formSubmitted",r.isFormSubmitted),e.R7$(5),e.Y8G("matDatepicker",a)("min",r.getToday()),e.R7$(),e.Y8G("for",a),e.R7$(3),e.Y8G("control",r.trailerInspectionForm.controls.Date)("message","Date Time")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("ngForOf",r.companyList),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.CompanyId)("message","Company Id")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("ngForOf",r.usersList),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.InspectedById)("message","Inspected By Id")("formSubmitted",r.isFormSubmitted),e.R7$(5),e.Y8G("ngxTimepicker",l),e.R7$(3),e.Y8G("ngIf",r.trailerInspectionForm.get("TimeIn").hasError("required")),e.R7$(5),e.Y8G("ngxTimepicker",s),e.R7$(3),e.Y8G("ngIf",r.trailerInspectionForm.get("TimeOut").hasError("required")),e.R7$(10),e.Y8G("ngxTimepicker",p),e.R7$(3),e.Y8G("ngIf",r.trailerInspectionForm.get("TimeOfInspection").hasError("required")),e.R7$(14),e.Y8G("control",r.trailerInspectionForm.controls.DriverName)("message","Driver Name")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("ngForOf",r.vehicleTypeList),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.VehicleTypeId)("message","Vehicle Type")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("control",r.trailerInspectionForm.controls.LicensePlateNo)("message","License Plate No")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("control",r.trailerInspectionForm.controls.TrailerNo)("message","Trailer No")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("control",r.trailerInspectionForm.controls.TruckNo)("message","Truck No")("formSubmitted",r.isFormSubmitted),e.R7$(10),e.Y8G("ngIf","Rejected"===r.trailerInspectionForm.get("VehicleStatus").value)}},dependencies:[f.Sq,f.bT,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,N.It,N.$z,F.rl,F.nJ,F.TL,F.yw,K.fg,z.VO,Q.wT,C.Vh,C.bZ,C.bU,R.VT,R._g,O.B,Z.T,q.r,b.zk,b.v2],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.full-width[_ngcontent-%COMP%]{width:100%}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}"]})}return i})();const le=[{path:"",component:D,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:P,canActivate:[m.LL],data:{page:m.Wt.trailerInspection,title:"TrailerInspection"}},{path:"add",canActivate:[m.LL],data:{page:m.Wt.trailerInspection,title:"TrailerInspection"},component:S},{path:"edit/:id",canActivate:[m.LL],data:{page:m.Wt.trailerInspection,title:"TrailerInspection"},component:S}]}];let ce=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[u.iI.forChild(le),u.iI]})}return i})();var me=o(71774),de=o(99830);let pe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({providers:[v,(0,de._c)()],imports:[f.MD,ce,me.Gg,b.c9]})}return i})()}}]);