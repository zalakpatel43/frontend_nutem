"use strict";(self.webpackChunkskyward_nutem=self.webpackChunkskyward_nutem||[]).push([[535],{6441:(_,v,o)=>{o.d(v,{L:()=>N});var u=o(4438),h=o(4532),e=o(8498);let N=(()=>{class m{constructor(I,g){this.permissionService=I,this.router=g}canActivate(I,g){return!!this.permissionService.hasPermission(I.data.permission)||(this.router.navigate(["/unauthorized"]),!1)}static#e=this.\u0275fac=function(g){return new(g||m)(u.KVO(h.n),u.KVO(e.Ix))};static#t=this.\u0275prov=u.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},3535:(_,v,o)=>{o.r(v),o.d(v,{TrailerInspectionModule:()=>fe});var u=o(177),h=o(8498),e=o(4438);let N=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-trailer-inspection"]],decls:1,vars:0,template:function(n,r){1&n&&e.nrm(0,"router-outlet")},dependencies:[h.n3]})}return i})();var m=o(4434),M=o(1626);let I=(()=>{class i{constructor(t,n){this.http=t,this._baseService=n}getTrailerInspectionList(){return this.http.get(`${m.T6.TrailerInspectionList}`)}getComapnyList(){return this.http.get(`${m.T6.CompanyMasterList}`)}getVehicleTypeList(){return this.http.get(`${m.T6.VehicleTypeMasterList}`)}addTrailerInspection(t){return this.http.post(`${m.T6.TrailerInspectionAdd}`,t)}updateTrailerInspection(t){return this.http.post(`${m.T6.TrailerInspectionEdit}`,t)}getByIdTrailerInspection(t){return this.http.get(`${m.T6.TrailerInspectionGetById}?id=`+t)}DeleteTrailerInspection(t){return this.http.get(`${m.T6.TrailerInspectionDelete}?Id=`+t)}static#e=this.\u0275fac=function(n){return new(n||i)(e.KVO(M.Qq),e.KVO(m.dD))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var g=o(5794),b=o(4532),E=o(8834),G=o(9213),S=o(3380),L=o(6081);const $=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),w=()=>["../","add"],x=i=>["..","edit",i];function U(i,a){1&i&&(e.j41(0,"a",18)(1,"span"),e.EFF(2,"Add New"),e.k0s(),e.nrm(3,"i",19),e.k0s()),2&i&&e.Y8G("routerLink",e.lJ4(1,w))}function V(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=a.value;e.R7$(),e.JRh(e.i5U(2,1,t,"MM/dd/yyyy hh:mm a"))}}function Y(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=a.value;e.R7$(),e.JRh(t)}}function B(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=a.value;e.R7$(),e.JRh(t)}}function W(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=a.value;e.R7$(),e.JRh(t)}}function H(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=a.value;e.R7$(),e.JRh(t)}}function X(i,a){if(1&i&&(e.j41(0,"a",23)(1,"mat-icon"),e.EFF(2,"edit"),e.k0s()()),2&i){const t=e.XpG().row;e.Y8G("routerLink",e.eq3(1,x,t.id))}}function J(i,a){if(1&i){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const r=e.XpG().row,l=e.XpG(2);return e.Njj(l.removeWeightCheck(r.id))}),e.j41(1,"mat-icon"),e.EFF(2,"close"),e.k0s()()}}function K(i,a){if(1&i&&e.DNE(0,X,3,3,"a",21)(1,J,3,0,"button",22),2&i){const t=e.XpG(2);e.Y8G("ngIf",t.IsEditPermission),e.R7$(),e.Y8G("ngIf",t.IsDeletePermission)}}function z(i,a){1&i&&(e.j41(0,"ngx-datatable-column",20),e.DNE(1,K,2,2,"ng-template",12),e.k0s()),2&i&&e.Y8G("sortable",!1)}let R=(()=>{class i{constructor(t,n,r){this.trailerInspectionService=t,this.notificationService=n,this.permissionService=r,this.trailerInspectionData=[],this.page=m.Wt.trailerInspection,this.permissions=m.eZ,this.searchData={},this.showDeleteModal=!1,this.IsAddPemission=!1,this.IsEditPermission=!1,this.IsDeletePermission=!1}ngOnInit(){this.IsAddPemission=this.permissionService.hasPermission("Trailer Inspection (PER_TRAILERINSPECTION) - Add"),this.IsEditPermission=this.permissionService.hasPermission("Trailer Inspection (PER_TRAILERINSPECTION) - Edit"),this.IsDeletePermission=this.permissionService.hasPermission("Trailer Inspection (PER_TRAILERINSPECTION) - Delete"),this.getTrailerInspectionData()}getTrailerInspectionData(){this.loading=!0,this.trailerInspectionService.getTrailerInspectionList().subscribe(t=>{this.trailerInspectionData=t,this.loading=!1},t=>{this.error=t,this.loading=!1})}removeWeightCheck(t){confirm("Are you sure, you want to delete this Trailer Inspection?")&&this.trailerInspectionService.DeleteTrailerInspection(t).subscribe(()=>{this.getTrailerInspectionData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(t){this.searchData=Object.assign({},t)}isActiveRow(t){return{"text-danger":!t.isActive}}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(I),e.rXU(g.tw),e.rXU(b.n))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-list"]],decls:24,vars:15,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","class","app-button btn",3,"routerLink",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","messages"],["name","Date","prop","date"],["ngx-datatable-cell-template",""],["name","Company Name","prop","companyName"],["name","Driver Name","prop","driverName"],["name","Vehicle Type Name","prop","vehicleTypeName"],["name","License Plate No","prop","licensePlateNo"],["name","Actions",3,"sortable",4,"ngIf"],["mat-flat-button","",1,"app-button","btn",3,"routerLink"],[1,"icon-plus"],["name","Actions",3,"sortable"],["class","button-padding icon-green",3,"routerLink",4,"ngIf"],["type","button","style","border: none; background-color: white; color: red;",3,"click",4,"ngIf"],[1,"button-padding","icon-green",3,"routerLink"],["type","button",2,"border","none","background-color","white","color","red",3,"click"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e.EFF(6,"Trailer Inspection List"),e.k0s()(),e.j41(7,"div",6),e.DNE(8,U,4,2,"a",7),e.k0s()(),e.j41(9,"div",8)(10,"div",9)(11,"ngx-datatable",10),e.nI1(12,"searchtable"),e.j41(13,"ngx-datatable-column",11),e.DNE(14,V,3,4,"ng-template",12),e.k0s(),e.j41(15,"ngx-datatable-column",13),e.DNE(16,Y,2,1,"ng-template",12),e.k0s(),e.j41(17,"ngx-datatable-column",14),e.DNE(18,B,2,1,"ng-template",12),e.k0s(),e.j41(19,"ngx-datatable-column",15),e.DNE(20,W,2,1,"ng-template",12),e.k0s(),e.j41(21,"ngx-datatable-column",16),e.DNE(22,H,2,1,"ng-template",12),e.k0s(),e.DNE(23,z,2,1,"ngx-datatable-column",17),e.k0s()()()()()()),2&n&&(e.R7$(8),e.Y8G("ngIf",r.IsAddPemission),e.R7$(3),e.Y8G("rows",e.i5U(12,11,r.trailerInspectionData,r.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",r.loading)("scrollbarH",!0)("messages",e.lJ4(14,$)),e.R7$(12),e.Y8G("ngIf",r.IsEditPermission||r.IsDeletePermission))},dependencies:[u.bT,h.Wk,E.It,G.An,S.ge,S.ed,S.QI,u.vh,L.j],styles:[".ngx-datatable .datatable-header-cell{background-color:#17bb58!important;color:#fff!important}.icon-green[_ngcontent-%COMP%]{color:green}.btn[_ngcontent-%COMP%]{background-color:#17bb58!important;color:#fff!important}  .ngx-datatable.material .datatable-body .progress-linear .container{background-color:#90ee90}  .ngx-datatable.material .datatable-body .progress-linear .container .bar{background-color:green}"]})}return i})();var d=o(9417),Q=o(1528),k=o(2102),Z=o(9631),q=o(2798),ee=o(6600),D=o(5084),A=o(5951),te=o(8777),ie=o(7133),y=o(2356);function re(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",69),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.cancel())}),e.EFF(1," View List "),e.k0s()}}function ne(i,a){if(1&i&&(e.j41(0,"mat-option",70),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.companyName," ")}}function oe(i,a){if(1&i&&(e.j41(0,"mat-option",70),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function se(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Time In is required "),e.k0s())}function ae(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Time Out is required "),e.k0s())}function le(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Time Of Inspection is required "),e.k0s())}function ce(i,a){if(1&i&&(e.j41(0,"mat-option",70),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function me(i,a){if(1&i&&(e.j41(0,"div",71)(1,"mat-form-field",20)(2,"mat-label"),e.EFF(3,"Reason for Rejection"),e.k0s(),e.nrm(4,"textarea",72)(5,"mat-validation-message",23),e.k0s()()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("control",t.trailerInspectionForm.controls.RejectionReason)("message","RejectionReason")("formSubmitted",t.isFormSubmitted)}}let O=(()=>{class i{constructor(t,n,r,l,c,s,p){this.activatedRoute=t,this.router=n,this.formBuilder=r,this.weightCheckService=l,this.notificationService=c,this.trailerInspectionService=s,this.permissionService=p,this.page=m.Wt.trailerInspection,this.permissions=m.eZ,this.companyList=[],this.vehicleTypeList=[],this.usersList=[],this.isFormError=!1,this.IsViewPermission=!1,this.createForm()}ngOnInit(){this.getRoute(),this.loadDropdowns(),this.IsViewPermission=this.permissionService.hasPermission("Trailer Inspection (PER_TRAILERINSPECTION) - View")}getRoute(){this.routerSub=this.activatedRoute.params.subscribe(t=>{this.isEditMode=!m.ov.isEmpty(t.id),this.createForm(),this.isEditMode&&(this.trailerInspectionId=t.id,this.getTrailerInspectionById())})}getTrailerInspectionById(){this.trailerInspectionService.getByIdTrailerInspection(this.trailerInspectionId).subscribe(t=>{this.trailerInspectionData=t,this.setWeightCheckData()},t=>{console.log(t)})}setWeightCheckData(){const t=n=>new Date(n).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});this.trailerInspectionForm.patchValue({Code:this.trailerInspectionData.code,Date:this.trailerInspectionData.date,CompanyId:this.trailerInspectionData.companyId,InspectedById:this.trailerInspectionData.inspectedById,TimeIn:t(this.trailerInspectionData.timeIn),TimeOut:t(this.trailerInspectionData.timeOut),TotalTime:this.trailerInspectionData.totalTime,TimeOfInspection:t(this.trailerInspectionData.timeOfInspection),Mode:this.trailerInspectionData.mode,DriverName:this.trailerInspectionData.driverName,VehicleTypeId:this.trailerInspectionData.vehicleTypeId,LicensePlateNo:this.trailerInspectionData.licensePlateNo,TrailerNo:this.trailerInspectionData.trailerNo,TruckNo:this.trailerInspectionData.truckNo,VehicleStatus:this.trailerInspectionData.vehicleStatus,RejectionReason:this.trailerInspectionData.rejectionReason,VehicleCleanAns:this.trailerInspectionData.vehicleCleanAns,VehicleCleanNotes:this.trailerInspectionData.vehicleCleanNotes,ComingOrderFromForeignAns:this.trailerInspectionData.comingOrderFromForeignAns,ComingOrderFromForeignNotes:this.trailerInspectionData.comingOrderFromForeignNotes,DoorCloseProperlyAns:this.trailerInspectionData.doorCloseProperlyAns,DoorCloseProperlyNotes:this.trailerInspectionData.doorCloseProperlyNotes,OverallIntegrityAns:this.trailerInspectionData.overallIntegrityAns,OverallIntegrityNotes:this.trailerInspectionData.overallIntegrityNotes,FloorInGoodConditionAns:this.trailerInspectionData.floorInGoodConditionAns,FloorInGoodConditionNotes:this.trailerInspectionData.floorInGoodConditionNotes,PresentOnTrailerAns:this.trailerInspectionData.presentOnTrailerAns,PresentOnTrailerNotes:this.trailerInspectionData.presentOnTrailerNotes,SafeWorkingOrderAns:this.trailerInspectionData.safeWorkingOrderAns,SafeWorkingOrderNotes:this.trailerInspectionData.safeWorkingOrderNotes,IsRustPresentAns:this.trailerInspectionData.isRustPresentAns,IsRustPresentNotes:this.trailerInspectionData.isRustPresentNotes,TemperatureSettingUsedAns:this.trailerInspectionData.temperatureSettingUsedAns,TemperatureSettingUsedNotes:this.trailerInspectionData.temperatureSettingUsedNotes}),this.trailerInspectionForm.get("TimeIn").disable(),this.trailerInspectionForm.get("TimeOut").disable(),this.trailerInspectionForm.get("TotalTime").disable(),this.trailerInspectionForm.get("TimeOfInspection").disable()}loadDropdowns(){this.trailerInspectionService.getComapnyList().subscribe(t=>{this.companyList=t}),this.trailerInspectionService.getVehicleTypeList().subscribe(t=>{this.vehicleTypeList=t}),this.weightCheckService.getUserList().subscribe(t=>{this.usersList=t})}createForm(){this.trailerInspectionForm=this.formBuilder.group({Code:[{value:"",disabled:!0},[d.k0.required]],Date:["",[d.k0.required]],CompanyId:["",[d.k0.required]],InspectedById:["",[d.k0.required]],TimeIn:["",[d.k0.required]],TimeOut:["",[d.k0.required]],TotalTime:["",[d.k0.required]],TimeOfInspection:["",[d.k0.required]],Mode:["Outgoing",[]],DriverName:["",[d.k0.required]],VehicleTypeId:["",[d.k0.required]],LicensePlateNo:["",[d.k0.required]],TrailerNo:["",[]],TruckNo:["",[]],VehicleStatus:["Accepted",[]],RejectionReason:["",[]],VehicleCleanAns:["Pass",[]],VehicleCleanNotes:["",[]],ComingOrderFromForeignAns:["Pass",[]],ComingOrderFromForeignNotes:["",[]],DoorCloseProperlyAns:["Pass",[]],DoorCloseProperlyNotes:["",[]],OverallIntegrityAns:["Pass",[]],OverallIntegrityNotes:["",[]],FloorInGoodConditionAns:["Pass",[]],FloorInGoodConditionNotes:["",[]],PresentOnTrailerAns:["Pass",[]],PresentOnTrailerNotes:["",[]],SafeWorkingOrderAns:["Pass",[]],SafeWorkingOrderNotes:["",[]],IsRustPresentAns:["Pass",[]],IsRustPresentNotes:["",[]],TemperatureSettingUsedAns:["Pass",[]],TemperatureSettingUsedNotes:["",[]]}),this.trailerInspectionForm.controls.Date.setValue((new Date).toISOString().split("T")[0])}getToday(){return(new Date).toISOString().split("T")[0]}OnTimeOut(t){const n=this.trailerInspectionForm.get("TimeIn").value,r=this.trailerInspectionForm.get("TimeOut").value;if(!n)return this.notificationService.error("select Time in "),this.trailerInspectionForm.get("TimeOut").setValue(""),void(this.isFormError=!0);if(n&&r){const l=this.parseTime(n),c=this.parseTime(r);if(l>=c)return this.notificationService.error("Time out should be greater than Time in "),this.trailerInspectionForm.get("TimeOut").setValue(""),void(this.isFormError=!0);if(l<c){const p=Math.floor((c-l)/6e4),F=Math.floor(p/60),T=p%60;this.trailerInspectionForm.get("TotalTime").setValue(`${F}:${T<10?"0":""}${T}`),this.isFormError=!1}else this.trailerInspectionForm.get("TotalTime").setValue(""),this.isFormError=!0}}OnInspectionTime(t){const n=this.trailerInspectionForm.get("TimeIn").value,r=this.trailerInspectionForm.get("TimeOut").value,l=this.trailerInspectionForm.get("TimeOfInspection").value;if(!n)return this.notificationService.error("select Time in "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);if(!r)return this.notificationService.error("select Time out "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);if(n&&r){const c=this.parseTime(n),s=this.parseTime(r),p=this.parseTime(l);if(p<c)return this.notificationService.error("Inspection time should be greater than Time in "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);if(p>s)return this.notificationService.error("Inspection time should be less than Time out "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);p>=c&&p<=s?this.isFormError=!1:(this.trailerInspectionForm.get("TimeOfInspection").setValue(""),this.isFormError=!0)}}parseTime(t){const[n,r]=t.split(" ");let[l,c]=n.split(":").map(Number);"PM"===r&&l<12&&(l+=12),"AM"===r&&12===l&&(l=0);const s=new Date;return s.setHours(l),s.setMinutes(c),s.setSeconds(0),s.setMilliseconds(0),s.getTime()}createTrailerInspection(t){this.trailerInspectionService.addTrailerInspection(t).subscribe(()=>{this.cancel(),this.notificationService.success("Trailer Inspection created successfully.")},n=>{this.error=n})}updateTrailerInspection(t){this.trailerInspectionService.updateTrailerInspection(t).subscribe(()=>{this.cancel(),this.notificationService.success("Trailer Inspection  updated successfully.")},n=>{this.error=n})}save(){if(this.isFormSubmitted=!0,!this.trailerInspectionForm.invalid){let t=this.trailerInspectionForm.value;if(this.validateFOrm(t)){let r=this.transformData(t);this.isEditMode?this.updateTrailerInspection(r):this.createTrailerInspection(r)}}}validateFOrm(t){return this.isFormError?(this.notificationService.error("please check time issue"),!1):"Fail"===t.VehicleCleanAns&&0==t.VehicleCleanNotes.trim().length?(this.notificationService.error("enter Vehicle Clean Notes"),!1):"Fail"===t.ComingOrderFromForeignAns&&0==t.ComingOrderFromForeignNotes.trim().length?(this.notificationService.error("enter Coming Order From Foreign  Notes"),!1):"Fail"===t.DoorCloseProperlyAns&&0==t.DoorCloseProperlyNotes.trim().length?(this.notificationService.error("enter Door Close Properly Notes"),!1):"Fail"===t.OverallIntegrityAns&&0==t.OverallIntegrityNotes.trim().length?(this.notificationService.error("enter Overall Integrity Notes"),!1):"Fail"===t.FloorInGoodConditionAns&&0==t.FloorInGoodConditionNotes.trim().length?(this.notificationService.error("enter Floor In Good Condition Notes"),!1):"Fail"===t.PresentOnTrailerAns&&0==t.PresentOnTrailerNotes.trim().length?(this.notificationService.error("enter Present On Trailer Notes"),!1):"Fail"===t.SafeWorkingOrderAns&&0==t.SafeWorkingOrderNotes.trim().length?(this.notificationService.error("enter Safe Working Order Notes"),!1):"Fail"===t.IsRustPresentAns&&0==t.IsRustPresentNotes.trim().length?(this.notificationService.error("enter Is Rust Present Notes"),!1):"Fail"===t.TemperatureSettingUsedAns&&0==t.TemperatureSettingUsedNotes.trim().length?(this.notificationService.error("enter Temperature Setting Used Notes"),!1):!!("Rejected"!==t.VehicleStatus||0!=t.RejectionReason.length&&t.RejectionReason.trim())||(this.notificationService.error("Reason for Rejection required"),!1)}transformData(t){function r(c){const p=c.match(/(\d{1,2}):(\d{2}) (AM|PM)/i);if(!p)throw new Error("Invalid time format");let[,F,T,C]=p,f=parseInt(F,10);const Te=parseInt(T,10);"AM"===C.toUpperCase()?12===f&&(f=0):"PM"===C.toUpperCase()&&12!==f&&(f+=12);const Fe=f.toString().padStart(2,"0"),ve=Te.toString().padStart(2,"0"),j=new Date;return`${j.getFullYear()}-${(j.getMonth()+1).toString().padStart(2,"0")}-${j.getDate().toString().padStart(2,"0")}T${Fe}:${ve}`}return{Id:this.isEditMode?this.trailerInspectionData.id:0,Code:this.isEditMode?this.trailerInspectionData.code:"",Date:function n(c){const s=new Date(c);if(isNaN(s.getTime()))throw new Error("Invalid date string provided");return`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}T${String(s.getHours()).padStart(2,"0")}:${String(s.getMinutes()).padStart(2,"0")}`}(t.Date),CompanyId:t.CompanyId,InspectedById:t.InspectedById,TimeIn:this.isEditMode?this.trailerInspectionData.timeIn:r(t.TimeIn),TimeOut:this.isEditMode?this.trailerInspectionData.timeOut:r(t.TimeOut),TotalTime:this.isEditMode?this.trailerInspectionData.totalTime:t.TotalTime.toString(),TimeOfInspection:this.isEditMode?this.trailerInspectionData.timeOfInspection:r(t.TimeOfInspection),Mode:t.Mode,DriverName:t.DriverName,VehicleTypeId:t.VehicleTypeId,LicensePlateNo:t.LicensePlateNo||"",TrailerNo:t.TrailerNo||"",TruckNo:t.TruckNo||"",VehicleStatus:t.VehicleStatus,RejectionReason:t.RejectionReason,VehicleCleanAns:t.VehicleCleanAns,VehicleCleanNotes:t.VehicleCleanNotes,ComingOrderFromForeignAns:t.ComingOrderFromForeignAns,ComingOrderFromForeignNotes:t.ComingOrderFromForeignNotes,DoorCloseProperlyAns:t.DoorCloseProperlyAns,DoorCloseProperlyNotes:t.DoorCloseProperlyNotes,OverallIntegrityAns:t.OverallIntegrityAns,OverallIntegrityNotes:t.OverallIntegrityNotes,FloorInGoodConditionAns:t.FloorInGoodConditionAns,FloorInGoodConditionNotes:t.FloorInGoodConditionNotes,PresentOnTrailerAns:t.PresentOnTrailerAns,PresentOnTrailerNotes:t.PresentOnTrailerNotes,SafeWorkingOrderAns:t.SafeWorkingOrderAns,SafeWorkingOrderNotes:t.SafeWorkingOrderNotes,IsRustPresentAns:t.IsRustPresentAns,IsRustPresentNotes:t.IsRustPresentNotes,TemperatureSettingUsedAns:t.TemperatureSettingUsedAns,TemperatureSettingUsedNotes:t.TemperatureSettingUsedNotes}}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}ngOnDestroy(){this.routerSub.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(h.nX),e.rXU(h.Ix),e.rXU(d.ze),e.rXU(Q.Q),e.rXU(g.tw),e.rXU(I),e.rXU(b.n))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-add-edit"]],decls:263,vars:39,consts:[["form","ngForm"],["pickerStart",""],["timepicker",""],["timeOutPicker",""],["InspectionPicker",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","class","app-button back-Green",3,"click",4,"ngIf"],["novalidate","",1,"app-form",3,"submit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],["appearance","fill",1,"full-width"],["matInput","","formControlName","Date",3,"matDatepicker","min"],["matSuffix","",3,"for"],[3,"control","message","formSubmitted"],["formControlName","CompanyId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","InspectedById"],["matInput","","placeholder","Select time","formControlName","TimeIn",3,"ngxTimepicker"],[4,"ngIf"],["matInput","","placeholder","Select time","formControlName","TimeOut",3,"ngModelChange","ngxTimepicker"],["matInput","","formControlName","TotalTime","readonly",""],["matInput","","placeholder","Select time","formControlName","TimeOfInspection",3,"ngModelChange","ngxTimepicker"],["formControlName","Mode",1,"d-flex"],["value","Outgoing"],["value","Incoming"],["matInput","","formControlName","DriverName"],["formControlName","VehicleTypeId"],["matInput","","formControlName","LicensePlateNo"],["matInput","","formControlName","TrailerNo"],["matInput","","formControlName","TruckNo"],["formControlName","VehicleStatus",1,"d-flex"],["value","Accepted"],["value","Rejected"],["class","col-12 col-sm-12 col-md-12 col-lg-12 mb-3",4,"ngIf"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"col-12","col-sm-12","col-md-5","col-lg-5","mb-3"],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3"],["formControlName","VehicleCleanAns"],["value","Pass"],["value","Fail"],["matInput","","formControlName","VehicleCleanNotes"],["formControlName","ComingOrderFromForeignAns"],["matInput","","formControlName","ComingOrderFromForeignNotes"],["formControlName","DoorCloseProperlyAns"],["matInput","","formControlName","DoorCloseProperlyNotes"],["formControlName","OverallIntegrityAns"],["matInput","","formControlName","OverallIntegrityNotes"],["formControlName","FloorInGoodConditionAns"],["matInput","","formControlName","FloorInGoodConditionNotes"],["formControlName","PresentOnTrailerAns"],["matInput","","formControlName","PresentOnTrailerNotes"],["formControlName","SafeWorkingOrderAns"],["matInput","","formControlName","SafeWorkingOrderNotes"],["formControlName","IsRustPresentAns"],["matInput","","formControlName","IsRustPresentNotes"],["formControlName","TemperatureSettingUsedAns"],["matInput","","formControlName","TemperatureSettingUsedNotes"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","",1,"app-button","mr-1","back-Green"],["mat-flat-button","",1,"app-button","back-Green",3,"click"],[3,"value"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-3"],["matInput","","formControlName","RejectionReason"]],template:function(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"h4",10),e.nrm(6,"i",11),e.EFF(7," Add/Edit Trailer Inspection"),e.k0s()(),e.j41(8,"div",12),e.DNE(9,re,2,0,"a",13),e.k0s()(),e.j41(10,"form",14,0),e.bIt("submit",function(){return e.eBV(l),e.Njj(r.save())}),e.j41(12,"div",15)(13,"div",16)(14,"h5",10),e.EFF(15,"Header Details"),e.k0s()(),e.j41(16,"div",17)(17,"div",18)(18,"div",19)(19,"mat-form-field",20)(20,"mat-label"),e.EFF(21,"Date"),e.k0s(),e.nrm(22,"input",21)(23,"mat-datepicker-toggle",22)(24,"mat-datepicker",null,1)(26,"mat-validation-message",23),e.k0s()(),e.j41(27,"div",19)(28,"mat-form-field",20)(29,"mat-label"),e.EFF(30,"Company"),e.k0s(),e.j41(31,"mat-select",24),e.DNE(32,ne,2,2,"mat-option",25),e.k0s(),e.nrm(33,"mat-validation-message",23),e.k0s()(),e.j41(34,"div",19)(35,"mat-form-field",20)(36,"mat-label"),e.EFF(37,"Inspected By"),e.k0s(),e.j41(38,"mat-select",26),e.DNE(39,oe,2,2,"mat-option",25),e.k0s(),e.nrm(40,"mat-validation-message",23),e.k0s()(),e.j41(41,"div",19)(42,"mat-form-field",20)(43,"mat-label"),e.EFF(44,"Time In"),e.k0s(),e.nrm(45,"input",27)(46,"ngx-material-timepicker",null,2),e.DNE(48,se,2,0,"mat-error",28),e.k0s()(),e.j41(49,"div",19)(50,"mat-form-field",20)(51,"mat-label"),e.EFF(52,"Time Out"),e.k0s(),e.j41(53,"input",29),e.bIt("ngModelChange",function(s){return e.eBV(l),e.Njj(r.OnTimeOut(s))}),e.k0s(),e.nrm(54,"ngx-material-timepicker",null,3),e.DNE(56,ae,2,0,"mat-error",28),e.k0s()(),e.j41(57,"div",19)(58,"mat-form-field",20)(59,"mat-label"),e.EFF(60,"Total Time at Dock"),e.k0s(),e.nrm(61,"input",30),e.k0s()(),e.j41(62,"div",19)(63,"mat-form-field",20)(64,"mat-label"),e.EFF(65,"Time Of Inspection"),e.k0s(),e.j41(66,"input",31),e.bIt("ngModelChange",function(s){return e.eBV(l),e.Njj(r.OnInspectionTime(s))}),e.k0s(),e.nrm(67,"ngx-material-timepicker",null,4),e.DNE(69,le,2,0,"mat-error",28),e.k0s()(),e.j41(70,"div",19)(71,"mat-label"),e.EFF(72,"Mode"),e.k0s(),e.j41(73,"mat-radio-group",32)(74,"mat-radio-button",33),e.EFF(75,"Outgoing"),e.k0s(),e.j41(76,"mat-radio-button",34),e.EFF(77,"Incoming"),e.k0s()()(),e.j41(78,"div",19)(79,"mat-form-field",20)(80,"mat-label"),e.EFF(81,"Driver Name"),e.k0s(),e.nrm(82,"input",35)(83,"mat-validation-message",23),e.k0s()(),e.j41(84,"div",19)(85,"mat-form-field",20)(86,"mat-label"),e.EFF(87,"Vehicle Type"),e.k0s(),e.j41(88,"mat-select",36),e.DNE(89,ce,2,2,"mat-option",25),e.k0s(),e.nrm(90,"mat-validation-message",23),e.k0s()(),e.j41(91,"div",19)(92,"mat-form-field",20)(93,"mat-label"),e.EFF(94,"License Plate No"),e.k0s(),e.nrm(95,"input",37)(96,"mat-validation-message",23),e.k0s()(),e.j41(97,"div",19)(98,"mat-form-field",20)(99,"mat-label"),e.EFF(100,"Trailer No"),e.k0s(),e.nrm(101,"input",38)(102,"mat-validation-message",23),e.k0s()(),e.j41(103,"div",19)(104,"mat-form-field",20)(105,"mat-label"),e.EFF(106,"Truck No"),e.k0s(),e.nrm(107,"input",39)(108,"mat-validation-message",23),e.k0s()()(),e.j41(109,"div",18)(110,"div",19)(111,"mat-label"),e.EFF(112,"Vehicle Accepted or Rejected?"),e.k0s(),e.j41(113,"mat-radio-group",40)(114,"mat-radio-button",41),e.EFF(115,"Accepted"),e.k0s(),e.j41(116,"mat-radio-button",42),e.EFF(117,"Rejected"),e.k0s()()(),e.DNE(118,me,6,3,"div",43),e.k0s()()(),e.j41(119,"div",15)(120,"div",44)(121,"h5",10),e.EFF(122,"Specifications"),e.k0s()(),e.j41(123,"div",17)(124,"div",18)(125,"div",45)(126,"p"),e.EFF(127,"Is the interior and exterior of the vehicle clean and free of debris?"),e.k0s()(),e.j41(128,"div",46)(129,"mat-radio-group",47)(130,"mat-radio-button",48),e.EFF(131,"Pass"),e.k0s(),e.j41(132,"mat-radio-button",49),e.EFF(133,"Fail"),e.k0s()()(),e.j41(134,"div",45)(135,"mat-form-field",20)(136,"mat-label"),e.EFF(137,"Notes"),e.k0s(),e.nrm(138,"input",50),e.k0s()()(),e.j41(139,"div",18)(140,"div",45)(141,"p"),e.EFF(142,"Are there any foreign orders coming from the trailer?"),e.k0s()(),e.j41(143,"div",46)(144,"mat-radio-group",51)(145,"mat-radio-button",48),e.EFF(146,"Pass"),e.k0s(),e.j41(147,"mat-radio-button",49),e.EFF(148,"Fail"),e.k0s()()(),e.j41(149,"div",45)(150,"mat-form-field",20)(151,"mat-label"),e.EFF(152,"Notes"),e.k0s(),e.nrm(153,"input",52),e.k0s()()(),e.j41(154,"div",18)(155,"div",45)(156,"p"),e.EFF(157,"Are the doors able to lock and close properly?"),e.k0s()(),e.j41(158,"div",46)(159,"mat-radio-group",53)(160,"mat-radio-button",48),e.EFF(161,"Pass"),e.k0s(),e.j41(162,"mat-radio-button",49),e.EFF(163,"Fail"),e.k0s()()(),e.j41(164,"div",45)(165,"mat-form-field",20)(166,"mat-label"),e.EFF(167,"Notes"),e.k0s(),e.nrm(168,"input",54),e.k0s()()(),e.j41(169,"div",18)(170,"div",45)(171,"p"),e.EFF(172,"Has the load been transported or is going to be transported in a way which could have impacted its quality safety or overall integrity?"),e.k0s()(),e.j41(173,"div",46)(174,"mat-radio-group",55)(175,"mat-radio-button",48),e.EFF(176,"Pass"),e.k0s(),e.j41(177,"mat-radio-button",49),e.EFF(178,"Fail"),e.k0s()()(),e.j41(179,"div",45)(180,"mat-form-field",20)(181,"mat-label"),e.EFF(182,"Notes"),e.k0s(),e.nrm(183,"input",56),e.k0s()()(),e.j41(184,"div",18)(185,"div",45)(186,"p"),e.EFF(187,"Are the floors in good condition?"),e.k0s()(),e.j41(188,"div",46)(189,"mat-radio-group",57)(190,"mat-radio-button",48),e.EFF(191,"Pass"),e.k0s(),e.j41(192,"mat-radio-button",49),e.EFF(193,"Fail"),e.k0s()()(),e.j41(194,"div",45)(195,"mat-form-field",20)(196,"mat-label"),e.EFF(197,"Notes"),e.k0s(),e.nrm(198,"input",58),e.k0s()()(),e.j41(199,"div",18)(200,"div",45)(201,"p"),e.EFF(202,"Are any major holes or openings present on the trailer?"),e.k0s()(),e.j41(203,"div",46)(204,"mat-radio-group",59)(205,"mat-radio-button",48),e.EFF(206,"Pass"),e.k0s(),e.j41(207,"mat-radio-button",49),e.EFF(208,"Fail"),e.k0s()()(),e.j41(209,"div",45)(210,"mat-form-field",20)(211,"mat-label"),e.EFF(212,"Notes"),e.k0s(),e.nrm(213,"input",60),e.k0s()()(),e.j41(214,"div",18)(215,"div",45)(216,"p"),e.EFF(217,"Is the overall structure of the vehicle and trailer intact and in safe working order?"),e.k0s()(),e.j41(218,"div",46)(219,"mat-radio-group",61)(220,"mat-radio-button",48),e.EFF(221,"Pass"),e.k0s(),e.j41(222,"mat-radio-button",49),e.EFF(223,"Fail"),e.k0s()()(),e.j41(224,"div",45)(225,"mat-form-field",20)(226,"mat-label"),e.EFF(227,"Notes"),e.k0s(),e.nrm(228,"input",62),e.k0s()()(),e.j41(229,"div",18)(230,"div",45)(231,"p"),e.EFF(232,"Is there any major water damage or rust present?"),e.k0s()(),e.j41(233,"div",46)(234,"mat-radio-group",63)(235,"mat-radio-button",48),e.EFF(236,"Pass"),e.k0s(),e.j41(237,"mat-radio-button",49),e.EFF(238,"Fail"),e.k0s()()(),e.j41(239,"div",45)(240,"mat-form-field",20)(241,"mat-label"),e.EFF(242,"Notes"),e.k0s(),e.nrm(243,"input",64),e.k0s()()(),e.j41(244,"div",18)(245,"div",45)(246,"p"),e.EFF(247,"(If applicable) was/is the correct temperature setting used for transporting the load?"),e.k0s()(),e.j41(248,"div",46)(249,"mat-radio-group",65)(250,"mat-radio-button",48),e.EFF(251,"Pass"),e.k0s(),e.j41(252,"mat-radio-button",49),e.EFF(253,"Fail"),e.k0s()()(),e.j41(254,"div",45)(255,"mat-form-field",20)(256,"mat-label"),e.EFF(257,"Notes"),e.k0s(),e.nrm(258,"input",66),e.k0s()()()()(),e.j41(259,"div",18)(260,"div",67)(261,"button",68),e.EFF(262,"Save"),e.k0s()()()()()()()}if(2&n){const l=e.sdS(25),c=e.sdS(47),s=e.sdS(55),p=e.sdS(68);e.R7$(9),e.Y8G("ngIf",r.IsViewPermission),e.R7$(),e.Y8G("formGroup",r.trailerInspectionForm),e.R7$(12),e.Y8G("matDatepicker",l)("min",r.getToday()),e.R7$(),e.Y8G("for",l),e.R7$(3),e.Y8G("control",r.trailerInspectionForm.controls.Date)("message","Date Time")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("ngForOf",r.companyList),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.CompanyId)("message","Company Id")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("ngForOf",r.usersList),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.InspectedById)("message","Inspected By Id")("formSubmitted",r.isFormSubmitted),e.R7$(5),e.Y8G("ngxTimepicker",c),e.R7$(3),e.Y8G("ngIf",r.trailerInspectionForm.get("TimeIn").hasError("required")),e.R7$(5),e.Y8G("ngxTimepicker",s),e.R7$(3),e.Y8G("ngIf",r.trailerInspectionForm.get("TimeOut").hasError("required")),e.R7$(10),e.Y8G("ngxTimepicker",p),e.R7$(3),e.Y8G("ngIf",r.trailerInspectionForm.get("TimeOfInspection").hasError("required")),e.R7$(14),e.Y8G("control",r.trailerInspectionForm.controls.DriverName)("message","Driver Name")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("ngForOf",r.vehicleTypeList),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.VehicleTypeId)("message","Vehicle Type")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("control",r.trailerInspectionForm.controls.LicensePlateNo)("message","License Plate No")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("control",r.trailerInspectionForm.controls.TrailerNo)("message","Trailer No")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("control",r.trailerInspectionForm.controls.TruckNo)("message","Truck No")("formSubmitted",r.isFormSubmitted),e.R7$(10),e.Y8G("ngIf","Rejected"===r.trailerInspectionForm.get("VehicleStatus").value)}},dependencies:[u.Sq,u.bT,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,E.It,E.$z,k.rl,k.nJ,k.TL,k.yw,Z.fg,q.VO,ee.wT,D.Vh,D.bZ,D.bU,A.VT,A._g,te.T,ie.r,y.zk,y.v2],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.full-width[_ngcontent-%COMP%]{width:100%}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.card-header[_ngcontent-%COMP%]{background-color:#17bb58!important;border-bottom:1px solid rgb(23,187,88)!important;padding:.75rem 1.25rem;color:#fff}.back-Green[_ngcontent-%COMP%]{background-color:#17bb58!important;color:#fff!important}.icon-green[_ngcontent-%COMP%]{color:green}"]})}return i})();o(9239);var P=o(6441);const ue=[{path:"",component:N,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:R,canActivate:[P.L],data:{permission:"Trailer Inspection (PER_TRAILERINSPECTION) - View"}},{path:"add",canActivate:[P.L],data:{permission:"Trailer Inspection (PER_TRAILERINSPECTION) - Add"},component:O},{path:"edit/:id",canActivate:[P.L],data:{permission:"Trailer Inspection (PER_TRAILERINSPECTION) - Edit"},component:O}]}];let he=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[h.iI.forChild(ue),h.iI]})}return i})();var Ie=o(1774),ge=o(9830);let fe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({providers:[I,(0,ge._c)()],imports:[u.MD,he,Ie.Gg,y.c9]})}return i})()}}]);