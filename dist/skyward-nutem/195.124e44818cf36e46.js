"use strict";(self.webpackChunkskyward_admin=self.webpackChunkskyward_admin||[]).push([[195],{27195:(Ct,N,r)=>{r.r(N),r.d(N,{WeightCheckModule:()=>lt});var k=r(60177),f=r(18498),t=r(54438);let I=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-weight-check"]],decls:1,vars:0,template:function(o,i){1&o&&t.nrm(0,"router-outlet")},dependencies:[f.n3]})}return a})();var g=r(4434),v=r(61528),T=r(45794),C=r(88834),j=r(99213),W=r(33380),_=r(30220),A=r(49239);let R=(()=>{class a{constructor(){this.searchChanged=new t.bkB,this.searchData={},this.searchKey="startDateTime , endDateTime, shiftName"}updateSearchTerms(e,o){this.searchData[e]=o,this.searchChanged.emit(this.searchData)}static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["weight-check-search-panel"]],outputs:{searchChanged:"searchChanged"},decls:3,vars:1,consts:[[1,"row"],[1,"col-lg-6"],[3,"textSearchEntered","placeHolder"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"search-text",2),t.bIt("textSearchEntered",function(c){return i.updateSearchTerms(i.searchKey,c)}),t.k0s()()()),2&o&&(t.R7$(2),t.Y8G("placeHolder","Search Shift"))},dependencies:[A.D]})}return a})();var $=r(96081);const L=()=>["../","add"],B=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),M=a=>["..","edit",a];function G(a,n){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&a){const e=n.value;t.R7$(),t.JRh(t.i5U(2,1,e,"MM/dd/yyyy hh:mm a"))}}function P(a,n){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&a){const e=n.value;t.R7$(),t.JRh(t.i5U(2,1,e,"MM/dd/yyyy hh:mm a"))}}function O(a,n){if(1&a&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&a){const e=n.value;t.R7$(),t.JRh(e)}}function Y(a,n){if(1&a&&(t.j41(0,"a",20)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()),2&a){const e=t.XpG().row;t.Y8G("routerLink",t.eq3(1,M,e.id))}}function U(a,n){if(1&a){const e=t.RV6();t.DNE(0,Y,3,3,"a",18),t.j41(1,"button",19),t.bIt("click",function(){const i=t.eBV(e).row,s=t.XpG();return t.Njj(s.removeWeightCheck(i.id))}),t.j41(2,"mat-icon"),t.EFF(3,"close"),t.k0s()()}if(2&a){const e=t.XpG();t.Y8G("authPermission",e.page+"_"+e.permissions.edit)}}let z=(()=>{class a{constructor(e,o){this.weightCheckService=e,this.notificationService=o,this.weightCheckData=[],this.page=g.Wt.weightCheck,this.permissions=g.eZ,this.searchData={},this.showDeleteModal=!1}ngOnInit(){this.getWeightCheckData()}getWeightCheckData(){this.loading=!0,this.weightCheckService.getWeightCheckList().subscribe(e=>{this.weightCheckData=e,console.log("Weight checl list",this.weightCheckData),this.loading=!1},e=>{this.error=e,this.loading=!1})}removeWeightCheck(e){confirm("Are you sure, you want to delete this Weight Check?")&&this.weightCheckService.DeleteWeightCheck(e).subscribe(()=>{this.getWeightCheckData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(e){this.searchData=Object.assign({},e),console.log("serach data",this.searchData)}isActiveRow(e){return{"text-danger":!e.isActive}}static#t=this.\u0275fac=function(o){return new(o||a)(t.rXU(v.Q),t.rXU(T.tw))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-list"]],decls:25,vars:16,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","color","primary",1,"app-button",3,"routerLink"],[1,"icon-plus"],[1,"row"],[1,"col-12"],[3,"searchChanged"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","messages"],["name","Start Date","prop","startDateTime"],["ngx-datatable-cell-template",""],["name","End Date","prop","endDateTime"],["name","Shift","prop","shiftName"],["name","Actions",3,"sortable"],["class","button-padding","color","primary",3,"routerLink",4,"authPermission"],["type","button",2,"border","none","background-color","white","color","red",3,"click"],["color","primary",1,"button-padding",3,"routerLink"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6,"Weight Check List"),t.k0s()(),t.j41(7,"div",6)(8,"a",7)(9,"span"),t.EFF(10,"Add New"),t.k0s(),t.nrm(11,"i",8),t.k0s()()(),t.j41(12,"div",9)(13,"div",10)(14,"weight-check-search-panel",11),t.bIt("searchChanged",function(c){return i.updateSearch(c)}),t.k0s(),t.j41(15,"ngx-datatable",12),t.nI1(16,"searchtable"),t.j41(17,"ngx-datatable-column",13),t.DNE(18,G,3,4,"ng-template",14),t.k0s(),t.j41(19,"ngx-datatable-column",15),t.DNE(20,P,3,4,"ng-template",14),t.k0s(),t.j41(21,"ngx-datatable-column",16),t.DNE(22,O,2,1,"ng-template",14),t.k0s(),t.j41(23,"ngx-datatable-column",17),t.DNE(24,U,4,1,"ng-template",14),t.k0s()()()()()()()),2&o&&(t.R7$(8),t.Y8G("routerLink",t.lJ4(14,L)),t.R7$(7),t.Y8G("rows",t.i5U(16,11,i.weightCheckData,i.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",i.loading)("scrollbarH",!0)("messages",t.lJ4(15,B)),t.R7$(8),t.Y8G("sortable",!1))},dependencies:[f.Wk,C.It,j.An,W.ge,W.ed,W.QI,_.B,R,k.vh,$.j],styles:[".button-padding[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .button-padding[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;vertical-align:middle}.button-padding[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px;text-decoration:none;color:inherit}"]})}return a})();var h=r(89417),b=r(32102),V=r(99631),x=r(82798),X=r(86600),F=r(25084),H=r(58777),Q=r(67133),S=r(42356);function J(a,n){if(1&a){const e=t.RV6();t.j41(0,"a",52),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.cancel())}),t.EFF(1," View List "),t.k0s()}}function Z(a,n){if(1&a&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&a){const e=n.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.shiftName," ")}}function K(a,n){if(1&a&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&a){const e=n.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.poNumber," ")}}function q(a,n){if(1&a&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&a){const e=n.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.productName," ")}}function tt(a,n){if(1&a&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&a){const e=n.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function et(a,n){if(1&a&&(t.j41(0,"div",63)(1,"mat-form-field",56)(2,"mat-label"),t.EFF(3),t.k0s(),t.nrm(4,"input",64),t.k0s()()),2&a){const e=n.$implicit;t.R7$(3),t.JRh(e.nozzelName),t.R7$(),t.Y8G("formControlName",e.nozzelName)}}function it(a,n){if(1&a&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&a){const e=n.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function ot(a,n){if(1&a){const e=t.RV6();t.j41(0,"div",54)(1,"div",17)(2,"div",55)(3,"mat-form-field",56)(4,"mat-label"),t.EFF(5,"Time"),t.k0s(),t.nrm(6,"input",57)(7,"ngx-material-timepicker",null,3),t.k0s()(),t.DNE(9,et,5,2,"div",58),t.j41(10,"div",59)(11,"mat-form-field",56)(12,"mat-label"),t.EFF(13,"Done By"),t.k0s(),t.j41(14,"mat-select",60),t.DNE(15,it,2,2,"mat-option",26),t.k0s()()(),t.j41(16,"div",61)(17,"button",62),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.addFinalWeightDetail())}),t.j41(18,"mat-icon"),t.EFF(19,"add"),t.k0s()()()()()}if(2&a){const e=n.index,o=t.sdS(8),i=t.XpG();t.Y8G("formGroupName",e),t.R7$(6),t.Y8G("ngxTimepicker",o),t.R7$(3),t.Y8G("ngForOf",i.NozzleList),t.R7$(6),t.Y8G("ngForOf",i.usersList)}}function at(a,n){if(1&a&&(t.j41(0,"th",65),t.EFF(1),t.k0s()),2&a){const e=n.$implicit;t.R7$(),t.JRh(e.nozzelName)}}function st(a,n){if(1&a&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&a){const e=n.$implicit,o=t.XpG().$implicit;t.R7$(),t.SpI(" ",o[e.nozzelName]||""," ")}}function nt(a,n){if(1&a){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.DNE(5,st,2,1,"td",49),t.j41(6,"td"),t.EFF(7),t.nI1(8,"number"),t.k0s(),t.j41(9,"td")(10,"button",66),t.bIt("click",function(){const i=t.eBV(e),s=i.$implicit,c=i.index,m=t.XpG();return t.Njj(m.onEditDetail(s,c))}),t.nrm(11,"i",67),t.k0s()()()}if(2&a){const e=n.$implicit,o=t.XpG();t.R7$(2),t.SpI(" ",e.Time," "),t.R7$(2),t.SpI(" ",e.DoneByNames," "),t.R7$(),t.Y8G("ngForOf",o.NozzleList),t.R7$(2),t.SpI(" ",t.i5U(8,4,e.Average,"1.2-2")," ")}}let E=(()=>{class a{constructor(e,o,i,s,c){this.activatedRoute=e,this.router=o,this.formBuilder=i,this.weightCheckService=s,this.notificationService=c,this.page=g.Wt.weightCheck,this.permissions=g.eZ,this.shiftList=[],this.productionOrderList=[],this.productList=[],this.NozzleList=[],this.usersList=[],this.AddedWeightCheckDetailsList=[],this.EditNozzleDetailsId=-1,this.minEndDate=null,this.endDateValidator=m=>{const d=m.get("StartDateTime")?.value,l=m.get("EndDateTime")?.value;return l&&d&&l<d?{endDateBeforeStartDate:!0}:null},this.createForm()}ngOnInit(){this.getRoute(),this.loadDropdowns()}getRoute(){this.routerSub=this.activatedRoute.params.subscribe(e=>{this.isEditMode=!g.ov.isEmpty(e.id),console.log("iseditmode",this.isEditMode),this.createForm(),this.isEditMode&&(this.weightCheckId=e.id,this.getWeightCheckById())})}getWeightCheckById(){this.weightCheckService.getByIdWeightCheck(this.weightCheckId).subscribe(e=>{this.weightCheckData=e,this.setWeightCheckData(),console.log("get by id data",e)},e=>{console.log(e)})}setWeightCheckData(){this.WeightCheckForm.patchValue({Code:this.weightCheckData.code,StartDateTime:this.weightCheckData.startDateTime,EndDateTime:this.weightCheckData.endDateTime,ShiftId:this.weightCheckData.shiftId,SAPProductionOrderId:this.weightCheckData.sapProductionOrderId,ProductId:this.weightCheckData.productId,BottleDateCode:this.weightCheckData.bottleDateCode,PackSize:this.weightCheckData.packSize,StandardWeight:this.weightCheckData.targetWeight,MinWeightRange:this.weightCheckData.minWeightRange,MaxWeightRange:this.weightCheckData.maxWeightRange,QAUserId:this.weightCheckData.qaUserId,Note:this.weightCheckData.note}),this.WeightCheckForm.get("SAPProductionOrderId").disable(),this.WeightCheckForm.get("ProductId").disable();const e=o=>new Date(o).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});setTimeout(()=>{this.weightCheckData.weightCheckDetails?.forEach(o=>{const i={};this.NozzleList.forEach(d=>{const l=o.weightCheckSubDetails.find(u=>u.nozzleId===d.id);i[d.id]=l?l.weight??"":""});const s=o.doneByUserIds.split(",").map(d=>Number(d.trim())).filter(d=>!isNaN(d));let c=this.usersList.filter(d=>o.doneByUserIds?.includes(d.id)).map(d=>d.name).join(", ");console.log("nozzle weight ",i);let m={Time:e(o.tDateTime),DoneBy:s,Average:o.avgWeight,Id:o.id,HeaderId:o.headerId,DoneByNames:c};Object.entries(i).forEach(([d,l])=>{m[d]=l}),this.AddedWeightCheckDetailsList.push(m)}),console.log("added nozzle data",this.AddedWeightCheckDetailsList)},500)}loadDropdowns(){this.weightCheckService.getNozzleList().subscribe(e=>{this.NozzleList=e.items,this.addWeightDetail()}),this.weightCheckService.getShiftList().subscribe(e=>{this.shiftList=e}),this.weightCheckService.getProductionOrderList().subscribe(e=>{this.productionOrderList=e}),this.weightCheckService.getProductList().subscribe(e=>{this.productList=e}),this.weightCheckService.getUserList().subscribe(e=>{this.usersList=e})}createForm(){this.WeightCheckForm=this.formBuilder.group({Code:[{value:"",disabled:!0},[h.k0.required]],StartDateTime:["",[h.k0.required]],EndDateTime:["",[h.k0.required,this.endDateValidator]],ShiftId:["",[h.k0.required]],SAPProductionOrderId:["",[h.k0.required]],ProductId:["",[h.k0.required]],BottleDateCode:["",[h.k0.required]],PackSize:["",[h.k0.required]],StandardWeight:["",[h.k0.required]],MinWeightRange:["",[h.k0.required]],MaxWeightRange:["",[h.k0.required]],QAUserId:["",[h.k0.required]],Note:["",""],WeightCheckDetails:this.formBuilder.array([])}),this.WeightCheckForm.controls.StartDateTime.setValue((new Date).toISOString().split("T")[0])}onStartDateChange(){const e=this.WeightCheckForm.get("StartDateTime")?.value;this.minEndDate=e?new Date(e):null}onEndDateChange(){const e=this.WeightCheckForm.get("EndDateTime")?.value,o=this.WeightCheckForm.get("StartDateTime")?.value;o||this.notificationService.error("please select Start date"),o&&e&&new Date(e)<=new Date(o)?this.notificationService.error("End date should be greated than Start date"):this.WeightCheckForm.get("EndDateTime")?.updateValueAndValidity()}getToday(){return(new Date).toISOString().split("T")[0]}addWeightDetail(){this.WeightCheckDetails?.clear(),this.EditNozzleDetailsId=-1;const e=this.formBuilder.group({});console.log("NozzleList",this.NozzleList),this.NozzleList.forEach((o,i)=>{e.addControl(o.nozzelName,this.formBuilder.control(""))}),e.addControl("Time",this.formBuilder.control("")),e.addControl("DoneBy",this.formBuilder.control("")),this.WeightCheckDetails=this.WeightCheckForm?.get("WeightCheckDetails"),this.WeightCheckDetails.push(e),console.log("weightDeatilsList",this.WeightCheckDetails)}addFinalWeightDetail(){const e=this.WeightCheckDetails.at(0).value;if(e.Time)if(e.DoneBy)if(this.EditNozzleDetailsId>=0){const o=this.calculateAverageForEntry(e);e.Average=o;let i=this.usersList.filter(s=>e.DoneBy.includes(s.id)).map(s=>s.name).join(", ");e.DoneByNames=i,this.AddedWeightCheckDetailsList[this.EditNozzleDetailsId]=e,this.addWeightDetail()}else{const o=this.calculateAverageForEntry(e);e.Average=o;let i=this.usersList.filter(s=>e.DoneBy.includes(s.id)).map(s=>s.name).join(", ");e.DoneByNames=i,this.AddedWeightCheckDetailsList.push(e),this.addWeightDetail(),console.log("Added nozzle with average:",this.AddedWeightCheckDetailsList)}else this.notificationService.error("please select Done by");else this.notificationService.error("please select time")}calculateAverageForEntry(e){const o=Object.keys(e).filter(s=>"Time"!==s&&"DoneBy"!==s&&"Average"!==s).map(s=>parseFloat(e[s])).filter(s=>!isNaN(s)),i=o.reduce((s,c)=>s+c,0);return o.length?i/o.length:0}onEditDetail(e,o){console.log("weight",e),console.log("i",o),console.log("details selected for edit",this.AddedWeightCheckDetailsList[o]),this.populateFormWithValues(this.AddedWeightCheckDetailsList[o]),this.EditNozzleDetailsId=o}populateFormWithValues(e){const o=Array.isArray(e)?e:[e];this.WeightCheckDetails=this.WeightCheckForm.get("WeightCheckDetails"),this.WeightCheckDetails.clear(),o.forEach(i=>{const s=this.formBuilder.group({});this.NozzleList.forEach(c=>{s.addControl(c.nozzelName,this.formBuilder.control(i[c.nozzelName]||""))}),s.addControl("Time",this.formBuilder.control(i.Time||"")),s.addControl("DoneBy",this.formBuilder.control(i.DoneBy||"")),this.WeightCheckDetails.push(s)}),console.log("Populated WeightCheckDetails:",this.WeightCheckDetails)}removeWeightDetail(e){this.AddedWeightCheckDetailsList.splice(e,1),console.log("control",this.AddedWeightCheckDetailsList),console.log("items",this.AddedWeightCheckDetailsList)}createWeightCheck(e){this.weightCheckService.addWeightCheck(e).subscribe(()=>{this.cancel(),this.notificationService.success("Weight Check created successfully.")},o=>{this.error=o})}updateWeightCheck(e){this.weightCheckService.updateWeightCheck(e).subscribe(()=>{this.cancel(),this.notificationService.success("Weight Check updated successfully.")},o=>{this.error=o})}save(){this.isFormSubmitted=!0;const e=this.WeightCheckForm.get("EndDateTime")?.value,o=this.WeightCheckForm.get("StartDateTime")?.value;if(!this.WeightCheckForm.invalid){if(new Date(e)<=new Date(o))return void this.notificationService.error("End date should be greated than Start date");if(this.AddedWeightCheckDetailsList.length<1)return void this.notificationService.error("at lease one Nozzlewise deatils required");{let i=this.WeightCheckForm.value;i.WeightCheckDetails=this.AddedWeightCheckDetailsList,console.log("formvalue",i);let s=this.transformData(i);console.log("Playload",s),console.log("json stringyfy",JSON.stringify(s,null,2)),this.isEditMode?this.updateWeightCheck(s):this.createWeightCheck(s)}}}transformData(e){function o(m){const d=new Date(m);if(isNaN(d.getTime()))throw new Error("Invalid date string provided");return`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}T${String(d.getHours()).padStart(2,"0")}:${String(d.getMinutes()).padStart(2,"0")}`}function i(m){const l=m.match(/(\d{1,2}):(\d{2}) (AM|PM)/i);if(!l)throw new Error("Invalid time format");let[,u,y,D]=l,p=parseInt(u,10);const mt=parseInt(y,10);"AM"===D.toUpperCase()?12===p&&(p=0):"PM"===D.toUpperCase()&&12!==p&&(p+=12);const gt=p.toString().padStart(2,"0"),ut=mt.toString().padStart(2,"0"),w=new Date;return`${w.getFullYear()}-${(w.getMonth()+1).toString().padStart(2,"0")}-${w.getDate().toString().padStart(2,"0")}T${gt}:${ut}`}const s=Array.isArray(e.WeightCheckDetails)?e.WeightCheckDetails:Object.values(e.WeightCheckDetails||{});return{Id:this.isEditMode?this.weightCheckData.id:0,Code:this.isEditMode?this.weightCheckData.code:"",StartDateTime:o(e.StartDateTime),EndDateTime:o(e.EndDateTime),SAPProductionOrderId:this.isEditMode?this.weightCheckData.sapProductionOrderId:e.SAPProductionOrderId,ProductId:this.isEditMode?this.weightCheckData.productId:e.ProductId,ShiftId:e.ShiftId,BottleDateCode:e.BottleDateCode.toString(),PackSize:e.PackSize.toString(),TargetWeight:e.StandardWeight.toString(),MinWeightRange:e.MinWeightRange,MaxWeightRange:e.MaxWeightRange,QAUserId:e.QAUserId,Note:e.Note,WeightCheckDetails:Array.isArray(s)?s.map((m,d)=>({Id:0,HeaderId:0,TDateTime:i(m.Time),AvgWeight:m.Average,DoneByUserIdList:m.DoneBy,WeightCheckSubDetails:Object.entries(m).filter(([l,u])=>"Average"!==l&&"Time"!==l&&"DoneBy"!==l&&"DoneByNames"!==l).map(([l,u])=>({Id:0,DetailId:0,NozzleId:Number(l),Weight:""!==u?u:null}))})):[]}}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}ngOnDestroy(){this.routerSub.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||a)(t.rXU(f.nX),t.rXU(f.Ix),t.rXU(h.ze),t.rXU(v.Q),t.rXU(T.tw))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-add-edit"]],decls:141,vars:58,consts:[["form","ngForm"],["pickerStart",""],["pickerEnd",""],["timepicker",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","color","primary","class","app-button",3,"click",4,"authPermission"],["novalidate","",1,"app-form",3,"submit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],["appearance","fill",1,"full-width"],["matInput","","formControlName","Code",3,"disabled"],[3,"control","message","formSubmitted"],["matInput","","formControlName","StartDateTime",3,"dateChange","matDatepicker","min"],["matSuffix","",3,"for"],["matInput","","formControlName","EndDateTime",3,"dateChange","matDatepicker","min"],["formControlName","ShiftId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","SAPProductionOrderId",3,"disabled"],["formControlName","ProductId",3,"disabled"],["matInput","","formControlName","BottleDateCode"],["matInput","","formControlName","PackSize","type","number"],["matInput","","formControlName","StandardWeight","type","number"],["matInput","","formControlName","MinWeightRange","type","number"],["matInput","","formControlName","MaxWeightRange","type","number"],["formControlName","QAUserId"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-3"],["matInput","","formControlName","Note"],[1,"card-header","d-flex","align-items-center","justify-content-between"],["formArrayName","WeightCheckDetails"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"table-responsive"],["id","gridNozzlewiseWeight",1,"table","table-hover","table-bordered","display","mb-30","fixed-table-scroll-inner",2,"overflow","scroll","width","auto"],[1,"bg-primary","text-primary","text-center"],[2,"width","8%"],[2,"width","12%"],[2,"text-align","center"],[2,"width","5%"],["data-nozzleid","1",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","","color","primary",1,"app-button","mr-1"],["mat-flat-button","","color","primary",1,"app-button",3,"click"],[3,"value"],[1,"row","mt-3",3,"formGroupName"],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3"],[1,"full-width"],["matInput","","placeholder","Select time","formControlName","Time",3,"ngxTimepicker"],["class","col-12 col-sm-12 col-md-1 col-lg-1 mb-3 ",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-3","p-1"],["formControlName","DoneBy","multiple",""],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3","p-1","d-flex","align-items-center"],["type","button","mat-icon-button","","color","warn",3,"click"],[1,"col-12","col-sm-12","col-md-1","col-lg-1","mb-3"],["type","number","matInput","",3,"formControlName"],["data-nozzleid","1"],["type","button",1,"btn","btn-primary","btn-sm","btnModifyRow",3,"click"],[1,"fa","fa-pencil"]],template:function(o,i){if(1&o){const s=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h4",9),t.nrm(6,"i",10),t.EFF(7," Add/Edit Weight Check"),t.k0s()(),t.j41(8,"div",11),t.DNE(9,J,2,0,"a",12),t.k0s()(),t.j41(10,"form",13,0),t.bIt("submit",function(){return t.eBV(s),t.Njj(i.save())}),t.j41(12,"div",14)(13,"div",15)(14,"h5",9),t.EFF(15,"Header Details"),t.k0s()(),t.j41(16,"div",16)(17,"div",17)(18,"div",18)(19,"mat-form-field",19)(20,"mat-label"),t.EFF(21,"Code"),t.k0s(),t.nrm(22,"input",20)(23,"mat-validation-message",21),t.k0s()(),t.j41(24,"div",18)(25,"mat-form-field",19)(26,"mat-label"),t.EFF(27,"Start Date"),t.k0s(),t.j41(28,"input",22),t.bIt("dateChange",function(){return t.eBV(s),t.Njj(i.onStartDateChange())}),t.k0s(),t.nrm(29,"mat-datepicker-toggle",23)(30,"mat-datepicker",null,1)(32,"mat-validation-message",21),t.k0s()(),t.j41(33,"div",18)(34,"mat-form-field",19)(35,"mat-label"),t.EFF(36,"End Date"),t.k0s(),t.j41(37,"input",24),t.bIt("dateChange",function(){return t.eBV(s),t.Njj(i.onEndDateChange())}),t.k0s(),t.nrm(38,"mat-datepicker-toggle",23)(39,"mat-datepicker",null,2)(41,"mat-validation-message",21),t.k0s()(),t.j41(42,"div",18)(43,"mat-form-field",19)(44,"mat-label"),t.EFF(45,"Shift"),t.k0s(),t.j41(46,"mat-select",25),t.DNE(47,Z,2,2,"mat-option",26),t.k0s(),t.nrm(48,"mat-validation-message",21),t.k0s()(),t.j41(49,"div",18)(50,"mat-form-field",19)(51,"mat-label"),t.EFF(52,"SAP Production Order"),t.k0s(),t.j41(53,"mat-select",27),t.DNE(54,K,2,2,"mat-option",26),t.k0s(),t.nrm(55,"mat-validation-message",21),t.k0s()(),t.j41(56,"div",18)(57,"mat-form-field",19)(58,"mat-label"),t.EFF(59,"Product"),t.k0s(),t.j41(60,"mat-select",28),t.DNE(61,q,2,2,"mat-option",26),t.k0s(),t.nrm(62,"mat-validation-message",21),t.k0s()(),t.j41(63,"div",18)(64,"mat-form-field",19)(65,"mat-label"),t.EFF(66,"Bottle Date Code"),t.k0s(),t.nrm(67,"input",29)(68,"mat-validation-message",21),t.k0s()(),t.j41(69,"div",18)(70,"mat-form-field",19)(71,"mat-label"),t.EFF(72,"Pack Size"),t.k0s(),t.nrm(73,"input",30)(74,"mat-validation-message",21),t.k0s()(),t.j41(75,"div",18)(76,"mat-form-field",19)(77,"mat-label"),t.EFF(78,"Standard Weight"),t.k0s(),t.nrm(79,"input",31)(80,"mat-validation-message",21),t.k0s()(),t.j41(81,"div",18)(82,"mat-form-field",19)(83,"mat-label"),t.EFF(84,"Min Weight Range"),t.k0s(),t.nrm(85,"input",32)(86,"mat-validation-message",21),t.k0s()(),t.j41(87,"div",18)(88,"mat-form-field",19)(89,"mat-label"),t.EFF(90,"Max Weight Range"),t.k0s(),t.nrm(91,"input",33)(92,"mat-validation-message",21),t.k0s()(),t.j41(93,"div",18)(94,"mat-form-field",19)(95,"mat-label"),t.EFF(96,"QA User"),t.k0s(),t.j41(97,"mat-select",34),t.DNE(98,tt,2,2,"mat-option",26),t.k0s(),t.nrm(99,"mat-validation-message",21),t.k0s()(),t.j41(100,"div",35)(101,"mat-form-field",19)(102,"mat-label"),t.EFF(103,"Note"),t.k0s(),t.nrm(104,"textarea",36)(105,"mat-validation-message",21),t.k0s()()()()(),t.j41(106,"div",14)(107,"div",37)(108,"h5",9),t.EFF(109,"Nozzlewise Weight Details"),t.k0s()(),t.j41(110,"div",16)(111,"div",38),t.DNE(112,ot,20,4,"div",39),t.k0s()()(),t.j41(113,"div",17)(114,"div",40)(115,"div",41)(116,"table",42)(117,"thead",43)(118,"tr"),t.nrm(119,"th",44)(120,"th",45),t.j41(121,"th",46),t.EFF(122,"Nozzle(s)"),t.k0s(),t.nrm(123,"th",44)(124,"th",47),t.k0s(),t.j41(125,"tr")(126,"th"),t.EFF(127,"Time"),t.k0s(),t.j41(128,"th"),t.EFF(129,"Done By"),t.k0s(),t.DNE(130,at,2,1,"th",48),t.j41(131,"th"),t.EFF(132,"Avg Weight"),t.k0s(),t.j41(133,"th"),t.EFF(134,"Action"),t.k0s()()(),t.j41(135,"tbody"),t.DNE(136,nt,12,7,"tr",49),t.k0s()()()()(),t.j41(137,"div",17)(138,"div",50)(139,"button",51),t.EFF(140,"Save"),t.k0s()()()()()()()}if(2&o){const s=t.sdS(31),c=t.sdS(40);t.R7$(9),t.Y8G("authPermission",i.page+"_"+i.permissions.list),t.R7$(),t.Y8G("formGroup",i.WeightCheckForm),t.R7$(12),t.Y8G("disabled",!0),t.R7$(),t.Y8G("control",i.WeightCheckForm.controls.Code)("message","Code")("formSubmitted",i.isFormSubmitted),t.R7$(5),t.Y8G("matDatepicker",s)("min",i.getToday()),t.R7$(),t.Y8G("for",s),t.R7$(3),t.Y8G("control",i.WeightCheckForm.controls.StartDateTime)("message","Start Date Time")("formSubmitted",i.isFormSubmitted),t.R7$(5),t.Y8G("matDatepicker",c)("min",i.WeightCheckForm.controls.StartDateTime),t.R7$(),t.Y8G("for",c),t.R7$(3),t.Y8G("control",i.WeightCheckForm.controls.EndDateTime)("message","End Date Time")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",i.shiftList),t.R7$(),t.Y8G("control",i.WeightCheckForm.controls.ShiftId)("message","Shift")("formSubmitted",i.isFormSubmitted),t.R7$(5),t.Y8G("disabled",i.isEditMode),t.R7$(),t.Y8G("ngForOf",i.productionOrderList),t.R7$(),t.Y8G("control",i.WeightCheckForm.controls.SAPProductionOrderId)("message","SAP Production Order")("formSubmitted",i.isFormSubmitted),t.R7$(5),t.Y8G("disabled",i.isEditMode),t.R7$(),t.Y8G("ngForOf",i.productList),t.R7$(),t.Y8G("control",i.WeightCheckForm.controls.ProductId)("message","Product")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.WeightCheckForm.controls.BottleDateCode)("message","Bottle Date Code")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.WeightCheckForm.controls.PackSize)("message","Pack Size")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.WeightCheckForm.controls.StandardWeight)("message","Standard Weight")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.WeightCheckForm.controls.MinWeightRange)("message","Min Weight Range")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.WeightCheckForm.controls.MaxWeightRange)("message","Max Weight Range")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",i.usersList),t.R7$(),t.Y8G("control",i.WeightCheckForm.controls.QAUserId)("message","QA User")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.WeightCheckForm.controls.Note)("message","Note")("formSubmitted",i.isFormSubmitted),t.R7$(7),t.Y8G("ngForOf",null==i.WeightCheckDetails?null:i.WeightCheckDetails.controls),t.R7$(9),t.BMQ("colspan",i.NozzleList.length),t.R7$(9),t.Y8G("ngForOf",i.NozzleList),t.R7$(6),t.Y8G("ngForOf",i.AddedWeightCheckDetailsList)}},dependencies:[k.Sq,h.qT,h.me,h.Q0,h.BC,h.cb,h.j4,h.JD,h.$R,h.v8,C.It,C.$z,C.iY,b.rl,b.nJ,b.yw,V.fg,j.An,x.VO,X.wT,F.Vh,F.bZ,F.bU,_.B,H.T,Q.r,S.zk,S.v2,k.QX],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.full-width[_ngcontent-%COMP%]{width:100%}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}"]})}return a})();const rt=[{path:"",component:I,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:z,canActivate:[g.LL],data:{page:g.Wt.weightCheck,title:"WeightCheck"}},{path:"add",canActivate:[g.LL],data:{page:g.Wt.weightCheck,title:"WeightCheck"},component:E},{path:"edit/:id",canActivate:[g.LL],data:{page:g.Wt.weightCheck,title:"WeightCheck"},component:E}]}];let dt=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.$C({type:a});static#i=this.\u0275inj=t.G2t({imports:[f.iI.forChild(rt),f.iI]})}return a})();var ht=r(71774),ct=r(99830);let lt=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.$C({type:a});static#i=this.\u0275inj=t.G2t({providers:[v.Q,(0,ct._c)()],imports:[k.MD,dt,ht.Gg,S.c9]})}return a})()}}]);