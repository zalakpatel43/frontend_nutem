"use strict";(self.webpackChunkskyward_nutem=self.webpackChunkskyward_nutem||[]).push([[535],{3535:(ke,D,o)=>{o.r(D),o.d(D,{TrailerInspectionModule:()=>Ie});var I=o(177),h=o(8498),e=o(4438);let O=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-trailer-inspection"]],decls:1,vars:0,template:function(n,r){1&n&&e.nrm(0,"router-outlet")},dependencies:[h.n3]})}return i})();var p=o(4434),_=o(1626);let v=(()=>{class i{constructor(t,n){this.http=t,this._baseService=n}getTrailerInspectionList(){return this.http.get(`${p.T6.TrailerInspectionList}`)}getComapnyList(){return this.http.get(`${p.T6.CompanyMasterList}`)}getVehicleTypeList(){return this.http.get(`${p.T6.VehicleTypeMasterList}`)}addTrailerInspection(t){return this.http.post(`${p.T6.TrailerInspectionAdd}`,t)}updateTrailerInspection(t){return this.http.post(`${p.T6.TrailerInspectionEdit}`,t)}getByIdTrailerInspection(t){return this.http.get(`${p.T6.TrailerInspectionGetById}?id=`+t)}DeleteTrailerInspection(t){return this.http.get(`${p.T6.TrailerInspectionDelete}?Id=`+t)}static#e=this.\u0275fac=function(n){return new(n||i)(e.KVO(_.Qq),e.KVO(p.dD))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var j=o(5794),P=o(4532),b=o(8834),G=o(9213),N=o(3380),M=o(6081);const $=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),L=()=>["../","add"],w=i=>["..","edit",i];function x(i,a){1&i&&(e.j41(0,"a",18)(1,"span"),e.EFF(2,"Add New"),e.k0s(),e.nrm(3,"i",19),e.k0s()),2&i&&e.Y8G("routerLink",e.lJ4(1,L))}function Y(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=a.value;e.R7$(),e.JRh(e.i5U(2,1,t,"MM/dd/yyyy hh:mm a"))}}function V(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=a.value;e.R7$(),e.JRh(t)}}function U(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=a.value;e.R7$(),e.JRh(t)}}function B(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=a.value;e.R7$(),e.JRh(t)}}function W(i,a){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=a.value;e.R7$(),e.JRh(t)}}function H(i,a){if(1&i&&(e.j41(0,"a",23)(1,"mat-icon"),e.EFF(2,"edit"),e.k0s()()),2&i){const t=e.XpG().row;e.Y8G("routerLink",e.eq3(1,w,t.id))}}function X(i,a){if(1&i){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const r=e.XpG().row,l=e.XpG(2);return e.Njj(l.removeWeightCheck(r.id))}),e.j41(1,"mat-icon"),e.EFF(2,"close"),e.k0s()()}}function J(i,a){if(1&i&&e.DNE(0,H,3,3,"a",21)(1,X,3,0,"button",22),2&i){const t=e.XpG(2);e.Y8G("ngIf",t.IsEditPermission),e.R7$(),e.Y8G("ngIf",t.IsDeletePermission)}}function K(i,a){1&i&&(e.j41(0,"ngx-datatable-column",20),e.DNE(1,J,2,2,"ng-template",12),e.k0s()),2&i&&e.Y8G("sortable",!1)}let R=(()=>{class i{constructor(t,n,r){this.trailerInspectionService=t,this.notificationService=n,this.permissionService=r,this.trailerInspectionData=[],this.page=p.Wt.trailerInspection,this.permissions=p.eZ,this.searchData={},this.showDeleteModal=!1,this.IsAddPemission=!1,this.IsEditPermission=!1,this.IsDeletePermission=!1}ngOnInit(){this.IsAddPemission=this.permissionService.hasPermission("Trailer Inspection (PER_TRAILERINSPECTION) - Add"),this.IsEditPermission=this.permissionService.hasPermission("Trailer Inspection (PER_TRAILERINSPECTION) - Edit"),this.IsDeletePermission=this.permissionService.hasPermission("Trailer Inspection (PER_TRAILERINSPECTION) - Delete"),this.getTrailerInspectionData()}getTrailerInspectionData(){this.loading=!0,this.trailerInspectionService.getTrailerInspectionList().subscribe(t=>{this.trailerInspectionData=t,console.log("TrailerInspection list",this.trailerInspectionData),this.loading=!1},t=>{this.error=t,this.loading=!1})}removeWeightCheck(t){confirm("Are you sure, you want to delete this Trailer Inspection?")&&this.trailerInspectionService.DeleteTrailerInspection(t).subscribe(()=>{this.getTrailerInspectionData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(t){this.searchData=Object.assign({},t),console.log("serach data",this.searchData)}isActiveRow(t){return{"text-danger":!t.isActive}}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(v),e.rXU(j.tw),e.rXU(P.n))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-list"]],decls:24,vars:15,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","class","app-button btn",3,"routerLink",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","messages"],["name","Date","prop","date"],["ngx-datatable-cell-template",""],["name","Company Name","prop","companyName"],["name","Driver Name","prop","driverName"],["name","Vehicle Type Name","prop","vehicleTypeName"],["name","License Plate No","prop","licensePlateNo"],["name","Actions",3,"sortable",4,"ngIf"],["mat-flat-button","",1,"app-button","btn",3,"routerLink"],[1,"icon-plus"],["name","Actions",3,"sortable"],["class","button-padding icon-green",3,"routerLink",4,"ngIf"],["type","button","style","border: none; background-color: white; color: red;",3,"click",4,"ngIf"],[1,"button-padding","icon-green",3,"routerLink"],["type","button",2,"border","none","background-color","white","color","red",3,"click"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e.EFF(6,"Trailer Inspection List"),e.k0s()(),e.j41(7,"div",6),e.DNE(8,x,4,2,"a",7),e.k0s()(),e.j41(9,"div",8)(10,"div",9)(11,"ngx-datatable",10),e.nI1(12,"searchtable"),e.j41(13,"ngx-datatable-column",11),e.DNE(14,Y,3,4,"ng-template",12),e.k0s(),e.j41(15,"ngx-datatable-column",13),e.DNE(16,V,2,1,"ng-template",12),e.k0s(),e.j41(17,"ngx-datatable-column",14),e.DNE(18,U,2,1,"ng-template",12),e.k0s(),e.j41(19,"ngx-datatable-column",15),e.DNE(20,B,2,1,"ng-template",12),e.k0s(),e.j41(21,"ngx-datatable-column",16),e.DNE(22,W,2,1,"ng-template",12),e.k0s(),e.DNE(23,K,2,1,"ngx-datatable-column",17),e.k0s()()()()()()),2&n&&(e.R7$(8),e.Y8G("ngIf",r.IsAddPemission),e.R7$(3),e.Y8G("rows",e.i5U(12,11,r.trailerInspectionData,r.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",r.loading)("scrollbarH",!0)("messages",e.lJ4(14,$)),e.R7$(12),e.Y8G("ngIf",r.IsEditPermission||r.IsDeletePermission))},dependencies:[I.bT,h.Wk,b.It,G.An,N.ge,N.ed,N.QI,I.vh,M.j],styles:[".ngx-datatable .datatable-header-cell{background-color:#17bb58!important;color:#fff!important}.icon-green[_ngcontent-%COMP%]{color:green}.btn[_ngcontent-%COMP%]{background-color:#17bb58!important;color:#fff!important}  .ngx-datatable.material .datatable-body .progress-linear .container{background-color:#90ee90}  .ngx-datatable.material .datatable-body .progress-linear .container .bar{background-color:green}"]})}return i})();var m=o(9417),z=o(1528),T=o(2102),Q=o(9631),Z=o(2798),q=o(6600),k=o(5084),A=o(5951),ee=o(8777),te=o(7133),C=o(2356);function ie(i,a){if(1&i){const t=e.RV6();e.j41(0,"a",70),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.cancel())}),e.EFF(1," View List "),e.k0s()}}function re(i,a){if(1&i&&(e.j41(0,"mat-option",71),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.companyName," ")}}function ne(i,a){if(1&i&&(e.j41(0,"mat-option",71),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function oe(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Time In is required "),e.k0s())}function se(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Time Out is required "),e.k0s())}function ae(i,a){1&i&&(e.j41(0,"mat-error"),e.EFF(1," Time Of Inspection is required "),e.k0s())}function le(i,a){if(1&i&&(e.j41(0,"mat-option",71),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function ce(i,a){if(1&i&&(e.j41(0,"div",72)(1,"mat-form-field",20)(2,"mat-label"),e.EFF(3,"Reason for Rejection"),e.k0s(),e.nrm(4,"textarea",73)(5,"mat-validation-message",22),e.k0s()()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("control",t.trailerInspectionForm.controls.RejectionReason)("message","RejectionReason")("formSubmitted",t.isFormSubmitted)}}let E=(()=>{class i{constructor(t,n,r,l,c,s,d){this.activatedRoute=t,this.router=n,this.formBuilder=r,this.weightCheckService=l,this.notificationService=c,this.trailerInspectionService=s,this.permissionService=d,this.page=p.Wt.trailerInspection,this.permissions=p.eZ,this.companyList=[],this.vehicleTypeList=[],this.usersList=[],this.isFormError=!1,this.IsViewPermission=!1,this.createForm()}ngOnInit(){this.getRoute(),this.loadDropdowns(),this.IsViewPermission=this.permissionService.hasPermission("Trailer Inspection (PER_TRAILERINSPECTION) - View")}getRoute(){this.routerSub=this.activatedRoute.params.subscribe(t=>{this.isEditMode=!p.ov.isEmpty(t.id),this.createForm(),this.isEditMode&&(this.trailerInspectionId=t.id,this.getTrailerInspectionById())})}getTrailerInspectionById(){this.trailerInspectionService.getByIdTrailerInspection(this.trailerInspectionId).subscribe(t=>{this.trailerInspectionData=t,this.setWeightCheckData(),console.log("get by id data",t)},t=>{console.log(t)})}setWeightCheckData(){const t=n=>new Date(n).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});this.trailerInspectionForm.patchValue({Code:this.trailerInspectionData.code,Date:this.trailerInspectionData.date,CompanyId:this.trailerInspectionData.companyId,InspectedById:this.trailerInspectionData.inspectedById,TimeIn:t(this.trailerInspectionData.timeIn),TimeOut:t(this.trailerInspectionData.timeOut),TotalTime:this.trailerInspectionData.totalTime,TimeOfInspection:t(this.trailerInspectionData.timeOfInspection),Mode:this.trailerInspectionData.mode,DriverName:this.trailerInspectionData.driverName,VehicleTypeId:this.trailerInspectionData.vehicleTypeId,LicensePlateNo:this.trailerInspectionData.licensePlateNo,TrailerNo:this.trailerInspectionData.trailerNo,TruckNo:this.trailerInspectionData.truckNo,VehicleStatus:this.trailerInspectionData.vehicleStatus,RejectionReason:this.trailerInspectionData.rejectionReason,VehicleCleanAns:this.trailerInspectionData.vehicleCleanAns,VehicleCleanNotes:this.trailerInspectionData.vehicleCleanNotes,ComingOrderFromForeignAns:this.trailerInspectionData.comingOrderFromForeignAns,ComingOrderFromForeignNotes:this.trailerInspectionData.comingOrderFromForeignNotes,DoorCloseProperlyAns:this.trailerInspectionData.doorCloseProperlyAns,DoorCloseProperlyNotes:this.trailerInspectionData.doorCloseProperlyNotes,OverallIntegrityAns:this.trailerInspectionData.overallIntegrityAns,OverallIntegrityNotes:this.trailerInspectionData.overallIntegrityNotes,FloorInGoodConditionAns:this.trailerInspectionData.floorInGoodConditionAns,FloorInGoodConditionNotes:this.trailerInspectionData.floorInGoodConditionNotes,PresentOnTrailerAns:this.trailerInspectionData.presentOnTrailerAns,PresentOnTrailerNotes:this.trailerInspectionData.presentOnTrailerNotes,SafeWorkingOrderAns:this.trailerInspectionData.safeWorkingOrderAns,SafeWorkingOrderNotes:this.trailerInspectionData.safeWorkingOrderNotes,IsRustPresentAns:this.trailerInspectionData.isRustPresentAns,IsRustPresentNotes:this.trailerInspectionData.isRustPresentNotes,TemperatureSettingUsedAns:this.trailerInspectionData.temperatureSettingUsedAns,TemperatureSettingUsedNotes:this.trailerInspectionData.temperatureSettingUsedNotes}),this.trailerInspectionForm.get("TimeIn").disable(),this.trailerInspectionForm.get("TimeOut").disable(),this.trailerInspectionForm.get("TotalTime").disable(),this.trailerInspectionForm.get("TimeOfInspection").disable()}loadDropdowns(){this.trailerInspectionService.getComapnyList().subscribe(t=>{this.companyList=t}),this.trailerInspectionService.getVehicleTypeList().subscribe(t=>{this.vehicleTypeList=t}),this.weightCheckService.getUserList().subscribe(t=>{this.usersList=t})}createForm(){this.trailerInspectionForm=this.formBuilder.group({Code:[{value:"",disabled:!0},[m.k0.required]],Date:["",[m.k0.required]],CompanyId:["",[m.k0.required]],InspectedById:["",[m.k0.required]],TimeIn:["",[m.k0.required]],TimeOut:["",[m.k0.required]],TotalTime:["",[m.k0.required]],TimeOfInspection:["",[m.k0.required]],Mode:["Outgoing",[]],DriverName:["",[m.k0.required]],VehicleTypeId:["",[m.k0.required]],LicensePlateNo:["",[m.k0.required]],TrailerNo:["",[]],TruckNo:["",[]],VehicleStatus:["Accepted",[]],RejectionReason:["",[]],VehicleCleanAns:["Pass",[]],VehicleCleanNotes:["",[]],ComingOrderFromForeignAns:["Pass",[]],ComingOrderFromForeignNotes:["",[]],DoorCloseProperlyAns:["Pass",[]],DoorCloseProperlyNotes:["",[]],OverallIntegrityAns:["Pass",[]],OverallIntegrityNotes:["",[]],FloorInGoodConditionAns:["Pass",[]],FloorInGoodConditionNotes:["",[]],PresentOnTrailerAns:["Pass",[]],PresentOnTrailerNotes:["",[]],SafeWorkingOrderAns:["Pass",[]],SafeWorkingOrderNotes:["",[]],IsRustPresentAns:["Pass",[]],IsRustPresentNotes:["",[]],TemperatureSettingUsedAns:["Pass",[]],TemperatureSettingUsedNotes:["",[]]}),this.trailerInspectionForm.controls.Date.setValue((new Date).toISOString().split("T")[0])}getToday(){return(new Date).toISOString().split("T")[0]}OnTimeOut(t){const n=this.trailerInspectionForm.get("TimeIn").value,r=this.trailerInspectionForm.get("TimeOut").value;if(console.log("time in , timeout",n,r),!n)return this.notificationService.error("select Time in "),this.trailerInspectionForm.get("TimeOut").setValue(""),void(this.isFormError=!0);if(n&&r){const l=this.parseTime(n),c=this.parseTime(r);if(l>=c)return this.notificationService.error("Time out should be greater than Time in "),this.trailerInspectionForm.get("TimeOut").setValue(""),void(this.isFormError=!0);if(l<c){const d=Math.floor((c-l)/6e4),f=Math.floor(d/60),g=d%60;this.trailerInspectionForm.get("TotalTime").setValue(`${f}:${g<10?"0":""}${g}`),this.isFormError=!1}else this.trailerInspectionForm.get("TotalTime").setValue(""),this.isFormError=!0}}OnInspectionTime(t){const n=this.trailerInspectionForm.get("TimeIn").value,r=this.trailerInspectionForm.get("TimeOut").value,l=this.trailerInspectionForm.get("TimeOfInspection").value;if(!n)return this.notificationService.error("select Time in "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);if(!r)return this.notificationService.error("select Time out "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);if(n&&r){const c=this.parseTime(n),s=this.parseTime(r),d=this.parseTime(l);if(d<c)return this.notificationService.error("Inspection time should be greater than Time in "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);if(d>s)return this.notificationService.error("Inspection time should be less than Time out "),this.trailerInspectionForm.get("TimeOfInspection").setValue(""),void(this.isFormError=!0);d>=c&&d<=s?this.isFormError=!1:(this.trailerInspectionForm.get("TimeOfInspection").setValue(""),this.isFormError=!0)}}parseTime(t){const[n,r]=t.split(" ");let[l,c]=n.split(":").map(Number);"PM"===r&&l<12&&(l+=12),"AM"===r&&12===l&&(l=0);const s=new Date;return s.setHours(l),s.setMinutes(c),s.setSeconds(0),s.setMilliseconds(0),s.getTime()}createTrailerInspection(t){this.trailerInspectionService.addTrailerInspection(t).subscribe(()=>{this.cancel(),this.notificationService.success("Trailer Inspection created successfully.")},n=>{this.error=n})}updateTrailerInspection(t){this.trailerInspectionService.updateTrailerInspection(t).subscribe(()=>{this.cancel(),this.notificationService.success("Trailer Inspection  updated successfully.")},n=>{this.error=n})}save(){if(this.isFormSubmitted=!0,!this.trailerInspectionForm.invalid){let t=this.trailerInspectionForm.value;console.log("formvalue",t);let n=this.validateFOrm(t);if(console.log("isValid",n),n){let r=this.transformData(t);console.log("Playload",r),this.isEditMode?this.updateTrailerInspection(r):this.createTrailerInspection(r)}}}validateFOrm(t){return this.isFormError?(this.notificationService.error("please check time issue"),!1):"Fail"===t.VehicleCleanAns&&0==t.VehicleCleanNotes.trim().length?(this.notificationService.error("enter Vehicle Clean Notes"),!1):"Fail"===t.ComingOrderFromForeignAns&&0==t.ComingOrderFromForeignNotes.trim().length?(this.notificationService.error("enter Coming Order From Foreign  Notes"),!1):"Fail"===t.DoorCloseProperlyAns&&0==t.DoorCloseProperlyNotes.trim().length?(this.notificationService.error("enter Door Close Properly Notes"),!1):"Fail"===t.OverallIntegrityAns&&0==t.OverallIntegrityNotes.trim().length?(this.notificationService.error("enter Overall Integrity Notes"),!1):"Fail"===t.FloorInGoodConditionAns&&0==t.FloorInGoodConditionNotes.trim().length?(this.notificationService.error("enter Floor In Good Condition Notes"),!1):"Fail"===t.PresentOnTrailerAns&&0==t.PresentOnTrailerNotes.trim().length?(this.notificationService.error("enter Present On Trailer Notes"),!1):"Fail"===t.SafeWorkingOrderAns&&0==t.SafeWorkingOrderNotes.trim().length?(this.notificationService.error("enter Safe Working Order Notes"),!1):"Fail"===t.IsRustPresentAns&&0==t.IsRustPresentNotes.trim().length?(this.notificationService.error("enter Is Rust Present Notes"),!1):"Fail"===t.TemperatureSettingUsedAns&&0==t.TemperatureSettingUsedNotes.trim().length?(this.notificationService.error("enter Temperature Setting Used Notes"),!1):!!("Rejected"!==t.VehicleStatus||0!=t.RejectionReason.length&&t.RejectionReason.trim())||(this.notificationService.error("Reason for Rejection required"),!1)}transformData(t){function r(c){const d=c.match(/(\d{1,2}):(\d{2}) (AM|PM)/i);if(!d)throw new Error("Invalid time format");let[,f,g,F]=d,u=parseInt(f,10);const fe=parseInt(g,10);"AM"===F.toUpperCase()?12===u&&(u=0):"PM"===F.toUpperCase()&&12!==u&&(u+=12);const Te=u.toString().padStart(2,"0"),Fe=fe.toString().padStart(2,"0"),y=new Date;return`${y.getFullYear()}-${(y.getMonth()+1).toString().padStart(2,"0")}-${y.getDate().toString().padStart(2,"0")}T${Te}:${Fe}`}return{Id:this.isEditMode?this.trailerInspectionData.id:0,Code:this.isEditMode?this.trailerInspectionData.code:"",Date:function n(c){const s=new Date(c);if(isNaN(s.getTime()))throw new Error("Invalid date string provided");return`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}T${String(s.getHours()).padStart(2,"0")}:${String(s.getMinutes()).padStart(2,"0")}`}(t.Date),CompanyId:t.CompanyId,InspectedById:t.InspectedById,TimeIn:this.isEditMode?this.trailerInspectionData.timeIn:r(t.TimeIn),TimeOut:this.isEditMode?this.trailerInspectionData.timeOut:r(t.TimeOut),TotalTime:this.isEditMode?this.trailerInspectionData.totalTime:t.TotalTime.toString(),TimeOfInspection:this.isEditMode?this.trailerInspectionData.timeOfInspection:r(t.TimeOfInspection),Mode:t.Mode,DriverName:t.DriverName,VehicleTypeId:t.VehicleTypeId,LicensePlateNo:t.LicensePlateNo||"",TrailerNo:t.TrailerNo||"",TruckNo:t.TruckNo||"",VehicleStatus:t.VehicleStatus,RejectionReason:t.RejectionReason,VehicleCleanAns:t.VehicleCleanAns,VehicleCleanNotes:t.VehicleCleanNotes,ComingOrderFromForeignAns:t.ComingOrderFromForeignAns,ComingOrderFromForeignNotes:t.ComingOrderFromForeignNotes,DoorCloseProperlyAns:t.DoorCloseProperlyAns,DoorCloseProperlyNotes:t.DoorCloseProperlyNotes,OverallIntegrityAns:t.OverallIntegrityAns,OverallIntegrityNotes:t.OverallIntegrityNotes,FloorInGoodConditionAns:t.FloorInGoodConditionAns,FloorInGoodConditionNotes:t.FloorInGoodConditionNotes,PresentOnTrailerAns:t.PresentOnTrailerAns,PresentOnTrailerNotes:t.PresentOnTrailerNotes,SafeWorkingOrderAns:t.SafeWorkingOrderAns,SafeWorkingOrderNotes:t.SafeWorkingOrderNotes,IsRustPresentAns:t.IsRustPresentAns,IsRustPresentNotes:t.IsRustPresentNotes,TemperatureSettingUsedAns:t.TemperatureSettingUsedAns,TemperatureSettingUsedNotes:t.TemperatureSettingUsedNotes}}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}ngOnDestroy(){this.routerSub.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(h.nX),e.rXU(h.Ix),e.rXU(m.ze),e.rXU(z.Q),e.rXU(j.tw),e.rXU(v),e.rXU(P.n))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-add-edit"]],decls:269,vars:43,consts:[["form","ngForm"],["pickerStart",""],["timepicker",""],["timeOutPicker",""],["InspectionPicker",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","class","app-button back-Green",3,"click",4,"ngIf"],["novalidate","",1,"app-form",3,"submit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],["appearance","fill",1,"full-width"],["matInput","","formControlName","Code",3,"disabled"],[3,"control","message","formSubmitted"],["matInput","","formControlName","Date",3,"matDatepicker","min"],["matSuffix","",3,"for"],["formControlName","CompanyId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","InspectedById"],["matInput","","placeholder","Select time","formControlName","TimeIn",3,"ngxTimepicker"],[4,"ngIf"],["matInput","","placeholder","Select time","formControlName","TimeOut",3,"ngModelChange","ngxTimepicker"],["matInput","","formControlName","TotalTime","readonly",""],["matInput","","placeholder","Select time","formControlName","TimeOfInspection",3,"ngModelChange","ngxTimepicker"],["formControlName","Mode",1,"d-flex"],["value","Outgoing"],["value","Incoming"],["matInput","","formControlName","DriverName"],["formControlName","VehicleTypeId"],["matInput","","formControlName","LicensePlateNo"],["matInput","","formControlName","TrailerNo"],["matInput","","formControlName","TruckNo"],["formControlName","VehicleStatus",1,"d-flex"],["value","Accepted"],["value","Rejected"],["class","col-12 col-sm-12 col-md-12 col-lg-12 mb-3",4,"ngIf"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"col-12","col-sm-12","col-md-5","col-lg-5","mb-3"],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3"],["formControlName","VehicleCleanAns"],["value","Pass"],["value","Fail"],["matInput","","formControlName","VehicleCleanNotes"],["formControlName","ComingOrderFromForeignAns"],["matInput","","formControlName","ComingOrderFromForeignNotes"],["formControlName","DoorCloseProperlyAns"],["matInput","","formControlName","DoorCloseProperlyNotes"],["formControlName","OverallIntegrityAns"],["matInput","","formControlName","OverallIntegrityNotes"],["formControlName","FloorInGoodConditionAns"],["matInput","","formControlName","FloorInGoodConditionNotes"],["formControlName","PresentOnTrailerAns"],["matInput","","formControlName","PresentOnTrailerNotes"],["formControlName","SafeWorkingOrderAns"],["matInput","","formControlName","SafeWorkingOrderNotes"],["formControlName","IsRustPresentAns"],["matInput","","formControlName","IsRustPresentNotes"],["formControlName","TemperatureSettingUsedAns"],["matInput","","formControlName","TemperatureSettingUsedNotes"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","",1,"app-button","mr-1","back-Green"],["mat-flat-button","",1,"app-button","back-Green",3,"click"],[3,"value"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-3"],["matInput","","formControlName","RejectionReason"]],template:function(n,r){if(1&n){const l=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"h4",10),e.nrm(6,"i",11),e.EFF(7," Add/Edit Trailer Inspection"),e.k0s()(),e.j41(8,"div",12),e.DNE(9,ie,2,0,"a",13),e.k0s()(),e.j41(10,"form",14,0),e.bIt("submit",function(){return e.eBV(l),e.Njj(r.save())}),e.j41(12,"div",15)(13,"div",16)(14,"h5",10),e.EFF(15,"Header Details"),e.k0s()(),e.j41(16,"div",17)(17,"div",18)(18,"div",19)(19,"mat-form-field",20)(20,"mat-label"),e.EFF(21,"Code"),e.k0s(),e.nrm(22,"input",21)(23,"mat-validation-message",22),e.k0s()(),e.j41(24,"div",19)(25,"mat-form-field",20)(26,"mat-label"),e.EFF(27,"Date"),e.k0s(),e.nrm(28,"input",23)(29,"mat-datepicker-toggle",24)(30,"mat-datepicker",null,1)(32,"mat-validation-message",22),e.k0s()(),e.j41(33,"div",19)(34,"mat-form-field",20)(35,"mat-label"),e.EFF(36,"Company"),e.k0s(),e.j41(37,"mat-select",25),e.DNE(38,re,2,2,"mat-option",26),e.k0s(),e.nrm(39,"mat-validation-message",22),e.k0s()(),e.j41(40,"div",19)(41,"mat-form-field",20)(42,"mat-label"),e.EFF(43,"Inspected By"),e.k0s(),e.j41(44,"mat-select",27),e.DNE(45,ne,2,2,"mat-option",26),e.k0s(),e.nrm(46,"mat-validation-message",22),e.k0s()(),e.j41(47,"div",19)(48,"mat-form-field",20)(49,"mat-label"),e.EFF(50,"Time In"),e.k0s(),e.nrm(51,"input",28)(52,"ngx-material-timepicker",null,2),e.DNE(54,oe,2,0,"mat-error",29),e.k0s()(),e.j41(55,"div",19)(56,"mat-form-field",20)(57,"mat-label"),e.EFF(58,"Time Out"),e.k0s(),e.j41(59,"input",30),e.bIt("ngModelChange",function(s){return e.eBV(l),e.Njj(r.OnTimeOut(s))}),e.k0s(),e.nrm(60,"ngx-material-timepicker",null,3),e.DNE(62,se,2,0,"mat-error",29),e.k0s()(),e.j41(63,"div",19)(64,"mat-form-field",20)(65,"mat-label"),e.EFF(66,"Total Time at Dock"),e.k0s(),e.nrm(67,"input",31),e.k0s()(),e.j41(68,"div",19)(69,"mat-form-field",20)(70,"mat-label"),e.EFF(71,"TimeOfInspection"),e.k0s(),e.j41(72,"input",32),e.bIt("ngModelChange",function(s){return e.eBV(l),e.Njj(r.OnInspectionTime(s))}),e.k0s(),e.nrm(73,"ngx-material-timepicker",null,4),e.DNE(75,ae,2,0,"mat-error",29),e.k0s()(),e.j41(76,"div",19)(77,"mat-label"),e.EFF(78,"Mode"),e.k0s(),e.j41(79,"mat-radio-group",33)(80,"mat-radio-button",34),e.EFF(81,"Outgoing"),e.k0s(),e.j41(82,"mat-radio-button",35),e.EFF(83,"Incoming"),e.k0s()()(),e.j41(84,"div",19)(85,"mat-form-field",20)(86,"mat-label"),e.EFF(87,"Driver Name"),e.k0s(),e.nrm(88,"input",36)(89,"mat-validation-message",22),e.k0s()(),e.j41(90,"div",19)(91,"mat-form-field",20)(92,"mat-label"),e.EFF(93,"Vehicle Type"),e.k0s(),e.j41(94,"mat-select",37),e.DNE(95,le,2,2,"mat-option",26),e.k0s(),e.nrm(96,"mat-validation-message",22),e.k0s()(),e.j41(97,"div",19)(98,"mat-form-field",20)(99,"mat-label"),e.EFF(100,"License Plate No"),e.k0s(),e.nrm(101,"input",38)(102,"mat-validation-message",22),e.k0s()(),e.j41(103,"div",19)(104,"mat-form-field",20)(105,"mat-label"),e.EFF(106,"Trailer No"),e.k0s(),e.nrm(107,"input",39)(108,"mat-validation-message",22),e.k0s()(),e.j41(109,"div",19)(110,"mat-form-field",20)(111,"mat-label"),e.EFF(112,"Truck No"),e.k0s(),e.nrm(113,"input",40)(114,"mat-validation-message",22),e.k0s()()(),e.j41(115,"div",18)(116,"div",19)(117,"mat-label"),e.EFF(118,"Vehicle Accepted or Rejected?"),e.k0s(),e.j41(119,"mat-radio-group",41)(120,"mat-radio-button",42),e.EFF(121,"Accepted"),e.k0s(),e.j41(122,"mat-radio-button",43),e.EFF(123,"Rejected"),e.k0s()()(),e.DNE(124,ce,6,3,"div",44),e.k0s()()(),e.j41(125,"div",15)(126,"div",45)(127,"h5",10),e.EFF(128,"Specifications"),e.k0s()(),e.j41(129,"div",17)(130,"div",18)(131,"div",46)(132,"p"),e.EFF(133,"Is the interior and exterior of the vehicle clean and free of debris?"),e.k0s()(),e.j41(134,"div",47)(135,"mat-radio-group",48)(136,"mat-radio-button",49),e.EFF(137,"Pass"),e.k0s(),e.j41(138,"mat-radio-button",50),e.EFF(139,"Fail"),e.k0s()()(),e.j41(140,"div",46)(141,"mat-form-field",20)(142,"mat-label"),e.EFF(143,"Notes"),e.k0s(),e.nrm(144,"input",51),e.k0s()()(),e.j41(145,"div",18)(146,"div",46)(147,"p"),e.EFF(148,"Are there any foreign orders coming from the trailer?"),e.k0s()(),e.j41(149,"div",47)(150,"mat-radio-group",52)(151,"mat-radio-button",49),e.EFF(152,"Pass"),e.k0s(),e.j41(153,"mat-radio-button",50),e.EFF(154,"Fail"),e.k0s()()(),e.j41(155,"div",46)(156,"mat-form-field",20)(157,"mat-label"),e.EFF(158,"Notes"),e.k0s(),e.nrm(159,"input",53),e.k0s()()(),e.j41(160,"div",18)(161,"div",46)(162,"p"),e.EFF(163,"Are the doors able to lock and close properly?"),e.k0s()(),e.j41(164,"div",47)(165,"mat-radio-group",54)(166,"mat-radio-button",49),e.EFF(167,"Pass"),e.k0s(),e.j41(168,"mat-radio-button",50),e.EFF(169,"Fail"),e.k0s()()(),e.j41(170,"div",46)(171,"mat-form-field",20)(172,"mat-label"),e.EFF(173,"Notes"),e.k0s(),e.nrm(174,"input",55),e.k0s()()(),e.j41(175,"div",18)(176,"div",46)(177,"p"),e.EFF(178,"Has the load been transported or is going to be transported in a way which could have impacted its quality safety or overall integrity?"),e.k0s()(),e.j41(179,"div",47)(180,"mat-radio-group",56)(181,"mat-radio-button",49),e.EFF(182,"Pass"),e.k0s(),e.j41(183,"mat-radio-button",50),e.EFF(184,"Fail"),e.k0s()()(),e.j41(185,"div",46)(186,"mat-form-field",20)(187,"mat-label"),e.EFF(188,"Notes"),e.k0s(),e.nrm(189,"input",57),e.k0s()()(),e.j41(190,"div",18)(191,"div",46)(192,"p"),e.EFF(193,"Are the floors in good condition?"),e.k0s()(),e.j41(194,"div",47)(195,"mat-radio-group",58)(196,"mat-radio-button",49),e.EFF(197,"Pass"),e.k0s(),e.j41(198,"mat-radio-button",50),e.EFF(199,"Fail"),e.k0s()()(),e.j41(200,"div",46)(201,"mat-form-field",20)(202,"mat-label"),e.EFF(203,"Notes"),e.k0s(),e.nrm(204,"input",59),e.k0s()()(),e.j41(205,"div",18)(206,"div",46)(207,"p"),e.EFF(208,"Are any major holes or openings present on the trailer?"),e.k0s()(),e.j41(209,"div",47)(210,"mat-radio-group",60)(211,"mat-radio-button",49),e.EFF(212,"Pass"),e.k0s(),e.j41(213,"mat-radio-button",50),e.EFF(214,"Fail"),e.k0s()()(),e.j41(215,"div",46)(216,"mat-form-field",20)(217,"mat-label"),e.EFF(218,"Notes"),e.k0s(),e.nrm(219,"input",61),e.k0s()()(),e.j41(220,"div",18)(221,"div",46)(222,"p"),e.EFF(223,"Is the overall structure of the vehicle and trailer intact and in safe working order?"),e.k0s()(),e.j41(224,"div",47)(225,"mat-radio-group",62)(226,"mat-radio-button",49),e.EFF(227,"Pass"),e.k0s(),e.j41(228,"mat-radio-button",50),e.EFF(229,"Fail"),e.k0s()()(),e.j41(230,"div",46)(231,"mat-form-field",20)(232,"mat-label"),e.EFF(233,"Notes"),e.k0s(),e.nrm(234,"input",63),e.k0s()()(),e.j41(235,"div",18)(236,"div",46)(237,"p"),e.EFF(238,"Is there any major water damage or rust present?"),e.k0s()(),e.j41(239,"div",47)(240,"mat-radio-group",64)(241,"mat-radio-button",49),e.EFF(242,"Pass"),e.k0s(),e.j41(243,"mat-radio-button",50),e.EFF(244,"Fail"),e.k0s()()(),e.j41(245,"div",46)(246,"mat-form-field",20)(247,"mat-label"),e.EFF(248,"Notes"),e.k0s(),e.nrm(249,"input",65),e.k0s()()(),e.j41(250,"div",18)(251,"div",46)(252,"p"),e.EFF(253,"(If applicable) was/is the correct temperature setting used for transporting the load?"),e.k0s()(),e.j41(254,"div",47)(255,"mat-radio-group",66)(256,"mat-radio-button",49),e.EFF(257,"Pass"),e.k0s(),e.j41(258,"mat-radio-button",50),e.EFF(259,"Fail"),e.k0s()()(),e.j41(260,"div",46)(261,"mat-form-field",20)(262,"mat-label"),e.EFF(263,"Notes"),e.k0s(),e.nrm(264,"input",67),e.k0s()()()()(),e.j41(265,"div",18)(266,"div",68)(267,"button",69),e.EFF(268,"Save"),e.k0s()()()()()()()}if(2&n){const l=e.sdS(31),c=e.sdS(53),s=e.sdS(61),d=e.sdS(74);e.R7$(9),e.Y8G("ngIf",r.IsViewPermission),e.R7$(),e.Y8G("formGroup",r.trailerInspectionForm),e.R7$(12),e.Y8G("disabled",!0),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.Code)("message","Code")("formSubmitted",r.isFormSubmitted),e.R7$(5),e.Y8G("matDatepicker",l)("min",r.getToday()),e.R7$(),e.Y8G("for",l),e.R7$(3),e.Y8G("control",r.trailerInspectionForm.controls.Date)("message","Date Time")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("ngForOf",r.companyList),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.CompanyId)("message","Company Id")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("ngForOf",r.usersList),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.InspectedById)("message","Inspected By Id")("formSubmitted",r.isFormSubmitted),e.R7$(5),e.Y8G("ngxTimepicker",c),e.R7$(3),e.Y8G("ngIf",r.trailerInspectionForm.get("TimeIn").hasError("required")),e.R7$(5),e.Y8G("ngxTimepicker",s),e.R7$(3),e.Y8G("ngIf",r.trailerInspectionForm.get("TimeOut").hasError("required")),e.R7$(10),e.Y8G("ngxTimepicker",d),e.R7$(3),e.Y8G("ngIf",r.trailerInspectionForm.get("TimeOfInspection").hasError("required")),e.R7$(14),e.Y8G("control",r.trailerInspectionForm.controls.DriverName)("message","Driver Name")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("ngForOf",r.vehicleTypeList),e.R7$(),e.Y8G("control",r.trailerInspectionForm.controls.VehicleTypeId)("message","Vehicle Type")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("control",r.trailerInspectionForm.controls.LicensePlateNo)("message","License Plate No")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("control",r.trailerInspectionForm.controls.TrailerNo)("message","Trailer No")("formSubmitted",r.isFormSubmitted),e.R7$(6),e.Y8G("control",r.trailerInspectionForm.controls.TruckNo)("message","Truck No")("formSubmitted",r.isFormSubmitted),e.R7$(10),e.Y8G("ngIf","Rejected"===r.trailerInspectionForm.get("VehicleStatus").value)}},dependencies:[I.Sq,I.bT,m.qT,m.me,m.BC,m.cb,m.j4,m.JD,b.It,b.$z,T.rl,T.nJ,T.TL,T.yw,Q.fg,Z.VO,q.wT,k.Vh,k.bZ,k.bU,A.VT,A._g,ee.T,te.r,C.zk,C.v2],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.full-width[_ngcontent-%COMP%]{width:100%}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.card-header[_ngcontent-%COMP%]{background-color:#17bb58!important;border-bottom:1px solid rgb(23,187,88)!important;padding:.75rem 1.25rem;color:#fff}.back-Green[_ngcontent-%COMP%]{background-color:#17bb58!important;color:#fff!important}.icon-green[_ngcontent-%COMP%]{color:green}"]})}return i})();o(9239);var S=o(6441);const pe=[{path:"",component:O,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:R,canActivate:[S.L],data:{permission:"Trailer Inspection (PER_TRAILERINSPECTION) - View"}},{path:"add",canActivate:[S.L],data:{permission:"Trailer Inspection (PER_TRAILERINSPECTION) - Add"},component:E},{path:"edit/:id",canActivate:[S.L],data:{permission:"Trailer Inspection (PER_TRAILERINSPECTION) - Edit"},component:E}]}];let ue=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[h.iI.forChild(pe),h.iI]})}return i})();var he=o(1774),ge=o(9830);let Ie=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({providers:[v,(0,ge._c)()],imports:[I.MD,ue,he.Gg,C.c9]})}return i})()}}]);