"use strict";(self.webpackChunkskyward_admin=self.webpackChunkskyward_admin||[]).push([[727],{20727:(lt,C,s)=>{s.r(C),s.d(C,{PalletPackingModule:()=>at});var u=s(60177),m=s(18498),t=s(54438);let S=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-pallet-packing"]],decls:1,vars:0,template:function(i,a){1&i&&t.nrm(0,"router-outlet")},dependencies:[m.n3]})}return n})();var o=s(4434),j=s(21626);let P=(()=>{class n{getPalletList(){throw new Error("Method not implemented.")}constructor(e,i){this.http=e,this._baseService=i}getPalletPackingList(){return this.http.get(`${o.T6.palletPackingList}`)}getShiftList(){return this.http.get(`${o.T6.ShiftList}`)}getProductionOrderList(){return this.http.get(`${o.T6.ProductionOrderList}`)}getProductList(){return this.http.get(`${o.T6.ProductList}`)}getUserList(){return this.http.get(`${o.T6.UserList}`)}addPalletPacking(e){return this.http.post(`${o.T6.palletPackingAdd}`,e)}updatePalletPacking(e){return this.http.post(`${o.T6.palletPackingEdit}`,e)}getByIdPalletPacking(e){return this.http.get(`${o.T6.palletPackingGetById}?id=${e}`)}deletePalletPacking(e){return this.http.get(`${o.T6.palletPackingDelete}?id=${e}`)}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(j.Qq),t.KVO(o.dD))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y=s(45794),g=s(88834),I=s(99213),h=s(33380),T=s(30220),A=s(49239);let E=(()=>{class n{constructor(){this.searchChanged=new t.bkB,this.searchData={},this.searchKey="startDateTime, endDateTime, shiftName"}updateSearchTerms(e,i){this.searchData[e]=i,this.searchChanged.emit(this.searchData)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["pallet-packing-search-panel"]],outputs:{searchChanged:"searchChanged"},decls:3,vars:1,consts:[[1,"row"],[1,"col-lg-6"],[3,"textSearchEntered","placeHolder"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"search-text",2),t.bIt("textSearchEntered",function(r){return a.updateSearchTerms(a.searchKey,r)}),t.k0s()()()),2&i&&(t.R7$(2),t.Y8G("placeHolder","Search Shift"))},dependencies:[A.D]})}return n})();var O=s(96081);const $=()=>["../","add"],B=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),L=n=>["..","edit",n];function _(n,c){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&n){const e=c.value;t.R7$(),t.JRh(t.i5U(2,1,e,"MM/dd/yyyy hh:mm a"))}}function R(n,c){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=c.value;t.R7$(),t.JRh(e)}}function G(n,c){if(1&n&&(t.j41(0,"a",19)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()),2&n){const e=t.XpG().row;t.Y8G("routerLink",t.eq3(1,L,e.id))}}function M(n,c){if(1&n){const e=t.RV6();t.DNE(0,G,3,3,"a",17),t.j41(1,"button",18),t.bIt("click",function(){const a=t.eBV(e).row,l=t.XpG();return t.Njj(l.removePalletPacking(a.id))}),t.j41(2,"mat-icon"),t.EFF(3,"close"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("authPermission",e.page+"_"+e.permissions.edit)}}let N=(()=>{class n{constructor(e,i){this.palletPackingService=e,this.notificationService=i,this.palletPackingData=[],this.page=o.Wt.palletPacking,this.permissions=o.eZ,this.searchData={},this.showDeleteModal=!1}ngOnInit(){this.getPalletPackingData()}getPalletPackingData(){this.loading=!0,this.palletPackingService.getPalletPackingList().subscribe(e=>{this.palletPackingData=e,console.log("Pallet Packing list",this.palletPackingData),this.loading=!1},e=>{this.error=e,this.loading=!1})}removePalletPacking(e){confirm("Are you sure you want to delete this Pallet Packing?")&&this.palletPackingService.deletePalletPacking(e).subscribe(()=>{this.getPalletPackingData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(e){this.searchData=Object.assign({},e),console.log("search data",this.searchData)}isActiveRow(e){return{"text-danger":!e.isActive}}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(P),t.rXU(y.tw))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-pallet-packing-list"]],decls:23,vars:16,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","color","primary",1,"app-button",3,"routerLink"],[1,"icon-plus"],[1,"row"],[1,"col-12"],[3,"searchChanged"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","messages"],["name"," Date","prop","packingDateTime"],["ngx-datatable-cell-template",""],["name","Product Name","prop","productName"],["name","Actions",3,"sortable"],["class","button-padding","color","primary",3,"routerLink",4,"authPermission"],["type","button",2,"border","none","background-color","white","color","red",3,"click"],["color","primary",1,"button-padding",3,"routerLink"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6,"Pallet Packing List"),t.k0s()(),t.j41(7,"div",6)(8,"a",7)(9,"span"),t.EFF(10,"Add New"),t.k0s(),t.nrm(11,"i",8),t.k0s()()(),t.j41(12,"div",9)(13,"div",10)(14,"pallet-packing-search-panel",11),t.bIt("searchChanged",function(r){return a.updateSearch(r)}),t.k0s(),t.j41(15,"ngx-datatable",12),t.nI1(16,"searchtable"),t.j41(17,"ngx-datatable-column",13),t.DNE(18,_,3,4,"ng-template",14),t.k0s(),t.j41(19,"ngx-datatable-column",15),t.DNE(20,R,2,1,"ng-template",14),t.k0s(),t.j41(21,"ngx-datatable-column",16),t.DNE(22,M,4,1,"ng-template",14),t.k0s()()()()()()()),2&i&&(t.R7$(8),t.Y8G("routerLink",t.lJ4(14,$)),t.R7$(7),t.Y8G("rows",t.i5U(16,11,a.palletPackingData,a.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",a.loading)("scrollbarH",!0)("messages",t.lJ4(15,B)),t.R7$(6),t.Y8G("sortable",!1))},dependencies:[m.Wk,g.It,I.An,h.ge,h.ed,h.QI,T.B,E,u.vh,O.j],styles:[".button-padding[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .button-padding[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;vertical-align:middle}.button-padding[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px;text-decoration:none;color:inherit}"]})}return n})();var d=s(89417),k=s(32102),w=s(99631),Y=s(82798),x=s(86600),f=s(25084),U=s(58777),V=s(67133),v=s(42356);function H(n,c){if(1&n){const e=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.cancel())}),t.EFF(1," View List "),t.k0s()}}function X(n,c){if(1&n&&(t.j41(0,"mat-option",42),t.EFF(1),t.k0s()),2&n){const e=c.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.poNumber," ")}}function J(n,c){if(1&n&&(t.j41(0,"mat-option",42),t.EFF(1),t.k0s()),2&n){const e=c.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.productName," ")}}function W(n,c){if(1&n&&(t.j41(0,"mat-option",42),t.EFF(1),t.k0s()),2&n){const e=c.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function z(n,c){if(1&n&&(t.j41(0,"mat-option",42),t.EFF(1),t.k0s()),2&n){const e=c.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function K(n,c){if(1&n){const e=t.RV6();t.j41(0,"div",43)(1,"div",17)(2,"mat-form-field",18)(3,"mat-label"),t.EFF(4,"Pallet No"),t.k0s(),t.nrm(5,"input",44)(6,"mat-validation-message",21),t.k0s()(),t.j41(7,"div",17)(8,"mat-form-field",18)(9,"mat-label"),t.EFF(10,"Time"),t.k0s(),t.nrm(11,"input",45)(12,"ngx-material-timepicker",null,2),t.k0s()(),t.j41(14,"div",17)(15,"mat-form-field",18)(16,"mat-label"),t.EFF(17,"Done By"),t.k0s(),t.j41(18,"mat-select",46),t.DNE(19,z,2,2,"mat-option",23),t.k0s(),t.nrm(20,"mat-validation-message",21),t.k0s()(),t.j41(21,"div",47)(22,"button",48),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addFinalPalletDetail())}),t.j41(23,"mat-icon"),t.EFF(24,"add"),t.k0s()()()()}if(2&n){const e=c.$implicit,i=c.index,a=t.sdS(13),l=t.XpG();t.Y8G("formGroupName",i),t.R7$(6),t.Y8G("control",e.get("PalletNo"))("message","Pallet No")("formSubmitted",l.isFormSubmitted),t.R7$(5),t.Y8G("ngxTimepicker",a),t.R7$(8),t.Y8G("ngForOf",l.usersList),t.R7$(),t.Y8G("control",e.get("DoneByIds"))("message","Done By")("formSubmitted",l.isFormSubmitted)}}function Q(n,c){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"button",49),t.bIt("click",function(){const a=t.eBV(e),l=a.$implicit,r=a.index,p=t.XpG();return t.Njj(p.onEditDetail(l,r))}),t.nrm(9,"i",50),t.k0s()()()}if(2&n){const e=c.$implicit,i=t.XpG();t.R7$(2),t.JRh(e.PalletNo),t.R7$(2),t.JRh(e.Time),t.R7$(2),t.JRh(i.getUserNames(e.DoneByIds))}}let D=(()=>{class n{constructor(e,i,a,l,r){this.activatedRoute=e,this.router=i,this.formBuilder=a,this.palletPackingService=l,this.notificationService=r,this.isFormSubmitted=!1,this.page=o.Wt.palletPacking,this.permissions=o.eZ,this.productionOrderList=[],this.productList=[],this.usersList=[],this.addedPalletPackingDetailsList=[],this.editPalletDetailsId=-1,this.minEndDate=null,this.palletList=[],this.createForm()}ngOnInit(){this.getRoute(),this.loadDropdowns(),this.addPalletDetail()}getRoute(){this.routerSub=this.activatedRoute.params.subscribe(e=>{this.isEditMode=!o.ov.isEmpty(e.id),this.isEditMode&&(this.palletPackingId=+e.id,this.getPalletPackingById())})}getPalletPackingById(){this.palletPackingService.getByIdPalletPacking(this.palletPackingId).subscribe(e=>{this.palletPackingData=e,this.setPalletPackingData()},e=>{console.log(e)})}setPalletPackingData(){this.palletPackingForm.patchValue({PackingDateTime:this.palletPackingData.packingDateTime,SAPProductionOrderId:this.palletPackingData.sapProductionOrderId,ProductId:this.palletPackingData.productId,FinishedCasesOnIncompletePalletAtStart:this.palletPackingData.finishedCasesOnIncompletePalletAtStart,FinishedCasesOnIncompletePalletAtEnd:this.palletPackingData.finishedCasesOnIncompletePalletAtEnd,TotalCasesProduced:this.palletPackingData.totalCasesProduced,SupervisedBy:this.palletPackingData.supervisedId,Notes:this.palletPackingData.notes}),this.palletPackingForm.get("SAPProductionOrderId").disable(),this.palletPackingForm.get("ProductId").disable(),this.palletPackingData.palletPackingDetails&&(this.palletPackingData.palletPackingDetails.forEach(e=>{const i=e.doneByIds?e.doneByIds.split(",").map(l=>Number(l.trim())).filter(l=>!isNaN(l)):[],a={PalletNo:e.palletNo,Time:new Date(e.time).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),DoneByIds:i,Id:e.id,HeaderId:e.headerId};this.addedPalletPackingDetailsList.push(a)}),this.addPalletDetail())}loadDropdowns(){this.palletPackingService.getProductionOrderList().subscribe(e=>{this.productionOrderList=e,console.log("data",this.productionOrderList)}),this.palletPackingService.getProductList().subscribe(e=>{this.productList=e}),this.palletPackingService.getUserList().subscribe(e=>{this.usersList=e,this.initializeUserMap()})}initializeUserMap(){this.userMap=new Map,this.usersList.forEach(e=>{this.userMap.set(e.id,e.name)})}createForm(){this.palletPackingForm=this.formBuilder.group({PackingDateTime:["",[d.k0.required]],SAPProductionOrderId:["",[d.k0.required]],ProductId:["",[d.k0.required]],FinishedCasesOnIncompletePalletAtStart:["",[d.k0.required]],FinishedCasesOnIncompletePalletAtEnd:["",[d.k0.required]],TotalCasesProduced:[{value:"",disabled:!0},[d.k0.required]],SupervisedBy:["",[d.k0.required]],Notes:[""],palletPackingDetails:this.formBuilder.array([])}),this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.calculateTotalCasesProduced()}calculateTotalCasesProduced(){this.palletPackingForm.get("NoOfPalletsCompleted")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced()),this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtStart")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced()),this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtEnd")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced())}updateTotalCasesProduced(){const e=this.palletPackingForm.get("NoOfPalletsCompleted")?.value||0,i=this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtStart")?.value||0,l=64*e+((this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtEnd")?.value||0)-i);this.palletPackingForm.get("TotalCasesProduced")?.setValue(l,{emitEvent:!1})}onPackingDateChange(){const e=this.palletPackingForm.get("PackingDateTime")?.value;this.minEndDate=e?new Date(e):null}addPalletDetail(){this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.palletPackingDetails.clear(),this.editPalletDetailsId=-1;const e=this.formBuilder.group({});this.productionOrderList.forEach(i=>{e.addControl(i.id.toString(),this.formBuilder.control(""))}),e.addControl("PalletNo",this.formBuilder.control("")),e.addControl("Time",this.formBuilder.control("")),e.addControl("DoneByIds",this.formBuilder.control([])),this.palletPackingDetails.push(e),console.log("PalletPackingDetails",this.palletPackingDetails.controls)}formatToDateTime(e){if(!e)return console.error("No date string provided"),null;const i=new Date;let a;return a=e.includes("AM")||e.includes("PM")?new Date(`${i.toISOString().split("T")[0]}T${e}`):new Date(e),isNaN(a.getTime())?(console.error("Invalid date string provided:",e),null):`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}T${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`}addFinalPalletDetail(){const e=this.palletPackingDetails.at(0).value;e.Time?e.DoneByIds&&0!==e.DoneByIds.length?(e.DoneByIds=Array.isArray(e.DoneByIds)?e.DoneByIds.map(i=>Number(i)):[],this.editPalletDetailsId>=0?(this.addedPalletPackingDetailsList[this.editPalletDetailsId]=e,this.editPalletDetailsId=-1):this.addedPalletPackingDetailsList.push(e),this.palletPackingDetails.clear(),this.addPalletDetail(),console.log("Added pallet details:",this.addedPalletPackingDetailsList)):this.notificationService.error("Please select Done By"):this.notificationService.error("Please select time")}getUserNames(e){return console.log("User IDs:",e),console.log("User Map:",this.userMap),e&&Array.isArray(e)?e.map(i=>this.userMap.get(i)||"Unknown").join(", "):"Unknown"}onEditDetail(e,i){this.populateFormWithValues([e]),console.log("Editing detail:",e),this.editPalletDetailsId=i}populateFormWithValues(e){const i=Array.isArray(e)?e:[e];this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.palletPackingDetails.clear(),i.forEach(a=>{const l=this.formBuilder.group({});l.addControl("PalletNo",this.formBuilder.control(a.PalletNo||"")),l.addControl("Time",this.formBuilder.control(a.Time||""));const r=Array.isArray(a.DoneByIds)?a.DoneByIds:[a.DoneByIds];l.addControl("DoneByIds",this.formBuilder.control(r.map(Number))),this.palletPackingDetails.push(l)}),console.log("Populated PalletPackingDetails:",this.palletPackingDetails.controls)}removePalletDetail(e){this.addedPalletPackingDetailsList.splice(e,1),this.palletPackingDetails.removeAt(e)}createPalletPacking(e){this.palletPackingService.addPalletPacking(e).subscribe(()=>{this.cancel(),this.notificationService.success("Pallet Packing created successfully.")},i=>{this.error=i})}formatDateTime(e){if(e){let i=new Date(e);if(!isNaN(i.getTime()))return i.toISOString();console.error("Invalid date format:",e)}return null}updatePalletPacking(e){this.palletPackingService.updatePalletPacking(e).subscribe(()=>{this.cancel(),this.notificationService.success("Pallet Packing updated successfully.")},i=>{this.error=i})}save(){if(this.isFormSubmitted=!0,this.palletPackingForm.invalid)return;const i=this.palletPackingForm.get("PackingDateTime")?.value;if(!i||isNaN(new Date(i).getTime()))return void this.notificationService.error("Invalid Packing Date Time");if(0===this.addedPalletPackingDetailsList.length)return void this.notificationService.error("At least one pallet detail is required.");const a=this.palletPackingForm.value;a.palletPackingDetails=this.addedPalletPackingDetailsList;const l=this.transformData(a);console.log("Transformed Payload:",JSON.stringify(l,null,2)),this.isEditMode?this.updatePalletPacking(l):this.createPalletPacking(l)}transformData(e){function i(l){if(!l)return null;const r=new Date(l);return isNaN(r.getTime())?null:`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}T${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}`}const a=Array.isArray(e.palletPackingDetails)?e.palletPackingDetails:Object.values(e.palletPackingDetails||{});return{Id:this.isEditMode?this.palletPackingData.id:0,Code:this.isEditMode?this.palletPackingData.code:"",PackingDateTime:i(e.PackingDateTime),SAPProductionOrderId:e.SAPProductionOrderId,ProductId:e.ProductId,FinishedCasesOnIncompletePalletAtStart:e.FinishedCasesOnIncompletePalletAtStart,FinishedCasesOnIncompletePalletAtEnd:e.FinishedCasesOnIncompletePalletAtEnd,TotalCasesProduced:e.TotalCasesProduced,SupervisedBy:e.SupervisedBy,Notes:e.Notes,palletPackingDetails:a.map(l=>({PalletNo:l.PalletNo,Time:i(l.Time),DoneByIds:Array.isArray(l.DoneByIds)?l.DoneByIds.join(","):l.DoneByIds}))}}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}ngOnDestroy(){this.routerSub&&this.routerSub.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(m.nX),t.rXU(m.Ix),t.rXU(d.ze),t.rXU(P),t.rXU(y.tw))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-add-edit"]],decls:99,vars:35,consts:[["form","ngForm"],["pickerPackingDate",""],["timepicker",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","color","primary","class","app-button",3,"click",4,"authPermission"],["novalidate","",1,"app-form",3,"ngSubmit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],["appearance","fill",1,"full-width"],["matInput","","formControlName","PackingDateTime",3,"dateChange","matDatepicker"],["matSuffix","",3,"for"],[3,"control","message","formSubmitted"],["formControlName","SAPProductionOrderId",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],["formControlName","ProductId",3,"disabled"],["matInput","","formControlName","FinishedCasesOnIncompletePalletAtStart","type","number"],["matInput","","formControlName","FinishedCasesOnIncompletePalletAtEnd","type","number"],["matInput","","formControlName","TotalCasesProduced","type","number"],["formControlName","SupervisedBy"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-3"],["matInput","","formControlName","Notes"],[1,"card-header","d-flex","align-items-center","justify-content-between"],["formArrayName","palletPackingDetails"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"table-responsive"],["id","gridPalletPackingDetails",1,"table","table-hover","table-bordered"],[1,"bg-primary","text-primary","text-center"],[4,"ngFor","ngForOf"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","","color","primary",1,"app-button","mr-1"],["mat-flat-button","","color","primary",1,"app-button",3,"click"],[3,"value"],[1,"row","mt-3",3,"formGroupName"],["matInput","","formControlName","PalletNo"],["matInput","","placeholder","Select time","formControlName","Time",3,"ngxTimepicker"],["formControlName","DoneByIds","multiple",""],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3","d-flex","align-items-center"],["type","button","mat-icon-button","","color","warn",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","btnModifyRow",3,"click"],[1,"fa","fa-pencil"]],template:function(i,a){if(1&i){const l=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h4",8),t.nrm(6,"i",9),t.EFF(7," Add/Edit Pallet Packing"),t.k0s()(),t.j41(8,"div",10),t.DNE(9,H,2,0,"a",11),t.k0s()(),t.j41(10,"form",12,0),t.bIt("ngSubmit",function(){return t.eBV(l),t.Njj(a.save())}),t.j41(12,"div",13)(13,"div",14)(14,"h5",8),t.EFF(15,"Header Details"),t.k0s()(),t.j41(16,"div",15)(17,"div",16)(18,"div",17)(19,"mat-form-field",18)(20,"mat-label"),t.EFF(21,"Packing Date Time"),t.k0s(),t.j41(22,"input",19),t.bIt("dateChange",function(){return t.eBV(l),t.Njj(a.onPackingDateChange())}),t.k0s(),t.nrm(23,"mat-datepicker-toggle",20)(24,"mat-datepicker",null,1)(26,"mat-validation-message",21),t.k0s()(),t.j41(27,"div",17)(28,"mat-form-field",18)(29,"mat-label"),t.EFF(30,"SAP Production Order"),t.k0s(),t.j41(31,"mat-select",22),t.DNE(32,X,2,2,"mat-option",23),t.k0s(),t.nrm(33,"mat-validation-message",21),t.k0s()(),t.j41(34,"div",17)(35,"mat-form-field",18)(36,"mat-label"),t.EFF(37,"Product"),t.k0s(),t.j41(38,"mat-select",24),t.DNE(39,J,2,2,"mat-option",23),t.k0s(),t.nrm(40,"mat-validation-message",21),t.k0s()(),t.j41(41,"div",17)(42,"mat-form-field",18)(43,"mat-label"),t.EFF(44,"Finished Cases (Start)"),t.k0s(),t.nrm(45,"input",25)(46,"mat-validation-message",21),t.k0s()(),t.j41(47,"div",17)(48,"mat-form-field",18)(49,"mat-label"),t.EFF(50,"Finished Cases (End)"),t.k0s(),t.nrm(51,"input",26)(52,"mat-validation-message",21),t.k0s()(),t.j41(53,"div",17)(54,"mat-form-field",18)(55,"mat-label"),t.EFF(56,"Total Cases Produced"),t.k0s(),t.nrm(57,"input",27)(58,"mat-validation-message",21),t.k0s()(),t.j41(59,"div",17)(60,"mat-form-field",18)(61,"mat-label"),t.EFF(62,"Supervised By"),t.k0s(),t.j41(63,"mat-select",28),t.DNE(64,W,2,2,"mat-option",23),t.k0s(),t.nrm(65,"mat-validation-message",21),t.k0s()(),t.j41(66,"div",29)(67,"mat-form-field",18)(68,"mat-label"),t.EFF(69,"Notes"),t.k0s(),t.nrm(70,"textarea",30)(71,"mat-validation-message",21),t.k0s()()()()(),t.j41(72,"div",13)(73,"div",31)(74,"h5",8),t.EFF(75,"Pallet Packing Details"),t.k0s()(),t.j41(76,"div",15)(77,"div",32),t.DNE(78,K,25,9,"div",33),t.k0s()()(),t.j41(79,"div",16)(80,"div",34)(81,"div",35)(82,"table",36)(83,"thead",37)(84,"tr")(85,"th"),t.EFF(86,"Pallet No"),t.k0s(),t.j41(87,"th"),t.EFF(88,"Time"),t.k0s(),t.j41(89,"th"),t.EFF(90,"Done By"),t.k0s(),t.j41(91,"th"),t.EFF(92,"Action"),t.k0s()()(),t.j41(93,"tbody"),t.DNE(94,Q,10,3,"tr",38),t.k0s()()()()(),t.j41(95,"div",16)(96,"div",39)(97,"button",40),t.EFF(98,"Save"),t.k0s()()()()()()()}if(2&i){const l=t.sdS(25);t.R7$(9),t.Y8G("authPermission",a.page+"_"+a.permissions.list),t.R7$(),t.Y8G("formGroup",a.palletPackingForm),t.R7$(12),t.Y8G("matDatepicker",l),t.R7$(),t.Y8G("for",l),t.R7$(3),t.Y8G("control",a.palletPackingForm.controls.PackingDateTime)("message","Packing Date Time")("formSubmitted",a.isFormSubmitted),t.R7$(5),t.Y8G("disabled",a.isEditMode),t.R7$(),t.Y8G("ngForOf",a.productionOrderList),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.SAPProductionOrderId)("message","SAP Production Order")("formSubmitted",a.isFormSubmitted),t.R7$(5),t.Y8G("disabled",a.isEditMode),t.R7$(),t.Y8G("ngForOf",a.productList),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.ProductId)("message","Product")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.palletPackingForm.controls.FinishedCasesOnIncompletePalletAtStart)("message","Finished Cases (Start)")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.palletPackingForm.controls.FinishedCasesOnIncompletePalletAtEnd)("message","Finished Cases (End)")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.palletPackingForm.controls.TotalCasesProduced)("message","Total Cases Produced")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.usersList),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.SupervisedBy)("message","Supervised By")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.palletPackingForm.controls.Notes)("message","Notes")("formSubmitted",a.isFormSubmitted),t.R7$(7),t.Y8G("ngForOf",a.palletPackingDetails.controls),t.R7$(16),t.Y8G("ngForOf",a.addedPalletPackingDetailsList)}},dependencies:[u.Sq,d.qT,d.me,d.Q0,d.BC,d.cb,d.j4,d.JD,d.$R,d.v8,g.It,g.$z,g.iY,k.rl,k.nJ,k.yw,w.fg,I.An,Y.VO,x.wT,f.Vh,f.bZ,f.bU,T.B,U.T,V.r,v.zk,v.v2],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.full-width[_ngcontent-%COMP%]{width:100%}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}"]})}return n})();const Z=[{path:"",component:S,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:N,canActivate:[o.LL],data:{page:o.Wt.palletPacking,title:"Pallet Packing List"}},{path:"add",canActivate:[o.LL],data:{page:o.Wt.palletPacking,title:"Add Pallet Packing"},component:D},{path:"edit/:id",canActivate:[o.LL],data:{page:o.Wt.palletPacking,title:"Edit Pallet Packing"},component:D}]}];let q=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#a=this.\u0275inj=t.G2t({imports:[m.iI.forChild(Z),m.iI]})}return n})();var tt=s(71774),et=s(99830);let at=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#a=this.\u0275inj=t.G2t({providers:[P,(0,et._c)()],imports:[u.MD,q,tt.Gg,v.c9]})}return n})()}}]);