"use strict";(self.webpackChunkskyward_nutem=self.webpackChunkskyward_nutem||[]).push([[727],{727:(mt,I,l)=>{l.r(I),l.d(I,{PalletPackingModule:()=>rt});var g=l(177),p=l(8498),t=l(4438);let y=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-pallet-packing"]],decls:1,vars:0,template:function(n,a){1&n&&t.nrm(0,"router-outlet")},dependencies:[p.n3]})}return i})();var d=l(4434),N=l(1626);let k=(()=>{class i{getPalletList(){throw new Error("Method not implemented.")}constructor(e,n){this.http=e,this._baseService=n}getPalletPackingList(){return this.http.get(`${d.T6.palletPackingList}`)}getShiftList(){return this.http.get(`${d.T6.ShiftList}`)}getProductionOrderList(){return this.http.get(`${d.T6.ProductionOrderList}`)}getProductList(){return this.http.get(`${d.T6.ProductList}`)}getUserList(){return this.http.get(`${d.T6.UserList}`)}addPalletPacking(e){return this.http.post(`${d.T6.palletPackingAdd}`,e)}updatePalletPacking(e){return this.http.post(`${d.T6.palletPackingEdit}`,e)}getByIdPalletPacking(e){return this.http.get(`${d.T6.palletPackingGetById}?id=${e}`)}deletePalletPacking(e){return this.http.get(`${d.T6.palletPackingDelete}?id=${e}`)}static#t=this.\u0275fac=function(n){return new(n||i)(t.KVO(N.Qq),t.KVO(d.dD))};static#e=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var E=l(5794),S=l(4532),u=l(8834),T=l(9213),f=l(3380),L=l(6081);const O=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),$=()=>["../","add"],G=i=>["..","edit",i];function B(i,s){1&i&&(t.j41(0,"a",15)(1,"span"),t.EFF(2,"Add New"),t.k0s(),t.nrm(3,"i",16),t.k0s()),2&i&&t.Y8G("routerLink",t.lJ4(1,$))}function R(i,s){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const e=s.value;t.R7$(),t.JRh(t.i5U(2,1,e,"MM/dd/yyyy hh:mm a"))}}function M(i,s){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const e=s.value;t.R7$(),t.JRh(e)}}function x(i,s){if(1&i&&(t.j41(0,"a",20)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()),2&i){const e=t.XpG().row;t.Y8G("routerLink",t.eq3(1,G,e.id))}}function w(i,s){if(1&i){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(e);const a=t.XpG().row,o=t.XpG(2);return t.Njj(o.removePalletPacking(a.id))}),t.j41(1,"mat-icon"),t.EFF(2,"close"),t.k0s()()}}function Y(i,s){if(1&i&&t.DNE(0,x,3,3,"a",18)(1,w,3,0,"button",19),2&i){const e=t.XpG(2);t.Y8G("ngIf",e.IsEditPermission),t.R7$(),t.Y8G("ngIf",e.IsDeletePermission)}}function V(i,s){1&i&&(t.j41(0,"ngx-datatable-column",17),t.DNE(1,Y,2,2,"ng-template",12),t.k0s()),2&i&&t.Y8G("sortable",!1)}let A=(()=>{class i{constructor(e,n,a){this.palletPackingService=e,this.notificationService=n,this.permissionService=a,this.palletPackingData=[],this.page=d.Wt.palletPacking,this.permissions=d.eZ,this.searchData={},this.showDeleteModal=!1,this.IsAddPemission=!1,this.IsEditPermission=!1,this.IsDeletePermission=!1}ngOnInit(){this.IsAddPemission=this.permissionService.hasPermission("Pallet Packing (PER_PALLETPACKING) - Add"),this.IsEditPermission=this.permissionService.hasPermission("Pallet Packing (PER_PALLETPACKING) - Edit"),this.IsDeletePermission=this.permissionService.hasPermission("Pallet Packing (PER_PALLETPACKING) - Delete"),this.getPalletPackingData()}getPalletPackingData(){this.loading=!0,this.palletPackingService.getPalletPackingList().subscribe(e=>{this.palletPackingData=e,console.log("Pallet Packing list",this.palletPackingData),this.loading=!1},e=>{this.error=e,this.loading=!1})}removePalletPacking(e){confirm("Are you sure you want to delete this Pallet Packing?")&&this.palletPackingService.deletePalletPacking(e).subscribe(()=>{this.getPalletPackingData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(e){this.searchData=Object.assign({},e),console.log("search data",this.searchData)}isActiveRow(e){return{"text-danger":!e.isActive}}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(k),t.rXU(E.tw),t.rXU(S.n))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-pallet-packing-list"]],decls:18,vars:15,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","class","app-button btn",3,"routerLink",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","messages"],["name"," Date","prop","packingDateTime"],["ngx-datatable-cell-template",""],["name","Product Name","prop","productName"],["name","Actions",3,"sortable",4,"ngIf"],["mat-flat-button","",1,"app-button","btn",3,"routerLink"],[1,"icon-plus"],["name","Actions",3,"sortable"],["class","button-padding  icon-green",3,"routerLink",4,"ngIf"],["type","button","style","border: none; background-color: white; color: red;",3,"click",4,"ngIf"],[1,"button-padding","icon-green",3,"routerLink"],["type","button",2,"border","none","background-color","white","color","red",3,"click"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6,"Pallet Packing List"),t.k0s()(),t.j41(7,"div",6),t.DNE(8,B,4,2,"a",7),t.k0s()(),t.j41(9,"div",8)(10,"div",9)(11,"ngx-datatable",10),t.nI1(12,"searchtable"),t.j41(13,"ngx-datatable-column",11),t.DNE(14,R,3,4,"ng-template",12),t.k0s(),t.j41(15,"ngx-datatable-column",13),t.DNE(16,M,2,1,"ng-template",12),t.k0s(),t.DNE(17,V,2,1,"ngx-datatable-column",14),t.k0s()()()()()()),2&n&&(t.R7$(8),t.Y8G("ngIf",a.IsAddPemission),t.R7$(3),t.Y8G("rows",t.i5U(12,11,a.palletPackingData,a.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",a.loading)("scrollbarH",!0)("messages",t.lJ4(14,O)),t.R7$(6),t.Y8G("ngIf",a.IsEditPermission||a.IsDeletePermission))},dependencies:[g.bT,p.Wk,u.It,T.An,f.ge,f.ed,f.QI,g.vh,L.j],styles:[".button-padding[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .button-padding[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;vertical-align:middle}.button-padding[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px;text-decoration:none;color:inherit}  .ngx-datatable .datatable-header-cell{background-color:#17bb58!important;color:#fff!important}.icon-green[_ngcontent-%COMP%]{color:green}.btn[_ngcontent-%COMP%]{background-color:#17bb58!important;color:#fff!important}  .ngx-datatable.material .datatable-body .progress-linear .container{background-color:#90ee90}  .ngx-datatable.material .datatable-body .progress-linear .container .bar{background-color:green}"]})}return i})();var c=l(9417),h=l(2102),_=l(9631),U=l(2798),j=l(6600),X=l(8777),H=l(7133),b=l(2356),P=l(8910);function K(i,s){if(1&i){const e=t.RV6();t.j41(0,"a",48),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.cancel())}),t.EFF(1," View List "),t.k0s()}}function J(i,s){if(1&i&&(t.j41(0,"mat-option",49),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.poNumber," ")}}function z(i,s){if(1&i&&(t.j41(0,"mat-option",49),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.productName," ")}}function W(i,s){if(1&i&&(t.j41(0,"mat-option",49),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Q(i,s){if(1&i&&(t.j41(0,"mat-option",49),t.EFF(1),t.k0s()),2&i){const e=s.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Z(i,s){if(1&i){const e=t.RV6();t.j41(0,"div",50)(1,"div",17)(2,"mat-form-field",22)(3,"mat-label"),t.EFF(4,"Pallet No"),t.k0s(),t.nrm(5,"input",51)(6,"mat-validation-message",25),t.k0s()(),t.j41(7,"div",17)(8,"mat-form-field",22)(9,"mat-label"),t.EFF(10,"Time"),t.k0s(),t.nrm(11,"input",52)(12,"ngx-material-timepicker",null,2),t.k0s()(),t.j41(14,"div",17)(15,"mat-form-field",22)(16,"mat-label"),t.EFF(17,"Done By"),t.k0s(),t.j41(18,"mat-select",53),t.DNE(19,Q,2,2,"mat-option",24),t.k0s(),t.nrm(20,"mat-validation-message",25),t.k0s()(),t.j41(21,"div",54)(22,"button",55),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addFinalPalletDetail())}),t.j41(23,"mat-icon"),t.EFF(24,"add"),t.k0s()()()()}if(2&i){const e=s.$implicit,n=s.index,a=t.sdS(13),o=t.XpG();t.Y8G("formGroupName",n),t.R7$(6),t.Y8G("control",e.get("PalletNo"))("message","Pallet No")("formSubmitted",o.isFormSubmitted),t.R7$(5),t.Y8G("ngxTimepicker",a),t.R7$(8),t.Y8G("ngForOf",o.usersList),t.R7$(),t.Y8G("control",e.get("DoneByIds"))("message","Done By")("formSubmitted",o.isFormSubmitted)}}function q(i,s){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"button",56),t.bIt("click",function(){const a=t.eBV(e),o=a.$implicit,r=a.index,m=t.XpG();return t.Njj(m.onEditDetail(o,r))}),t.nrm(9,"i",57),t.k0s()()()}if(2&i){const e=s.$implicit,n=t.XpG();t.R7$(2),t.JRh(e.PalletNo),t.R7$(2),t.JRh(e.Time),t.R7$(2),t.JRh(n.getUserNames(e.DoneByIds))}}let v=(()=>{class i{constructor(e,n,a,o,r,m){this.activatedRoute=e,this.router=n,this.formBuilder=a,this.palletPackingService=o,this.notificationService=r,this.permissionService=m,this.isFormSubmitted=!1,this.page=d.Wt.palletPacking,this.permissions=d.eZ,this.productionOrderList=[],this.productList=[],this.usersList=[],this.addedPalletPackingDetailsList=[],this.editPalletDetailsId=-1,this.minEndDate=null,this.palletList=[],this.IsViewPermission=!1,this.createForm()}ngOnInit(){this.getRoute(),this.loadDropdowns(),this.addPalletDetail(),this.IsViewPermission=this.permissionService.hasPermission("Pallet Packing (PER_PALLETPACKING) - View")}getRoute(){this.routerSub=this.activatedRoute.params.subscribe(e=>{this.isEditMode=!d.ov.isEmpty(e.id),this.isEditMode&&(this.palletPackingId=+e.id,this.getPalletPackingById())})}getPalletPackingById(){this.palletPackingService.getByIdPalletPacking(this.palletPackingId).subscribe(e=>{this.palletPackingData=e,this.setPalletPackingData()},e=>{console.log(e)})}setPalletPackingData(){this.palletPackingForm.patchValue({PackingDateTime:this.palletPackingData.packingDateTime,SAPProductionOrderId:this.palletPackingData.sapProductionOrderId,ProductId:this.palletPackingData.productId,FinishedCasesOnIncompletePalletAtStart:this.palletPackingData.finishedCasesOnIncompletePalletAtStart,FinishedCasesOnIncompletePalletAtEnd:this.palletPackingData.finishedCasesOnIncompletePalletAtEnd,TotalCasesProduced:this.palletPackingData.totalCasesProduced,SupervisedBy:this.palletPackingData.supervisedBy,Notes:this.palletPackingData.notes}),this.palletPackingForm.get("SAPProductionOrderId").disable(),this.palletPackingForm.get("ProductId").disable(),this.palletPackingForm.get("TotalCasesProduced").disable(),this.palletPackingData.palletPackingDetails&&(this.palletPackingData.palletPackingDetails.forEach(e=>{const n=e.doneByIds?e.doneByIds.split(",").map(o=>Number(o.trim())).filter(o=>!isNaN(o)):[],a={PalletNo:e.palletNo,Time:new Date(e.time).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),DoneByIds:n,Id:e.id,HeaderId:e.headerId};this.addedPalletPackingDetailsList.push(a)}),this.addPalletDetail())}loadDropdowns(){this.palletPackingService.getProductionOrderList().subscribe(e=>{this.productionOrderList=e,console.log("data",this.productionOrderList)}),this.palletPackingService.getProductList().subscribe(e=>{this.productList=e}),this.palletPackingService.getUserList().subscribe(e=>{this.usersList=e,this.initializeUserMap()})}initializeUserMap(){this.userMap=new Map,this.usersList.forEach(e=>{this.userMap.set(e.id,e.name)})}createForm(){this.palletPackingForm=this.formBuilder.group({PackingDateTime:["",[c.k0.required]],SAPProductionOrderId:["",[c.k0.required]],ProductId:["",[c.k0.required]],FinishedCasesOnIncompletePalletAtStart:["",[c.k0.required]],FinishedCasesOnIncompletePalletAtEnd:[""],TotalCasesProduced:{value:""},SupervisedBy:["",[c.k0.required]],Notes:[""],palletPackingDetails:this.formBuilder.array([])}),this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.calculateTotalCasesProduced()}calculateTotalCasesProduced(){this.palletPackingForm.get("TotalCasesProduced")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced()),this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtStart")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced()),this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtEnd")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced())}updateTotalCasesProduced(){const e=this.addedPalletPackingDetailsList.length||1,n=this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtStart")?.value||0,a=this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtEnd")?.value||0;console.log("NoOfPalletsCompleted:",e),console.log("FinishedCasesAtStart:",n),console.log("FinishedCasesAtEnd:",a);const o=64*e+(a-n);this.palletPackingForm.get("TotalCasesProduced")?.setValue(o,{emitEvent:!1})}onPackingDateChange(){const e=this.palletPackingForm.get("PackingDateTime")?.value;this.minEndDate=e?new Date(e):null}addPalletDetail(){this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.palletPackingDetails.clear(),this.editPalletDetailsId=-1;const e=this.formBuilder.group({});this.productionOrderList.forEach(n=>{e.addControl(n.id.toString(),this.formBuilder.control(""))}),e.addControl("PalletNo",this.formBuilder.control("")),e.addControl("Time",this.formBuilder.control("")),e.addControl("DoneByIds",this.formBuilder.control([])),this.palletPackingDetails.push(e),console.log("PalletPackingDetails",this.palletPackingDetails.controls)}formatToDateTime(e){if(!e)return console.error("No date string provided"),null;const n=new Date;let a;return a=e.includes("AM")||e.includes("PM")?new Date(`${n.toISOString().split("T")[0]}T${e}`):new Date(e),isNaN(a.getTime())?(console.error("Invalid date string provided:",e),null):`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}T${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`}addFinalPalletDetail(){const e=this.palletPackingDetails.at(0).value;e.Time?e.DoneByIds&&0!==e.DoneByIds.length?(e.DoneByIds=Array.isArray(e.DoneByIds)?e.DoneByIds.map(n=>Number(n)):[],this.editPalletDetailsId>=0?(this.addedPalletPackingDetailsList[this.editPalletDetailsId]=e,this.editPalletDetailsId=-1):this.addedPalletPackingDetailsList.push(e),this.updateTotalCasesProduced(),this.palletPackingDetails.clear(),this.addPalletDetail(),console.log("Added pallet details:",this.addedPalletPackingDetailsList)):this.notificationService.error("Please select Done By"):this.notificationService.error("Please select time")}getUserNames(e){return console.log("User IDs:",e),console.log("User Map:",this.userMap),e&&Array.isArray(e)?e.map(n=>this.userMap.get(n)||"Unknown").join(", "):"Unknown"}onEditDetail(e,n){this.populateFormWithValues([e]),console.log("Editing detail:",e),this.editPalletDetailsId=n}populateFormWithValues(e){const n=Array.isArray(e)?e:[e];this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.palletPackingDetails.clear(),n.forEach(a=>{const o=this.formBuilder.group({});o.addControl("PalletNo",this.formBuilder.control(a.PalletNo||"")),o.addControl("Time",this.formBuilder.control(a.Time||""));const r=Array.isArray(a.DoneByIds)?a.DoneByIds:[a.DoneByIds];o.addControl("DoneByIds",this.formBuilder.control(r.map(Number))),this.palletPackingDetails.push(o)}),console.log("Populated PalletPackingDetails:",this.palletPackingDetails.controls)}removePalletDetail(e){this.addedPalletPackingDetailsList.splice(e,1),this.palletPackingDetails.removeAt(e)}createPalletPacking(e){this.palletPackingService.addPalletPacking(e).subscribe(()=>{this.cancel(),this.notificationService.success("Pallet Packing created successfully.")},n=>{this.error=n})}formatDateTime(e){if(e){let n=new Date(e);if(!isNaN(n.getTime()))return n.toISOString();console.error("Invalid date format:",e)}return null}updatePalletPacking(e){this.palletPackingService.updatePalletPacking(e).subscribe(()=>{this.cancel(),this.notificationService.success("Pallet Packing updated successfully.")},n=>{this.error=n})}save(){if(this.isFormSubmitted=!0,this.palletPackingForm.invalid)return void this.checkInvalidFields();const n=this.palletPackingForm.get("PackingDateTime")?.value;if(!n||isNaN(new Date(n).getTime()))return void this.notificationService.error("Invalid Packing Date Time");if(0===this.addedPalletPackingDetailsList.length)return void this.notificationService.error("At least one pallet detail is required.");const a=this.palletPackingForm.value;a.palletPackingDetails=this.addedPalletPackingDetailsList;const o=this.palletPackingForm.controls.TotalCasesProduced.value;a.totalcases=o,console.log(" totalCases pallet form value",o);const r=this.transformData(a);console.log("Transformed Payload:",JSON.stringify(r,null,2)),this.isEditMode?this.updatePalletPacking(r):this.createPalletPacking(r)}checkInvalidFields(){const e=[];return Object.keys(this.palletPackingForm.controls).forEach(n=>{const a=this.palletPackingForm.get(n);a&&a.invalid&&e.push(n)}),e}transformData(e){function n(o){if(!o)return null;const r=new Date(o);return isNaN(r.getTime())?null:`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}T${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}`}const a=Array.isArray(e.palletPackingDetails)?e.palletPackingDetails:Object.values(e.palletPackingDetails||{});return{Id:this.isEditMode?this.palletPackingData.id:0,Code:this.isEditMode?this.palletPackingData.code:"",PackingDateTime:n(e.PackingDateTime),SAPProductionOrderId:this.isEditMode?this.palletPackingData.sapProductionOrderId:e.SAPProductionOrderId,ProductId:this.isEditMode?this.palletPackingData.productId:e.ProductId,FinishedCasesOnIncompletePalletAtStart:e.FinishedCasesOnIncompletePalletAtStart,FinishedCasesOnIncompletePalletAtEnd:e.FinishedCasesOnIncompletePalletAtEnd,TotalCasesProduced:this.isEditMode?e.totalcases:e.TotalCasesProduced,SupervisedBy:e.SupervisedBy,Notes:e.Notes,palletPackingDetails:a.map(o=>({PalletNo:o.PalletNo,Time:n(o.Time),DoneByIds:Array.isArray(o.DoneByIds)?o.DoneByIds.join(","):o.DoneByIds}))}}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}ngOnDestroy(){this.routerSub&&this.routerSub.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(p.nX),t.rXU(p.Ix),t.rXU(c.ze),t.rXU(k),t.rXU(E.tw),t.rXU(S.n))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-add-edit"]],decls:121,vars:29,consts:[["form","ngForm"],["pickerProductionDateTime",""],["timepicker",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","class","app-button back-Green",3,"click",4,"ngIf"],["novalidate","",1,"app-form",3,"ngSubmit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],["appearance","fill"],["matInput","","placeholder","Production Date Time","formControlName","PackingDateTime","required","",3,"ngxMatDatetimePicker"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["apperance","fill"],["appearance","fill",1,"full-width"],["formControlName","SAPProductionOrderId",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"control","message","formSubmitted"],["formControlName","ProductId",3,"disabled"],["formControlName","SupervisedBy"],["matInput","","formControlName","FinishedCasesOnIncompletePalletAtStart","type","number"],["matInput","","formControlName","FinishedCasesOnIncompletePalletAtEnd","type","number"],["matInput","","formControlName","TotalCasesProduced","type","number",3,"disabled"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-3"],["matInput","","formControlName","Notes"],[1,"card-header","d-flex","align-items-center","justify-content-between"],["formArrayName","palletPackingDetails"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"table-responsive"],["id","gridPalletPackingDetails",1,"table","table-hover","table-bordered"],[1,"bg-primary","text-primary","text-center"],[1,"back-Green"],[4,"ngFor","ngForOf"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","",1,"app-button","mr-1","back-Green"],[1,"row","mt-4"],[1,"col-12"],[1,"card"],[1,"table","table-bordered"],["mat-flat-button","",1,"app-button","back-Green",3,"click"],[3,"value"],[1,"row","mt-3",3,"formGroupName"],["matInput","","formControlName","PalletNo"],["matInput","","placeholder","Select time","formControlName","Time",3,"ngxTimepicker"],["formControlName","DoneByIds","multiple",""],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3","d-flex","align-items-center"],["type","button","mat-icon-button","",1,"icon-green",3,"click"],["type","button",1,"btn","btn-success","back-Green","btn-sm","btnModifyRow",3,"click"],[1,"fa","fa-pencil"]],template:function(n,a){if(1&n){const o=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h4",8),t.nrm(6,"i",9),t.EFF(7," Add/Edit Pallet Packing"),t.k0s()(),t.j41(8,"div",10),t.DNE(9,K,2,0,"a",11),t.k0s()(),t.j41(10,"form",12,0),t.bIt("ngSubmit",function(){return t.eBV(o),t.Njj(a.save())}),t.j41(12,"div",13)(13,"div",14)(14,"h5",8),t.EFF(15,"Header Details"),t.k0s()(),t.j41(16,"div",15)(17,"div",16)(18,"div",17)(19,"mat-form-field",18),t.nrm(20,"input",19),t.j41(21,"button",20),t.bIt("click",function(){t.eBV(o);const m=t.sdS(25);return t.Njj(m.open())}),t.j41(22,"mat-icon"),t.EFF(23,"calendar_today"),t.k0s()(),t.nrm(24,"ngx-mat-datetime-picker",21,1),t.k0s()(),t.j41(26,"div",17)(27,"mat-form-field",22)(28,"mat-label"),t.EFF(29," Production Order"),t.k0s(),t.j41(30,"mat-select",23),t.DNE(31,J,2,2,"mat-option",24),t.k0s(),t.nrm(32,"mat-validation-message",25),t.k0s()(),t.j41(33,"div",17)(34,"mat-form-field",22)(35,"mat-label"),t.EFF(36,"Product"),t.k0s(),t.j41(37,"mat-select",26),t.DNE(38,z,2,2,"mat-option",24),t.k0s(),t.nrm(39,"mat-validation-message",25),t.k0s()(),t.j41(40,"div",17)(41,"mat-form-field",22)(42,"mat-label"),t.EFF(43,"Supervised By"),t.k0s(),t.j41(44,"mat-select",27),t.DNE(45,W,2,2,"mat-option",24),t.k0s(),t.nrm(46,"mat-validation-message",25),t.k0s()(),t.j41(47,"div",17)(48,"mat-form-field",22)(49,"mat-label"),t.EFF(50,"Finished Cases (Start)"),t.k0s(),t.nrm(51,"input",28)(52,"mat-validation-message",25),t.k0s()(),t.j41(53,"div",17)(54,"mat-form-field",22)(55,"mat-label"),t.EFF(56,"Finished Cases (End)"),t.k0s(),t.nrm(57,"input",29),t.k0s()(),t.j41(58,"div",17)(59,"mat-form-field",22)(60,"mat-label"),t.EFF(61,"Total Cases Produced"),t.k0s(),t.nrm(62,"input",30)(63,"mat-validation-message",25),t.k0s()(),t.j41(64,"div",31)(65,"mat-form-field",22)(66,"mat-label"),t.EFF(67,"Notes"),t.k0s(),t.nrm(68,"textarea",32)(69,"mat-validation-message",25),t.k0s()()()()(),t.j41(70,"div",13)(71,"div",33)(72,"h5",8),t.EFF(73,"Pallet Packing Details"),t.k0s()(),t.j41(74,"div",15)(75,"div",34),t.DNE(76,Z,25,9,"div",35),t.k0s()()(),t.j41(77,"div",16)(78,"div",36)(79,"div",37)(80,"table",38)(81,"thead",39)(82,"tr")(83,"th",40),t.EFF(84,"Pallet No"),t.k0s(),t.j41(85,"th",40),t.EFF(86,"Time"),t.k0s(),t.j41(87,"th",40),t.EFF(88,"Done By"),t.k0s(),t.j41(89,"th",40),t.EFF(90,"Action"),t.k0s()()(),t.j41(91,"tbody"),t.DNE(92,q,10,3,"tr",41),t.k0s()()()()(),t.j41(93,"div",16)(94,"div",42)(95,"button",43),t.EFF(96,"Save"),t.k0s()()()(),t.j41(97,"div",44)(98,"div",45)(99,"div",46)(100,"div",14)(101,"h5",8),t.EFF(102,"Conversion Table"),t.k0s()(),t.j41(103,"div",15)(104,"table",47)(105,"thead")(106,"tr")(107,"th"),t.EFF(108,"Bottles/Case"),t.k0s(),t.j41(109,"th"),t.EFF(110,"Cases/Pallet"),t.k0s(),t.j41(111,"th"),t.EFF(112,"Bottles/Pallet"),t.k0s()()(),t.j41(113,"tbody")(114,"tr")(115,"td"),t.EFF(116,"4"),t.k0s(),t.j41(117,"td"),t.EFF(118,"64"),t.k0s(),t.j41(119,"td"),t.EFF(120,"256"),t.k0s()()()()()()()()()()()}if(2&n){const o=t.sdS(25);t.R7$(9),t.Y8G("ngIf",a.IsViewPermission),t.R7$(),t.Y8G("formGroup",a.palletPackingForm),t.R7$(10),t.Y8G("ngxMatDatetimePicker",o),t.R7$(10),t.Y8G("disabled",a.isEditMode),t.R7$(),t.Y8G("ngForOf",a.productionOrderList),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.SAPProductionOrderId)("message","SAP Production Order")("formSubmitted",a.isFormSubmitted),t.R7$(5),t.Y8G("disabled",a.isEditMode),t.R7$(),t.Y8G("ngForOf",a.productList),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.ProductId)("message","Product")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.usersList),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.SupervisedBy)("message","Supervised By")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.palletPackingForm.controls.FinishedCasesOnIncompletePalletAtStart)("message","Finished Cases (Start)")("formSubmitted",a.isFormSubmitted),t.R7$(10),t.Y8G("disabled",a.isEditMode),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.TotalCasesProduced)("message","Total Cases Produced")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.palletPackingForm.controls.Notes)("message","Notes")("formSubmitted",a.isFormSubmitted),t.R7$(7),t.Y8G("ngForOf",a.palletPackingDetails.controls),t.R7$(16),t.Y8G("ngForOf",a.addedPalletPackingDetailsList)}},dependencies:[g.Sq,g.bT,c.qT,c.me,c.Q0,c.BC,c.cb,c.YS,c.j4,c.JD,c.$R,c.v8,u.It,u.$z,u.iY,h.rl,h.nJ,h.yw,_.fg,T.An,U.VO,j.wT,X.T,H.r,b.zk,b.v2,P.m7,P.yF],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.full-width[_ngcontent-%COMP%]{width:100%}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}  .mat-calendar{margin-top:20px;background-color:#d3d3d3}  .time-container{background-color:#d3d3d3}  .mat-calendar-body-selected{background-color:#1976d2!important;color:#fff!important;border-radius:50%!important}  .mat-calendar-body-active{background-color:#42a5f5!important;border-radius:50%!important}  .mat-calendar-body-today{border-color:#ff9800!important;border-width:2px;border-style:solid;border-radius:50%}.card-header[_ngcontent-%COMP%]{background-color:#17bb58!important;border-bottom:1px solid rgb(23,187,88)!important;padding:.75rem 1.25rem;color:#fff}.back-Green[_ngcontent-%COMP%]{background-color:#17bb58!important;color:#fff!important}.icon-green[_ngcontent-%COMP%]{color:green}"]})}return i})();l(9239);var F=l(6441);const at=[{path:"",component:y,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:A,canActivate:[F.L],data:{permission:"Pallet Packing (PER_PALLETPACKING) - View"}},{path:"add",canActivate:[F.L],data:{permission:"Pallet Packing (PER_PALLETPACKING) - Add"},component:v},{path:"edit/:id",canActivate:[F.L],data:{permission:"Pallet Packing (PER_PALLETPACKING) - Edit"},component:v}]}];let it=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.$C({type:i});static#a=this.\u0275inj=t.G2t({imports:[p.iI.forChild(at),p.iI]})}return i})();var nt=l(1774),ot=l(9830),lt=l(5263),st=l(40);let rt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.$C({type:i});static#a=this.\u0275inj=t.G2t({providers:[k,(0,ot._c)()],imports:[g.MD,it,nt.Gg,b.c9,P.Hw,P.Xg,P.T_,j.WX,lt.ZG,st.Yr,h.RG,_.fS]})}return i})()}}]);