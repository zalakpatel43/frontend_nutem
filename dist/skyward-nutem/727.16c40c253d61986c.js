"use strict";(self.webpackChunkskyward_nutem=self.webpackChunkskyward_nutem||[]).push([[727],{6441:(N,k,o)=>{o.d(k,{L:()=>f});var p=o(4438),g=o(4532),t=o(8498);let f=(()=>{class r{constructor(u,P){this.permissionService=u,this.router=P}canActivate(u,P){return!!this.permissionService.hasPermission(u.data.permission)||(this.router.navigate(["/unauthorized"]),!1)}static#t=this.\u0275fac=function(P){return new(P||r)(p.KVO(g.n),p.KVO(t.Ix))};static#e=this.\u0275prov=p.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},727:(N,k,o)=>{o.r(k),o.d(k,{PalletPackingModule:()=>ct});var p=o(177),g=o(8498),t=o(4438);let f=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-pallet-packing"]],decls:1,vars:0,template:function(n,a){1&n&&t.nrm(0,"router-outlet")},dependencies:[g.n3]})}return i})();var r=o(4434),O=o(1626);let u=(()=>{class i{getPalletList(){throw new Error("Method not implemented.")}constructor(e,n){this.http=e,this._baseService=n}getPalletPackingList(){return this.http.get(`${r.T6.palletPackingList}`)}getShiftList(){return this.http.get(`${r.T6.ShiftList}`)}getProductionOrderList(){return this.http.get(`${r.T6.ProductionOrderList}`)}getProductList(){return this.http.get(`${r.T6.ProductList}`)}getUserList(){return this.http.get(`${r.T6.UserList}`)}addPalletPacking(e){return this.http.post(`${r.T6.palletPackingAdd}`,e)}updatePalletPacking(e){return this.http.post(`${r.T6.palletPackingEdit}`,e)}getByIdPalletPacking(e){return this.http.get(`${r.T6.palletPackingGetById}?id=${e}`)}deletePalletPacking(e){return this.http.get(`${r.T6.palletPackingDelete}?id=${e}`)}static#t=this.\u0275fac=function(n){return new(n||i)(t.KVO(O.Qq),t.KVO(r.dD))};static#e=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var P=o(5794),b=o(4532),v=o(8834),T=o(9213),D=o(3380),L=o(6081);const B=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),$=()=>["../","add"],G=i=>["..","edit",i];function R(i,l){1&i&&(t.j41(0,"a",15)(1,"span"),t.EFF(2,"Add New"),t.k0s(),t.nrm(3,"i",16),t.k0s()),2&i&&t.Y8G("routerLink",t.lJ4(1,$))}function M(i,l){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const e=l.value;t.R7$(),t.JRh(t.i5U(2,1,e,"MM/dd/yyyy hh:mm a"))}}function x(i,l){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const e=l.value;t.R7$(),t.JRh(e)}}function w(i,l){if(1&i&&(t.j41(0,"a",20)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()),2&i){const e=t.XpG().row;t.Y8G("routerLink",t.eq3(1,G,e.id))}}function Y(i,l){if(1&i){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(e);const a=t.XpG().row,s=t.XpG(2);return t.Njj(s.removePalletPacking(a.id))}),t.j41(1,"mat-icon"),t.EFF(2,"close"),t.k0s()()}}function V(i,l){if(1&i&&t.DNE(0,w,3,3,"a",18)(1,Y,3,0,"button",19),2&i){const e=t.XpG(2);t.Y8G("ngIf",e.IsEditPermission),t.R7$(),t.Y8G("ngIf",e.IsDeletePermission)}}function U(i,l){1&i&&(t.j41(0,"ngx-datatable-column",17),t.DNE(1,V,2,2,"ng-template",12),t.k0s()),2&i&&t.Y8G("sortable",!1)}let _=(()=>{class i{constructor(e,n,a){this.palletPackingService=e,this.notificationService=n,this.permissionService=a,this.palletPackingData=[],this.page=r.Wt.palletPacking,this.permissions=r.eZ,this.searchData={},this.showDeleteModal=!1,this.IsAddPemission=!1,this.IsEditPermission=!1,this.IsDeletePermission=!1}ngOnInit(){this.IsAddPemission=this.permissionService.hasPermission("Pallet Packing (PER_PALLETPACKING) - Add"),this.IsEditPermission=this.permissionService.hasPermission("Pallet Packing (PER_PALLETPACKING) - Edit"),this.IsDeletePermission=this.permissionService.hasPermission("Pallet Packing (PER_PALLETPACKING) - Delete"),this.getPalletPackingData()}getPalletPackingData(){this.loading=!0,this.palletPackingService.getPalletPackingList().subscribe(e=>{this.palletPackingData=e,this.loading=!1},e=>{this.error=e,this.loading=!1})}removePalletPacking(e){confirm("Are you sure you want to delete this Pallet Packing?")&&this.palletPackingService.deletePalletPacking(e).subscribe(()=>{this.getPalletPackingData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(e){this.searchData=Object.assign({},e)}isActiveRow(e){return{"text-danger":!e.isActive}}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(u),t.rXU(P.tw),t.rXU(b.n))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-pallet-packing-list"]],decls:18,vars:15,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","class","app-button btn",3,"routerLink",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","messages"],["name"," Date","prop","packingDateTime"],["ngx-datatable-cell-template",""],["name","Product Name","prop","productName"],["name","Actions",3,"sortable",4,"ngIf"],["mat-flat-button","",1,"app-button","btn",3,"routerLink"],[1,"icon-plus"],["name","Actions",3,"sortable"],["class","button-padding  icon-green",3,"routerLink",4,"ngIf"],["type","button","style","border: none; background-color: white; color: red;",3,"click",4,"ngIf"],[1,"button-padding","icon-green",3,"routerLink"],["type","button",2,"border","none","background-color","white","color","red",3,"click"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6,"Pallet Packing List"),t.k0s()(),t.j41(7,"div",6),t.DNE(8,R,4,2,"a",7),t.k0s()(),t.j41(9,"div",8)(10,"div",9)(11,"ngx-datatable",10),t.nI1(12,"searchtable"),t.j41(13,"ngx-datatable-column",11),t.DNE(14,M,3,4,"ng-template",12),t.k0s(),t.j41(15,"ngx-datatable-column",13),t.DNE(16,x,2,1,"ng-template",12),t.k0s(),t.DNE(17,U,2,1,"ngx-datatable-column",14),t.k0s()()()()()()),2&n&&(t.R7$(8),t.Y8G("ngIf",a.IsAddPemission),t.R7$(3),t.Y8G("rows",t.i5U(12,11,a.palletPackingData,a.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",a.loading)("scrollbarH",!0)("messages",t.lJ4(14,B)),t.R7$(6),t.Y8G("ngIf",a.IsEditPermission||a.IsDeletePermission))},dependencies:[p.bT,g.Wk,v.It,T.An,D.ge,D.ed,D.QI,p.vh,L.j],styles:[".button-padding[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .button-padding[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;vertical-align:middle}.button-padding[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px;text-decoration:none;color:inherit}  .ngx-datatable .datatable-header-cell{background-color:#17bb58!important;color:#fff!important}.icon-green[_ngcontent-%COMP%]{color:green}.btn[_ngcontent-%COMP%]{background-color:#17bb58!important;color:#fff!important}  .ngx-datatable.material .datatable-body .progress-linear .container{background-color:#90ee90}  .ngx-datatable.material .datatable-body .progress-linear .container .bar{background-color:green}"]})}return i})();var d=o(9417),F=o(2102),A=o(9631),X=o(2798),j=o(6600),H=o(8777),K=o(7133),I=o(2356),h=o(8910);function J(i,l){if(1&i){const e=t.RV6();t.j41(0,"a",48),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.cancel())}),t.EFF(1," View List "),t.k0s()}}function W(i,l){if(1&i&&(t.j41(0,"mat-option",49),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.poNumber," ")}}function z(i,l){if(1&i&&(t.j41(0,"mat-option",49),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.productName," ")}}function Q(i,l){if(1&i&&(t.j41(0,"mat-option",49),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Z(i,l){if(1&i&&(t.j41(0,"mat-option",49),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function q(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",50)(1,"div",17)(2,"mat-form-field",22)(3,"mat-label"),t.EFF(4,"Pallet No"),t.k0s(),t.nrm(5,"input",51)(6,"mat-validation-message",25),t.k0s()(),t.j41(7,"div",17)(8,"mat-form-field",22)(9,"mat-label"),t.EFF(10,"Time"),t.k0s(),t.nrm(11,"input",52)(12,"ngx-material-timepicker",null,2),t.k0s()(),t.j41(14,"div",17)(15,"mat-form-field",22)(16,"mat-label"),t.EFF(17,"Done By"),t.k0s(),t.j41(18,"mat-select",53),t.DNE(19,Z,2,2,"mat-option",24),t.k0s(),t.nrm(20,"mat-validation-message",25),t.k0s()(),t.j41(21,"div",54)(22,"button",55),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addFinalPalletDetail())}),t.j41(23,"mat-icon"),t.EFF(24,"add"),t.k0s()()()()}if(2&i){const e=l.$implicit,n=l.index,a=t.sdS(13),s=t.XpG();t.Y8G("formGroupName",n),t.R7$(6),t.Y8G("control",e.get("PalletNo"))("message","Pallet No")("formSubmitted",s.isFormSubmitted),t.R7$(5),t.Y8G("ngxTimepicker",a),t.R7$(8),t.Y8G("ngForOf",s.usersList),t.R7$(),t.Y8G("control",e.get("DoneByIds"))("message","Done By")("formSubmitted",s.isFormSubmitted)}}function tt(i,l){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"button",56),t.bIt("click",function(){const a=t.eBV(e),s=a.$implicit,c=a.index,m=t.XpG();return t.Njj(m.onEditDetail(s,c))}),t.nrm(9,"i",57),t.k0s()()()}if(2&i){const e=l.$implicit,n=t.XpG();t.R7$(2),t.JRh(e.PalletNo),t.R7$(2),t.JRh(e.Time),t.R7$(2),t.JRh(n.getUserNames(e.DoneByIds))}}let C=(()=>{class i{constructor(e,n,a,s,c,m){this.activatedRoute=e,this.router=n,this.formBuilder=a,this.palletPackingService=s,this.notificationService=c,this.permissionService=m,this.isFormSubmitted=!1,this.page=r.Wt.palletPacking,this.permissions=r.eZ,this.productionOrderList=[],this.productList=[],this.usersList=[],this.addedPalletPackingDetailsList=[],this.editPalletDetailsId=-1,this.minEndDate=null,this.palletList=[],this.IsViewPermission=!1,this.createForm()}ngOnInit(){this.getRoute(),this.loadDropdowns(),this.addPalletDetail(),this.IsViewPermission=this.permissionService.hasPermission("Pallet Packing (PER_PALLETPACKING) - View")}getRoute(){this.routerSub=this.activatedRoute.params.subscribe(e=>{this.isEditMode=!r.ov.isEmpty(e.id),this.isEditMode&&(this.palletPackingId=+e.id,this.getPalletPackingById())})}getPalletPackingById(){this.palletPackingService.getByIdPalletPacking(this.palletPackingId).subscribe(e=>{this.palletPackingData=e,this.setPalletPackingData()},e=>{console.log(e)})}setPalletPackingData(){this.palletPackingForm.patchValue({PackingDateTime:this.palletPackingData.packingDateTime,SAPProductionOrderId:this.palletPackingData.sapProductionOrderId,ProductId:this.palletPackingData.productId,FinishedCasesOnIncompletePalletAtStart:this.palletPackingData.finishedCasesOnIncompletePalletAtStart,FinishedCasesOnIncompletePalletAtEnd:this.palletPackingData.finishedCasesOnIncompletePalletAtEnd,TotalCasesProduced:this.palletPackingData.totalCasesProduced,SupervisedBy:this.palletPackingData.supervisedBy,Notes:this.palletPackingData.notes}),this.palletPackingForm.get("SAPProductionOrderId").disable(),this.palletPackingForm.get("ProductId").disable(),this.palletPackingForm.get("TotalCasesProduced").disable(),this.palletPackingData.palletPackingDetails&&(this.palletPackingData.palletPackingDetails.forEach(e=>{const n=e.doneByIds?e.doneByIds.split(",").map(s=>Number(s.trim())).filter(s=>!isNaN(s)):[],a={PalletNo:e.palletNo,Time:new Date(e.time).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),DoneByIds:n,Id:e.id,HeaderId:e.headerId};this.addedPalletPackingDetailsList.push(a)}),this.addPalletDetail())}loadDropdowns(){this.palletPackingService.getProductionOrderList().subscribe(e=>{this.productionOrderList=e}),this.palletPackingService.getProductList().subscribe(e=>{this.productList=e}),this.palletPackingService.getUserList().subscribe(e=>{this.usersList=e,this.initializeUserMap()})}initializeUserMap(){this.userMap=new Map,this.usersList.forEach(e=>{this.userMap.set(e.id,e.name)})}createForm(){this.palletPackingForm=this.formBuilder.group({PackingDateTime:["",[d.k0.required]],SAPProductionOrderId:["",[d.k0.required]],ProductId:["",[d.k0.required]],FinishedCasesOnIncompletePalletAtStart:["",[d.k0.required]],FinishedCasesOnIncompletePalletAtEnd:[""],TotalCasesProduced:{value:""},SupervisedBy:["",[d.k0.required]],Notes:[""],palletPackingDetails:this.formBuilder.array([])}),this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.calculateTotalCasesProduced()}calculateTotalCasesProduced(){this.palletPackingForm.get("TotalCasesProduced")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced()),this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtStart")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced()),this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtEnd")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced())}updateTotalCasesProduced(){const e=this.addedPalletPackingDetailsList.length||1,n=this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtStart")?.value||0,s=64*e+((this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtEnd")?.value||0)-n);this.palletPackingForm.get("TotalCasesProduced")?.setValue(s,{emitEvent:!1})}onPackingDateChange(){const e=this.palletPackingForm.get("PackingDateTime")?.value;this.minEndDate=e?new Date(e):null}addPalletDetail(){this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.palletPackingDetails.clear(),this.editPalletDetailsId=-1;const e=this.formBuilder.group({});this.productionOrderList.forEach(n=>{e.addControl(n.id.toString(),this.formBuilder.control(""))}),e.addControl("PalletNo",this.formBuilder.control("")),e.addControl("Time",this.formBuilder.control("")),e.addControl("DoneByIds",this.formBuilder.control([])),this.palletPackingDetails.push(e)}formatToDateTime(e){if(!e)return console.error("No date string provided"),null;const n=new Date;let a;return a=e.includes("AM")||e.includes("PM")?new Date(`${n.toISOString().split("T")[0]}T${e}`):new Date(e),isNaN(a.getTime())?(console.error("Invalid date string provided:",e),null):`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}T${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`}addFinalPalletDetail(){const e=this.palletPackingDetails.at(0).value;e.Time?e.DoneByIds&&0!==e.DoneByIds.length?(e.DoneByIds=Array.isArray(e.DoneByIds)?e.DoneByIds.map(n=>Number(n)):[],this.editPalletDetailsId>=0?(this.addedPalletPackingDetailsList[this.editPalletDetailsId]=e,this.editPalletDetailsId=-1):this.addedPalletPackingDetailsList.push(e),this.updateTotalCasesProduced(),this.palletPackingDetails.clear(),this.addPalletDetail()):this.notificationService.error("Please select Done By"):this.notificationService.error("Please select time")}getUserNames(e){return e&&Array.isArray(e)?e.map(n=>this.userMap.get(n)||"Unknown").join(", "):"Unknown"}onEditDetail(e,n){this.populateFormWithValues([e]),this.editPalletDetailsId=n}populateFormWithValues(e){const n=Array.isArray(e)?e:[e];this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.palletPackingDetails.clear(),n.forEach(a=>{const s=this.formBuilder.group({});s.addControl("PalletNo",this.formBuilder.control(a.PalletNo||"")),s.addControl("Time",this.formBuilder.control(a.Time||""));const c=Array.isArray(a.DoneByIds)?a.DoneByIds:[a.DoneByIds];s.addControl("DoneByIds",this.formBuilder.control(c.map(Number))),this.palletPackingDetails.push(s)})}removePalletDetail(e){this.addedPalletPackingDetailsList.splice(e,1),this.palletPackingDetails.removeAt(e)}createPalletPacking(e){this.palletPackingService.addPalletPacking(e).subscribe(()=>{this.cancel(),this.notificationService.success("Pallet Packing created successfully.")},n=>{this.error=n})}formatDateTime(e){if(e){let n=new Date(e);if(!isNaN(n.getTime()))return n.toISOString();console.error("Invalid date format:",e)}return null}updatePalletPacking(e){this.palletPackingService.updatePalletPacking(e).subscribe(()=>{this.cancel(),this.notificationService.success("Pallet Packing updated successfully.")},n=>{this.error=n})}save(){if(this.isFormSubmitted=!0,this.palletPackingForm.invalid)return void this.checkInvalidFields();const n=this.palletPackingForm.get("PackingDateTime")?.value;if(!n||isNaN(new Date(n).getTime()))return void this.notificationService.error("Invalid Packing Date Time");if(0===this.addedPalletPackingDetailsList.length)return void this.notificationService.error("At least one pallet detail is required.");const a=this.palletPackingForm.value;a.palletPackingDetails=this.addedPalletPackingDetailsList,a.FinishedCasesOnIncompletePalletAtEnd=a.FinishedCasesOnIncompletePalletAtEnd?a.FinishedCasesOnIncompletePalletAtEnd:null,a.totalcases=this.palletPackingForm.controls.TotalCasesProduced.value,console.log(" formValue.FinishedCasesOnIncompletePalletAtEnd",a.FinishedCasesOnIncompletePalletAtEnd);const c=this.transformData(a);this.isEditMode?this.updatePalletPacking(c):this.createPalletPacking(c)}checkInvalidFields(){const e=[];return Object.keys(this.palletPackingForm.controls).forEach(n=>{const a=this.palletPackingForm.get(n);a&&a.invalid&&e.push(n)}),e}transformData(e){function n(s){if(!s)return null;const c=new Date(s);return isNaN(c.getTime())?null:`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}-${String(c.getDate()).padStart(2,"0")}T${String(c.getHours()).padStart(2,"0")}:${String(c.getMinutes()).padStart(2,"0")}`}const a=Array.isArray(e.palletPackingDetails)?e.palletPackingDetails:Object.values(e.palletPackingDetails||{});return{Id:this.isEditMode?this.palletPackingData.id:0,Code:this.isEditMode?this.palletPackingData.code:"",PackingDateTime:n(e.PackingDateTime),SAPProductionOrderId:this.isEditMode?this.palletPackingData.sapProductionOrderId:e.SAPProductionOrderId,ProductId:this.isEditMode?this.palletPackingData.productId:e.ProductId,FinishedCasesOnIncompletePalletAtStart:e.FinishedCasesOnIncompletePalletAtStart,FinishedCasesOnIncompletePalletAtEnd:e.FinishedCasesOnIncompletePalletAtEnd,TotalCasesProduced:this.isEditMode?e.totalcases:e.TotalCasesProduced,SupervisedBy:e.SupervisedBy,Notes:e.Notes,palletPackingDetails:a.map(s=>({PalletNo:s.PalletNo,Time:n(s.Time),DoneByIds:Array.isArray(s.DoneByIds)?s.DoneByIds.join(","):s.DoneByIds}))}}cancel(){this.router.navigate(["/secure/masters","production-order"])}ngOnDestroy(){this.routerSub&&this.routerSub.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(g.nX),t.rXU(g.Ix),t.rXU(d.ze),t.rXU(u),t.rXU(P.tw),t.rXU(b.n))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-add-edit"]],decls:121,vars:29,consts:[["form","ngForm"],["pickerProductionDateTime",""],["timepicker",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","class","app-button back-Green",3,"click",4,"ngIf"],["novalidate","",1,"app-form",3,"ngSubmit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],["appearance","fill"],["matInput","","placeholder","Production Date Time","formControlName","PackingDateTime","required","",3,"ngxMatDatetimePicker"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["apperance","fill"],["appearance","fill",1,"full-width"],["formControlName","SAPProductionOrderId",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"control","message","formSubmitted"],["formControlName","ProductId",3,"disabled"],["formControlName","SupervisedBy"],["matInput","","formControlName","FinishedCasesOnIncompletePalletAtStart","type","number"],["matInput","","formControlName","FinishedCasesOnIncompletePalletAtEnd","type","number"],["matInput","","formControlName","TotalCasesProduced","type","number",3,"disabled"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-3"],["matInput","","formControlName","Notes"],[1,"card-header","d-flex","align-items-center","justify-content-between"],["formArrayName","palletPackingDetails"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"table-responsive"],["id","gridPalletPackingDetails",1,"table","table-hover","table-bordered"],[1,"bg-primary","text-primary","text-center"],[1,"back-Green"],[4,"ngFor","ngForOf"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","",1,"app-button","mr-1","back-Green"],[1,"row","mt-4"],[1,"col-12"],[1,"card"],[1,"table","table-bordered"],["mat-flat-button","",1,"app-button","back-Green",3,"click"],[3,"value"],[1,"row","mt-3",3,"formGroupName"],["matInput","","formControlName","PalletNo"],["matInput","","placeholder","Select time","formControlName","Time",3,"ngxTimepicker"],["formControlName","DoneByIds","multiple",""],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3","d-flex","align-items-center"],["type","button","mat-icon-button","",1,"icon-green",3,"click"],["type","button",1,"btn","btn-success","back-Green","btn-sm","btnModifyRow",3,"click"],[1,"fa","fa-pencil"]],template:function(n,a){if(1&n){const s=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h4",8),t.nrm(6,"i",9),t.EFF(7," Add/Edit Pallet Packing"),t.k0s()(),t.j41(8,"div",10),t.DNE(9,J,2,0,"a",11),t.k0s()(),t.j41(10,"form",12,0),t.bIt("ngSubmit",function(){return t.eBV(s),t.Njj(a.save())}),t.j41(12,"div",13)(13,"div",14)(14,"h5",8),t.EFF(15,"Header Details"),t.k0s()(),t.j41(16,"div",15)(17,"div",16)(18,"div",17)(19,"mat-form-field",18),t.nrm(20,"input",19),t.j41(21,"button",20),t.bIt("click",function(){t.eBV(s);const m=t.sdS(25);return t.Njj(m.open())}),t.j41(22,"mat-icon"),t.EFF(23,"calendar_today"),t.k0s()(),t.nrm(24,"ngx-mat-datetime-picker",21,1),t.k0s()(),t.j41(26,"div",17)(27,"mat-form-field",22)(28,"mat-label"),t.EFF(29," Production Order"),t.k0s(),t.j41(30,"mat-select",23),t.DNE(31,W,2,2,"mat-option",24),t.k0s(),t.nrm(32,"mat-validation-message",25),t.k0s()(),t.j41(33,"div",17)(34,"mat-form-field",22)(35,"mat-label"),t.EFF(36,"Product"),t.k0s(),t.j41(37,"mat-select",26),t.DNE(38,z,2,2,"mat-option",24),t.k0s(),t.nrm(39,"mat-validation-message",25),t.k0s()(),t.j41(40,"div",17)(41,"mat-form-field",22)(42,"mat-label"),t.EFF(43,"Supervised By"),t.k0s(),t.j41(44,"mat-select",27),t.DNE(45,Q,2,2,"mat-option",24),t.k0s(),t.nrm(46,"mat-validation-message",25),t.k0s()(),t.j41(47,"div",17)(48,"mat-form-field",22)(49,"mat-label"),t.EFF(50,"Finished Cases (Start)"),t.k0s(),t.nrm(51,"input",28)(52,"mat-validation-message",25),t.k0s()(),t.j41(53,"div",17)(54,"mat-form-field",22)(55,"mat-label"),t.EFF(56,"Finished Cases (End)"),t.k0s(),t.nrm(57,"input",29),t.k0s()(),t.j41(58,"div",17)(59,"mat-form-field",22)(60,"mat-label"),t.EFF(61,"Total Cases Produced"),t.k0s(),t.nrm(62,"input",30)(63,"mat-validation-message",25),t.k0s()(),t.j41(64,"div",31)(65,"mat-form-field",22)(66,"mat-label"),t.EFF(67,"Notes"),t.k0s(),t.nrm(68,"textarea",32)(69,"mat-validation-message",25),t.k0s()()()()(),t.j41(70,"div",13)(71,"div",33)(72,"h5",8),t.EFF(73,"Pallet Packing Details"),t.k0s()(),t.j41(74,"div",15)(75,"div",34),t.DNE(76,q,25,9,"div",35),t.k0s()()(),t.j41(77,"div",16)(78,"div",36)(79,"div",37)(80,"table",38)(81,"thead",39)(82,"tr")(83,"th",40),t.EFF(84,"Pallet No"),t.k0s(),t.j41(85,"th",40),t.EFF(86,"Time"),t.k0s(),t.j41(87,"th",40),t.EFF(88,"Done By"),t.k0s(),t.j41(89,"th",40),t.EFF(90,"Action"),t.k0s()()(),t.j41(91,"tbody"),t.DNE(92,tt,10,3,"tr",41),t.k0s()()()()(),t.j41(93,"div",16)(94,"div",42)(95,"button",43),t.EFF(96,"Save"),t.k0s()()()(),t.j41(97,"div",44)(98,"div",45)(99,"div",46)(100,"div",14)(101,"h5",8),t.EFF(102,"Conversion Table"),t.k0s()(),t.j41(103,"div",15)(104,"table",47)(105,"thead")(106,"tr")(107,"th"),t.EFF(108,"Bottles/Case"),t.k0s(),t.j41(109,"th"),t.EFF(110,"Cases/Pallet"),t.k0s(),t.j41(111,"th"),t.EFF(112,"Bottles/Pallet"),t.k0s()()(),t.j41(113,"tbody")(114,"tr")(115,"td"),t.EFF(116,"4"),t.k0s(),t.j41(117,"td"),t.EFF(118,"64"),t.k0s(),t.j41(119,"td"),t.EFF(120,"256"),t.k0s()()()()()()()()()()()}if(2&n){const s=t.sdS(25);t.R7$(9),t.Y8G("ngIf",a.IsViewPermission),t.R7$(),t.Y8G("formGroup",a.palletPackingForm),t.R7$(10),t.Y8G("ngxMatDatetimePicker",s),t.R7$(10),t.Y8G("disabled",a.isEditMode),t.R7$(),t.Y8G("ngForOf",a.productionOrderList),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.SAPProductionOrderId)("message","SAP Production Order")("formSubmitted",a.isFormSubmitted),t.R7$(5),t.Y8G("disabled",a.isEditMode),t.R7$(),t.Y8G("ngForOf",a.productList),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.ProductId)("message","Product")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.usersList),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.SupervisedBy)("message","Supervised By")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.palletPackingForm.controls.FinishedCasesOnIncompletePalletAtStart)("message","Finished Cases (Start)")("formSubmitted",a.isFormSubmitted),t.R7$(10),t.Y8G("disabled",a.isEditMode),t.R7$(),t.Y8G("control",a.palletPackingForm.controls.TotalCasesProduced)("message","Total Cases Produced")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.palletPackingForm.controls.Notes)("message","Notes")("formSubmitted",a.isFormSubmitted),t.R7$(7),t.Y8G("ngForOf",a.palletPackingDetails.controls),t.R7$(16),t.Y8G("ngForOf",a.addedPalletPackingDetailsList)}},dependencies:[p.Sq,p.bT,d.qT,d.me,d.Q0,d.BC,d.cb,d.YS,d.j4,d.JD,d.$R,d.v8,v.It,v.$z,v.iY,F.rl,F.nJ,F.yw,A.fg,T.An,X.VO,j.wT,H.T,K.r,I.zk,I.v2,h.m7,h.yF],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.full-width[_ngcontent-%COMP%]{width:100%}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}  .mat-calendar{margin-top:20px;background-color:#d3d3d3}  .time-container{background-color:#d3d3d3}  .mat-calendar-body-selected{background-color:#1976d2!important;color:#fff!important;border-radius:50%!important}  .mat-calendar-body-active{background-color:#42a5f5!important;border-radius:50%!important}  .mat-calendar-body-today{border-color:#ff9800!important;border-width:2px;border-style:solid;border-radius:50%}.card-header[_ngcontent-%COMP%]{background-color:#17bb58!important;border-bottom:1px solid rgb(23,187,88)!important;padding:.75rem 1.25rem;color:#fff}.back-Green[_ngcontent-%COMP%]{background-color:#17bb58!important;color:#fff!important}.icon-green[_ngcontent-%COMP%]{color:green}"]})}return i})();o(9239);var E=o(6441);const it=[{path:"",component:f,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:_,canActivate:[E.L],data:{permission:"Pallet Packing (PER_PALLETPACKING) - View"}},{path:"add",canActivate:[E.L],data:{permission:"Pallet Packing (PER_PALLETPACKING) - Add"},component:C},{path:"edit/:id",canActivate:[E.L],data:{permission:"Pallet Packing (PER_PALLETPACKING) - Edit"},component:C}]}];let nt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.$C({type:i});static#a=this.\u0275inj=t.G2t({imports:[g.iI.forChild(it),g.iI]})}return i})();var st=o(1774),ot=o(9830),lt=o(5263),rt=o(40);let ct=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.$C({type:i});static#a=this.\u0275inj=t.G2t({providers:[u,(0,ot._c)()],imports:[p.MD,nt,st.Gg,I.c9,h.Hw,h.Xg,h.T_,j.WX,lt.ZG,rt.Yr,F.RG,A.fS]})}return i})()}}]);