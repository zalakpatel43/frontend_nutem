"use strict";(self.webpackChunkskyward_nutem=self.webpackChunkskyward_nutem||[]).push([[727],{727:(st,y,o)=>{o.r(y),o.d(y,{PalletPackingModule:()=>lt});var h=o(177),p=o(8498),t=o(4438);let C=(()=>{class l{static#t=this.\u0275fac=function(a){return new(a||l)};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-pallet-packing"]],decls:1,vars:0,template:function(a,i){1&a&&t.nrm(0,"router-outlet")},dependencies:[p.n3]})}return l})();var s=o(4434),A=o(1626);let k=(()=>{class l{getPalletList(){throw new Error("Method not implemented.")}constructor(e,a){this.http=e,this._baseService=a}getPalletPackingList(){return this.http.get(`${s.T6.palletPackingList}`)}getShiftList(){return this.http.get(`${s.T6.ShiftList}`)}getProductionOrderList(){return this.http.get(`${s.T6.ProductionOrderList}`)}getProductList(){return this.http.get(`${s.T6.ProductList}`)}getUserList(){return this.http.get(`${s.T6.UserList}`)}addPalletPacking(e){return this.http.post(`${s.T6.palletPackingAdd}`,e)}updatePalletPacking(e){return this.http.post(`${s.T6.palletPackingEdit}`,e)}getByIdPalletPacking(e){return this.http.get(`${s.T6.palletPackingGetById}?id=${e}`)}deletePalletPacking(e){return this.http.get(`${s.T6.palletPackingDelete}?id=${e}`)}static#t=this.\u0275fac=function(a){return new(a||l)(t.KVO(A.Qq),t.KVO(s.dD))};static#e=this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var S=o(5794),u=o(8834),E=o(9213),f=o(3380),T=o(220),O=o(6081);const B=()=>["../","add"],$=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),L=l=>["..","edit",l];function R(l,r){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&l){const e=r.value;t.R7$(),t.JRh(t.i5U(2,1,e,"MM/dd/yyyy hh:mm a"))}}function _(l,r){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&l){const e=r.value;t.R7$(),t.JRh(e)}}function M(l,r){if(1&l&&(t.j41(0,"a",18)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()),2&l){const e=t.XpG().row;t.Y8G("routerLink",t.eq3(1,L,e.id))}}function G(l,r){if(1&l){const e=t.RV6();t.DNE(0,M,3,3,"a",16),t.j41(1,"button",17),t.bIt("click",function(){const i=t.eBV(e).row,n=t.XpG();return t.Njj(n.removePalletPacking(i.id))}),t.j41(2,"mat-icon"),t.EFF(3,"close"),t.k0s()()}if(2&l){const e=t.XpG();t.Y8G("authPermission",e.page+"_"+e.permissions.edit)}}let I=(()=>{class l{constructor(e,a){this.palletPackingService=e,this.notificationService=a,this.palletPackingData=[],this.page=s.Wt.palletPacking,this.permissions=s.eZ,this.searchData={},this.showDeleteModal=!1}ngOnInit(){this.getPalletPackingData()}getPalletPackingData(){this.loading=!0,this.palletPackingService.getPalletPackingList().subscribe(e=>{this.palletPackingData=e,console.log("Pallet Packing list",this.palletPackingData),this.loading=!1},e=>{this.error=e,this.loading=!1})}removePalletPacking(e){confirm("Are you sure you want to delete this Pallet Packing?")&&this.palletPackingService.deletePalletPacking(e).subscribe(()=>{this.getPalletPackingData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(e){this.searchData=Object.assign({},e),console.log("search data",this.searchData)}isActiveRow(e){return{"text-danger":!e.isActive}}static#t=this.\u0275fac=function(a){return new(a||l)(t.rXU(k),t.rXU(S.tw))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-pallet-packing-list"]],decls:22,vars:16,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","color","primary",1,"app-button",3,"routerLink"],[1,"icon-plus"],[1,"row"],[1,"col-12"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","messages"],["name"," Date","prop","packingDateTime"],["ngx-datatable-cell-template",""],["name","Product Name","prop","productName"],["name","Actions",3,"sortable"],["class","button-padding","color","primary",3,"routerLink",4,"authPermission"],["type","button",2,"border","none","background-color","white","color","red",3,"click"],["color","primary",1,"button-padding",3,"routerLink"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6,"Pallet Packing List"),t.k0s()(),t.j41(7,"div",6)(8,"a",7)(9,"span"),t.EFF(10,"Add New"),t.k0s(),t.nrm(11,"i",8),t.k0s()()(),t.j41(12,"div",9)(13,"div",10)(14,"ngx-datatable",11),t.nI1(15,"searchtable"),t.j41(16,"ngx-datatable-column",12),t.DNE(17,R,3,4,"ng-template",13),t.k0s(),t.j41(18,"ngx-datatable-column",14),t.DNE(19,_,2,1,"ng-template",13),t.k0s(),t.j41(20,"ngx-datatable-column",15),t.DNE(21,G,4,1,"ng-template",13),t.k0s()()()()()()()),2&a&&(t.R7$(8),t.Y8G("routerLink",t.lJ4(14,B)),t.R7$(6),t.Y8G("rows",t.i5U(15,11,i.palletPackingData,i.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",i.loading)("scrollbarH",!0)("messages",t.lJ4(15,$)),t.R7$(6),t.Y8G("sortable",!1))},dependencies:[p.Wk,u.It,E.An,f.ge,f.ed,f.QI,T.B,h.vh,O.j],styles:[".button-padding[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .button-padding[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;vertical-align:middle}.button-padding[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px;text-decoration:none;color:inherit}"]})}return l})();var d=o(9417),P=o(2102),j=o(9631),w=o(2798),N=o(6600),Y=o(8777),x=o(7133),v=o(2356),g=o(8910);function U(l,r){if(1&l){const e=t.RV6();t.j41(0,"a",47),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.cancel())}),t.EFF(1," View List "),t.k0s()}}function V(l,r){if(1&l&&(t.j41(0,"mat-option",48),t.EFF(1),t.k0s()),2&l){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.poNumber," ")}}function H(l,r){if(1&l&&(t.j41(0,"mat-option",48),t.EFF(1),t.k0s()),2&l){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.productName," ")}}function X(l,r){if(1&l&&(t.j41(0,"mat-option",48),t.EFF(1),t.k0s()),2&l){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function J(l,r){if(1&l&&(t.j41(0,"mat-option",48),t.EFF(1),t.k0s()),2&l){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function W(l,r){if(1&l){const e=t.RV6();t.j41(0,"div",49)(1,"div",17)(2,"mat-form-field",22)(3,"mat-label"),t.EFF(4,"Pallet No"),t.k0s(),t.nrm(5,"input",50)(6,"mat-validation-message",25),t.k0s()(),t.j41(7,"div",17)(8,"mat-form-field",22)(9,"mat-label"),t.EFF(10,"Time"),t.k0s(),t.nrm(11,"input",51)(12,"ngx-material-timepicker",null,2),t.k0s()(),t.j41(14,"div",17)(15,"mat-form-field",22)(16,"mat-label"),t.EFF(17,"Done By"),t.k0s(),t.j41(18,"mat-select",52),t.DNE(19,J,2,2,"mat-option",24),t.k0s(),t.nrm(20,"mat-validation-message",25),t.k0s()(),t.j41(21,"div",53)(22,"button",54),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.addFinalPalletDetail())}),t.j41(23,"mat-icon"),t.EFF(24,"add"),t.k0s()()()()}if(2&l){const e=r.$implicit,a=r.index,i=t.sdS(13),n=t.XpG();t.Y8G("formGroupName",a),t.R7$(6),t.Y8G("control",e.get("PalletNo"))("message","Pallet No")("formSubmitted",n.isFormSubmitted),t.R7$(5),t.Y8G("ngxTimepicker",i),t.R7$(8),t.Y8G("ngForOf",n.usersList),t.R7$(),t.Y8G("control",e.get("DoneByIds"))("message","Done By")("formSubmitted",n.isFormSubmitted)}}function z(l,r){if(1&l){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"button",55),t.bIt("click",function(){const i=t.eBV(e),n=i.$implicit,c=i.index,m=t.XpG();return t.Njj(m.onEditDetail(n,c))}),t.nrm(9,"i",56),t.k0s()()()}if(2&l){const e=r.$implicit,a=t.XpG();t.R7$(2),t.JRh(e.PalletNo),t.R7$(2),t.JRh(e.Time),t.R7$(2),t.JRh(a.getUserNames(e.DoneByIds))}}let F=(()=>{class l{constructor(e,a,i,n,c){this.activatedRoute=e,this.router=a,this.formBuilder=i,this.palletPackingService=n,this.notificationService=c,this.isFormSubmitted=!1,this.page=s.Wt.palletPacking,this.permissions=s.eZ,this.productionOrderList=[],this.productList=[],this.usersList=[],this.addedPalletPackingDetailsList=[],this.editPalletDetailsId=-1,this.minEndDate=null,this.palletList=[],this.createForm()}ngOnInit(){this.getRoute(),this.loadDropdowns(),this.addPalletDetail()}getRoute(){this.routerSub=this.activatedRoute.params.subscribe(e=>{this.isEditMode=!s.ov.isEmpty(e.id),this.isEditMode&&(this.palletPackingId=+e.id,this.getPalletPackingById())})}getPalletPackingById(){this.palletPackingService.getByIdPalletPacking(this.palletPackingId).subscribe(e=>{this.palletPackingData=e,this.setPalletPackingData()},e=>{console.log(e)})}setPalletPackingData(){this.palletPackingForm.patchValue({PackingDateTime:this.palletPackingData.packingDateTime,SAPProductionOrderId:this.palletPackingData.sapProductionOrderId,ProductId:this.palletPackingData.productId,FinishedCasesOnIncompletePalletAtStart:this.palletPackingData.finishedCasesOnIncompletePalletAtStart,FinishedCasesOnIncompletePalletAtEnd:this.palletPackingData.finishedCasesOnIncompletePalletAtEnd,TotalCasesProduced:this.palletPackingData.totalCasesProduced,SupervisedBy:this.palletPackingData.supervisedBy,Notes:this.palletPackingData.notes}),this.palletPackingForm.get("SAPProductionOrderId").disable(),this.palletPackingForm.get("ProductId").disable(),this.palletPackingForm.get("TotalCasesProduced").disable(),this.palletPackingData.palletPackingDetails&&(this.palletPackingData.palletPackingDetails.forEach(e=>{const a=e.doneByIds?e.doneByIds.split(",").map(n=>Number(n.trim())).filter(n=>!isNaN(n)):[],i={PalletNo:e.palletNo,Time:new Date(e.time).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),DoneByIds:a,Id:e.id,HeaderId:e.headerId};this.addedPalletPackingDetailsList.push(i)}),this.addPalletDetail())}loadDropdowns(){this.palletPackingService.getProductionOrderList().subscribe(e=>{this.productionOrderList=e,console.log("data",this.productionOrderList)}),this.palletPackingService.getProductList().subscribe(e=>{this.productList=e}),this.palletPackingService.getUserList().subscribe(e=>{this.usersList=e,this.initializeUserMap()})}initializeUserMap(){this.userMap=new Map,this.usersList.forEach(e=>{this.userMap.set(e.id,e.name)})}createForm(){this.palletPackingForm=this.formBuilder.group({PackingDateTime:["",[d.k0.required]],SAPProductionOrderId:["",[d.k0.required]],ProductId:["",[d.k0.required]],FinishedCasesOnIncompletePalletAtStart:["",[d.k0.required]],FinishedCasesOnIncompletePalletAtEnd:[""],TotalCasesProduced:{value:""},SupervisedBy:["",[d.k0.required]],Notes:[""],palletPackingDetails:this.formBuilder.array([])}),this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.calculateTotalCasesProduced()}calculateTotalCasesProduced(){this.palletPackingForm.get("TotalCasesProduced")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced()),this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtStart")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced()),this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtEnd")?.valueChanges.subscribe(()=>this.updateTotalCasesProduced())}updateTotalCasesProduced(){const e=this.addedPalletPackingDetailsList.length||1,a=this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtStart")?.value||0,i=this.palletPackingForm.get("FinishedCasesOnIncompletePalletAtEnd")?.value||0;console.log("NoOfPalletsCompleted:",e),console.log("FinishedCasesAtStart:",a),console.log("FinishedCasesAtEnd:",i);const n=64*e+(i-a);this.palletPackingForm.get("TotalCasesProduced")?.setValue(n,{emitEvent:!1})}onPackingDateChange(){const e=this.palletPackingForm.get("PackingDateTime")?.value;this.minEndDate=e?new Date(e):null}addPalletDetail(){this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.palletPackingDetails.clear(),this.editPalletDetailsId=-1;const e=this.formBuilder.group({});this.productionOrderList.forEach(a=>{e.addControl(a.id.toString(),this.formBuilder.control(""))}),e.addControl("PalletNo",this.formBuilder.control("")),e.addControl("Time",this.formBuilder.control("")),e.addControl("DoneByIds",this.formBuilder.control([])),this.palletPackingDetails.push(e),console.log("PalletPackingDetails",this.palletPackingDetails.controls)}formatToDateTime(e){if(!e)return console.error("No date string provided"),null;const a=new Date;let i;return i=e.includes("AM")||e.includes("PM")?new Date(`${a.toISOString().split("T")[0]}T${e}`):new Date(e),isNaN(i.getTime())?(console.error("Invalid date string provided:",e),null):`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}T${String(i.getHours()).padStart(2,"0")}:${String(i.getMinutes()).padStart(2,"0")}`}addFinalPalletDetail(){const e=this.palletPackingDetails.at(0).value;e.Time?e.DoneByIds&&0!==e.DoneByIds.length?(e.DoneByIds=Array.isArray(e.DoneByIds)?e.DoneByIds.map(a=>Number(a)):[],this.editPalletDetailsId>=0?(this.addedPalletPackingDetailsList[this.editPalletDetailsId]=e,this.editPalletDetailsId=-1):this.addedPalletPackingDetailsList.push(e),this.palletPackingDetails.clear(),this.addPalletDetail(),console.log("Added pallet details:",this.addedPalletPackingDetailsList)):this.notificationService.error("Please select Done By"):this.notificationService.error("Please select time")}getUserNames(e){return console.log("User IDs:",e),console.log("User Map:",this.userMap),e&&Array.isArray(e)?e.map(a=>this.userMap.get(a)||"Unknown").join(", "):"Unknown"}onEditDetail(e,a){this.populateFormWithValues([e]),console.log("Editing detail:",e),this.editPalletDetailsId=a}populateFormWithValues(e){const a=Array.isArray(e)?e:[e];this.palletPackingDetails=this.palletPackingForm.get("palletPackingDetails"),this.palletPackingDetails.clear(),a.forEach(i=>{const n=this.formBuilder.group({});n.addControl("PalletNo",this.formBuilder.control(i.PalletNo||"")),n.addControl("Time",this.formBuilder.control(i.Time||""));const c=Array.isArray(i.DoneByIds)?i.DoneByIds:[i.DoneByIds];n.addControl("DoneByIds",this.formBuilder.control(c.map(Number))),this.palletPackingDetails.push(n)}),console.log("Populated PalletPackingDetails:",this.palletPackingDetails.controls)}removePalletDetail(e){this.addedPalletPackingDetailsList.splice(e,1),this.palletPackingDetails.removeAt(e)}createPalletPacking(e){this.palletPackingService.addPalletPacking(e).subscribe(()=>{this.cancel(),this.notificationService.success("Pallet Packing created successfully.")},a=>{this.error=a})}formatDateTime(e){if(e){let a=new Date(e);if(!isNaN(a.getTime()))return a.toISOString();console.error("Invalid date format:",e)}return null}updatePalletPacking(e){this.palletPackingService.updatePalletPacking(e).subscribe(()=>{this.cancel(),this.notificationService.success("Pallet Packing updated successfully.")},a=>{this.error=a})}save(){if(this.isFormSubmitted=!0,this.palletPackingForm.invalid)return;const a=this.palletPackingForm.get("PackingDateTime")?.value;if(!a||isNaN(new Date(a).getTime()))return void this.notificationService.error("Invalid Packing Date Time");if(0===this.addedPalletPackingDetailsList.length)return void this.notificationService.error("At least one pallet detail is required.");const i=this.palletPackingForm.value;i.palletPackingDetails=this.addedPalletPackingDetailsList;const n=this.transformData(i);console.log("Transformed Payload:",JSON.stringify(n,null,2)),this.isEditMode?this.updatePalletPacking(n):this.createPalletPacking(n)}transformData(e){function a(n){if(!n)return null;const c=new Date(n);return isNaN(c.getTime())?null:`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}-${String(c.getDate()).padStart(2,"0")}T${String(c.getHours()).padStart(2,"0")}:${String(c.getMinutes()).padStart(2,"0")}`}const i=Array.isArray(e.palletPackingDetails)?e.palletPackingDetails:Object.values(e.palletPackingDetails||{});return{Id:this.isEditMode?this.palletPackingData.id:0,Code:this.isEditMode?this.palletPackingData.code:"",PackingDateTime:a(e.PackingDateTime),SAPProductionOrderId:this.isEditMode?this.palletPackingData.sapProductionOrderId:e.SAPProductionOrderId,ProductId:this.isEditMode?this.palletPackingData.productId:e.ProductId,FinishedCasesOnIncompletePalletAtStart:e.FinishedCasesOnIncompletePalletAtStart,FinishedCasesOnIncompletePalletAtEnd:e.FinishedCasesOnIncompletePalletAtEnd,TotalCasesProduced:e.TotalCasesProduced,SupervisedBy:e.SupervisedBy,Notes:e.Notes,palletPackingDetails:i.map(n=>({PalletNo:n.PalletNo,Time:a(n.Time),DoneByIds:Array.isArray(n.DoneByIds)?n.DoneByIds.join(","):n.DoneByIds}))}}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}ngOnDestroy(){this.routerSub&&this.routerSub.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||l)(t.rXU(p.nX),t.rXU(p.Ix),t.rXU(d.ze),t.rXU(k),t.rXU(S.tw))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-add-edit"]],decls:121,vars:29,consts:[["form","ngForm"],["pickerProductionDateTime",""],["timepicker",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","color","primary","class","app-button",3,"click",4,"authPermission"],["novalidate","",1,"app-form",3,"ngSubmit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],["appearance","fill"],["matInput","","placeholder","Production Date Time","formControlName","ProductionDateTime","required","",3,"ngxMatDatetimePicker"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["apperance","fill"],["appearance","fill",1,"full-width"],["formControlName","SAPProductionOrderId",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"control","message","formSubmitted"],["formControlName","ProductId",3,"disabled"],["formControlName","SupervisedBy"],["matInput","","formControlName","FinishedCasesOnIncompletePalletAtStart","type","number"],["matInput","","formControlName","FinishedCasesOnIncompletePalletAtEnd","type","number"],["matInput","","formControlName","TotalCasesProduced","type","number",3,"disabled"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-3"],["matInput","","formControlName","Notes"],[1,"card-header","d-flex","align-items-center","justify-content-between"],["formArrayName","palletPackingDetails"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"table-responsive"],["id","gridPalletPackingDetails",1,"table","table-hover","table-bordered"],[1,"bg-primary","text-primary","text-center"],[4,"ngFor","ngForOf"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","","color","primary",1,"app-button","mr-1"],[1,"row","mt-4"],[1,"col-12"],[1,"card"],[1,"table","table-bordered"],["mat-flat-button","","color","primary",1,"app-button",3,"click"],[3,"value"],[1,"row","mt-3",3,"formGroupName"],["matInput","","formControlName","PalletNo"],["matInput","","placeholder","Select time","formControlName","Time",3,"ngxTimepicker"],["formControlName","DoneByIds","multiple",""],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3","d-flex","align-items-center"],["type","button","mat-icon-button","","color","warn",3,"click"],["type","button",1,"btn","btn-primary","btn-sm","btnModifyRow",3,"click"],[1,"fa","fa-pencil"]],template:function(a,i){if(1&a){const n=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h4",8),t.nrm(6,"i",9),t.EFF(7," Add/Edit Pallet Packing"),t.k0s()(),t.j41(8,"div",10),t.DNE(9,U,2,0,"a",11),t.k0s()(),t.j41(10,"form",12,0),t.bIt("ngSubmit",function(){return t.eBV(n),t.Njj(i.save())}),t.j41(12,"div",13)(13,"div",14)(14,"h5",8),t.EFF(15,"Header Details"),t.k0s()(),t.j41(16,"div",15)(17,"div",16)(18,"div",17)(19,"mat-form-field",18),t.nrm(20,"input",19),t.j41(21,"button",20),t.bIt("click",function(){t.eBV(n);const m=t.sdS(25);return t.Njj(m.open())}),t.j41(22,"mat-icon"),t.EFF(23,"calendar_today"),t.k0s()(),t.nrm(24,"ngx-mat-datetime-picker",21,1),t.k0s()(),t.j41(26,"div",17)(27,"mat-form-field",22)(28,"mat-label"),t.EFF(29," Production Order"),t.k0s(),t.j41(30,"mat-select",23),t.DNE(31,V,2,2,"mat-option",24),t.k0s(),t.nrm(32,"mat-validation-message",25),t.k0s()(),t.j41(33,"div",17)(34,"mat-form-field",22)(35,"mat-label"),t.EFF(36,"Product"),t.k0s(),t.j41(37,"mat-select",26),t.DNE(38,H,2,2,"mat-option",24),t.k0s(),t.nrm(39,"mat-validation-message",25),t.k0s()(),t.j41(40,"div",17)(41,"mat-form-field",22)(42,"mat-label"),t.EFF(43,"Supervised By"),t.k0s(),t.j41(44,"mat-select",27),t.DNE(45,X,2,2,"mat-option",24),t.k0s(),t.nrm(46,"mat-validation-message",25),t.k0s()(),t.j41(47,"div",17)(48,"mat-form-field",22)(49,"mat-label"),t.EFF(50,"Finished Cases (Start)"),t.k0s(),t.nrm(51,"input",28)(52,"mat-validation-message",25),t.k0s()(),t.j41(53,"div",17)(54,"mat-form-field",22)(55,"mat-label"),t.EFF(56,"Finished Cases (End)"),t.k0s(),t.nrm(57,"input",29),t.k0s()(),t.j41(58,"div",17)(59,"mat-form-field",22)(60,"mat-label"),t.EFF(61,"Total Cases Produced"),t.k0s(),t.nrm(62,"input",30)(63,"mat-validation-message",25),t.k0s()(),t.j41(64,"div",31)(65,"mat-form-field",22)(66,"mat-label"),t.EFF(67,"Notes"),t.k0s(),t.nrm(68,"textarea",32)(69,"mat-validation-message",25),t.k0s()()()()(),t.j41(70,"div",13)(71,"div",33)(72,"h5",8),t.EFF(73,"Pallet Packing Details"),t.k0s()(),t.j41(74,"div",15)(75,"div",34),t.DNE(76,W,25,9,"div",35),t.k0s()()(),t.j41(77,"div",16)(78,"div",36)(79,"div",37)(80,"table",38)(81,"thead",39)(82,"tr")(83,"th"),t.EFF(84,"Pallet No"),t.k0s(),t.j41(85,"th"),t.EFF(86,"Time"),t.k0s(),t.j41(87,"th"),t.EFF(88,"Done By"),t.k0s(),t.j41(89,"th"),t.EFF(90,"Action"),t.k0s()()(),t.j41(91,"tbody"),t.DNE(92,z,10,3,"tr",40),t.k0s()()()()(),t.j41(93,"div",16)(94,"div",41)(95,"button",42),t.EFF(96,"Save"),t.k0s()()()(),t.j41(97,"div",43)(98,"div",44)(99,"div",45)(100,"div",14)(101,"h5",8),t.EFF(102,"Conversion Table"),t.k0s()(),t.j41(103,"div",15)(104,"table",46)(105,"thead")(106,"tr")(107,"th"),t.EFF(108,"Bottles/Case"),t.k0s(),t.j41(109,"th"),t.EFF(110,"Cases/Pallet"),t.k0s(),t.j41(111,"th"),t.EFF(112,"Bottles/Pallet"),t.k0s()()(),t.j41(113,"tbody")(114,"tr")(115,"td"),t.EFF(116,"4"),t.k0s(),t.j41(117,"td"),t.EFF(118,"64"),t.k0s(),t.j41(119,"td"),t.EFF(120,"256"),t.k0s()()()()()()()()()()()}if(2&a){const n=t.sdS(25);t.R7$(9),t.Y8G("authPermission",i.page+"_"+i.permissions.list),t.R7$(),t.Y8G("formGroup",i.palletPackingForm),t.R7$(10),t.Y8G("ngxMatDatetimePicker",n),t.R7$(10),t.Y8G("disabled",i.isEditMode),t.R7$(),t.Y8G("ngForOf",i.productionOrderList),t.R7$(),t.Y8G("control",i.palletPackingForm.controls.SAPProductionOrderId)("message","SAP Production Order")("formSubmitted",i.isFormSubmitted),t.R7$(5),t.Y8G("disabled",i.isEditMode),t.R7$(),t.Y8G("ngForOf",i.productList),t.R7$(),t.Y8G("control",i.palletPackingForm.controls.ProductId)("message","Product")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",i.usersList),t.R7$(),t.Y8G("control",i.palletPackingForm.controls.SupervisedBy)("message","Supervised By")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.palletPackingForm.controls.FinishedCasesOnIncompletePalletAtStart)("message","Finished Cases (Start)")("formSubmitted",i.isFormSubmitted),t.R7$(10),t.Y8G("disabled",i.isEditMode),t.R7$(),t.Y8G("control",i.palletPackingForm.controls.TotalCasesProduced)("message","Total Cases Produced")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.palletPackingForm.controls.Notes)("message","Notes")("formSubmitted",i.isFormSubmitted),t.R7$(7),t.Y8G("ngForOf",i.palletPackingDetails.controls),t.R7$(16),t.Y8G("ngForOf",i.addedPalletPackingDetailsList)}},dependencies:[h.Sq,d.qT,d.me,d.Q0,d.BC,d.cb,d.YS,d.j4,d.JD,d.$R,d.v8,u.It,u.$z,u.iY,P.rl,P.nJ,P.yw,j.fg,E.An,w.VO,N.wT,T.B,Y.T,x.r,v.zk,v.v2,g.m7,g.yF],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.full-width[_ngcontent-%COMP%]{width:100%}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}  .mat-calendar{margin-top:20px;background-color:#d3d3d3}  .time-container{background-color:#d3d3d3}  .mat-calendar-body-selected{background-color:#1976d2!important;color:#fff!important;border-radius:50%!important}  .mat-calendar-body-active{background-color:#42a5f5!important;border-radius:50%!important}  .mat-calendar-body-today{border-color:#ff9800!important;border-width:2px;border-style:solid;border-radius:50%}"]})}return l})();o(9239);const Z=[{path:"",component:C,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:I,canActivate:[s.LL],data:{page:s.Wt.palletPacking,title:"Pallet Packing List"}},{path:"add",canActivate:[s.LL],data:{page:s.Wt.palletPacking,title:"Add Pallet Packing"},component:F},{path:"edit/:id",canActivate:[s.LL],data:{page:s.Wt.palletPacking,title:"Edit Pallet Packing"},component:F}]}];let q=(()=>{class l{static#t=this.\u0275fac=function(a){return new(a||l)};static#e=this.\u0275mod=t.$C({type:l});static#a=this.\u0275inj=t.G2t({imports:[p.iI.forChild(Z),p.iI]})}return l})();var tt=o(1774),et=o(9830),at=o(5263),it=o(40);let lt=(()=>{class l{static#t=this.\u0275fac=function(a){return new(a||l)};static#e=this.\u0275mod=t.$C({type:l});static#a=this.\u0275inj=t.G2t({providers:[k,(0,et._c)()],imports:[h.MD,q,tt.Gg,v.c9,g.Hw,g.Xg,g.T_,N.WX,at.ZG,it.Yr,P.RG,j.fS]})}return l})()}}]);