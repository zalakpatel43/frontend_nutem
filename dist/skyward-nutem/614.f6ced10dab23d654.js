"use strict";(self.webpackChunkskyward_nutem=self.webpackChunkskyward_nutem||[]).push([[614],{775:(N,p,e)=>{e.d(p,{Sw:()=>i,CC:()=>P,KJ:()=>u});class u{constructor(){this.reportsTo=[],this.roles=[]}}class i{}class P{}},8614:(N,p,e)=>{e.r(p),e.d(p,{MastersModule:()=>G});var u=e(1774),c=e(8498),o=e(4434),i=e(9417),P=e(775),t=e(4438);let v=(()=>{class s{constructor(r){this.baseService=r}changePassword(r){return this.baseService.put(`${o.T6.account}/changepassword`,r)}static#t=this.\u0275fac=function(n){return new(n||s)(t.KVO(o.dD))};static#e=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();var C=e(177),f=e(8834),h=e(2102),w=e(9631),y=e(9213),I=e(2798),F=e(6600),S=e(1331),j=e(7133);function D(s,g){if(1&s&&(t.j41(0,"mat-option",16),t.EFF(1),t.k0s()),2&s){const r=g.$implicit;t.Y8G("value",r.id),t.R7$(),t.SpI(" ",r.name," ")}}function M(s,g){if(1&s&&(t.j41(0,"mat-option",16),t.EFF(1),t.k0s()),2&s){const r=g.$implicit;t.Y8G("value",r.id),t.R7$(),t.SpI(" ",r.name," ")}}function R(s,g){if(1&s&&(t.j41(0,"div",5)(1,"div",17)(2,"p",18),t.EFF(3),t.k0s()()()),2&s){const r=t.XpG();t.R7$(3),t.JRh(r.error)}}let A=(()=>{class s{constructor(r,n,a,l,m,b){this.formBuilder=r,this.accountService=n,this.userAuthService=a,this.router=l,this.masterService=m,this.toastrService=b,this.townData=[],this.userData=[],this.hideNewPassword=!0,this.hideConfirmPassword=!0,this.createForm()}ngOnInit(){this.getParkingAuthoritiesData()}createForm(){this.frmPassword=this.formBuilder.group({parkingAuthorityId:["",i.k0.required],userId:["",i.k0.required],newPassword:["",[i.k0.required,i.k0.minLength(6)]],confirmPassword:["",[i.k0.required,u.Bm.compareNewPassword]]})}getParkingAuthoritiesData(){}changePassword(){if(this.isFormSubmitted=!0,!this.frmPassword.valid)return;let r=this.frmPassword.value;this.changePasswordData=new P.Sw,this.changePasswordData.userId=r.userId,this.changePasswordData.password=r.newPassword,this.masterService.changePassword(this.changePasswordData).subscribe(n=>{this.toastrService.success("Password has been changed successfully."),this.frmPassword.reset(),this.isFormSubmitted=!1},n=>{400===n.status&&n.error.modelState?(this.error="",Object.keys(n.error.modelState).forEach(a=>{this.error+=`\n${n.error.modelState[a][0]}.`})):this.error=404===n.status?"Invalid email":"Something went wrong"})}townChanged(){}save(){this.isFormSubmitted=!0,!this.frmPassword.invalid&&this.changePassword()}ngOnDestroy(){}static#t=this.\u0275fac=function(n){return new(n||s)(t.rXU(i.ze),t.rXU(o.Di),t.rXU(o.FJ),t.rXU(c.Ix),t.rXU(v),t.rXU(o.JE))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],decls:46,vars:24,consts:[["form","ngForm"],[1,"row","justify-content-center","align-items-center","h-100"],[1,"col-sm-8","col-md-6","col-lg-4"],[1,"border","p30","rounded"],["novalidate","",1,"app-form",3,"submit","formGroup"],[1,"row"],[1,"col-md-12"],["formControlName","parkingAuthorityId",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"control","message","formSubmitted"],["formControlName","userId"],["matInput","","formControlName","newPassword","autocomplete","nope","space-restrict","",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","confirmPassword","autocomplete","nope",3,"type"],["class","row",4,"ngIf"],["mat-flat-button","","color","primary",1,"app-button","w-100","my-2"],[3,"value"],[1,"col-12"],[1,"text-danger"]],template:function(n,a){if(1&n){const l=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4"),t.EFF(4,"Change Password"),t.k0s(),t.j41(5,"form",4,0),t.bIt("submit",function(){return t.eBV(l),t.Njj(a.save())}),t.j41(7,"div",5)(8,"div",6)(9,"mat-form-field")(10,"mat-label"),t.EFF(11,"Town"),t.k0s(),t.j41(12,"mat-select",7),t.bIt("selectionChange",function(){return t.eBV(l),t.Njj(a.townChanged())}),t.DNE(13,D,2,2,"mat-option",8),t.k0s(),t.nrm(14,"mat-validation-message",9),t.k0s()()(),t.j41(15,"div",5)(16,"div",6)(17,"mat-form-field")(18,"mat-label"),t.EFF(19,"User"),t.k0s(),t.j41(20,"mat-select",10),t.DNE(21,M,2,2,"mat-option",8),t.k0s(),t.nrm(22,"mat-validation-message",9),t.k0s()()(),t.j41(23,"div",5)(24,"div",6)(25,"mat-form-field")(26,"mat-label"),t.EFF(27,"New Password"),t.k0s(),t.nrm(28,"input",11),t.j41(29,"button",12),t.bIt("click",function(){return t.eBV(l),t.Njj(a.hideNewPassword=!a.hideNewPassword)}),t.j41(30,"mat-icon"),t.EFF(31),t.k0s()(),t.nrm(32,"mat-validation-message",9),t.k0s()()(),t.j41(33,"div",5)(34,"div",6)(35,"mat-form-field")(36,"mat-label"),t.EFF(37,"Confirm Password"),t.k0s(),t.nrm(38,"input",13),t.j41(39,"button",12),t.bIt("click",function(){return t.eBV(l),t.Njj(a.hideConfirmPassword=!a.hideConfirmPassword)}),t.j41(40,"mat-icon"),t.EFF(41),t.k0s()(),t.nrm(42,"mat-validation-message",9),t.k0s()()(),t.DNE(43,R,4,1,"div",14),t.j41(44,"button",15),t.EFF(45,"Change Password"),t.k0s()()()()()}2&n&&(t.R7$(5),t.Y8G("formGroup",a.frmPassword),t.R7$(8),t.Y8G("ngForOf",a.townData),t.R7$(),t.Y8G("control",a.frmPassword.controls.parkingAuthorityId)("message","Town")("formSubmitted",a.isFormSubmitted),t.R7$(7),t.Y8G("ngForOf",a.userData),t.R7$(),t.Y8G("control",a.frmPassword.controls.userId)("message","User")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("type",a.hideNewPassword?"password":"text"),t.R7$(),t.BMQ("aria-label","Hide new password")("aria-pressed",a.hideNewPassword),t.R7$(2),t.JRh(a.hideNewPassword?"visibility_off":"visibility"),t.R7$(),t.Y8G("control",a.frmPassword.controls.newPassword)("message","New Password")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("type",a.hideConfirmPassword?"password":"text"),t.R7$(),t.BMQ("aria-label","Hide confirm password")("aria-pressed",a.hideConfirmPassword),t.R7$(2),t.JRh(a.hideConfirmPassword?"visibility_off":"visibility"),t.R7$(),t.Y8G("control",a.frmPassword.controls.confirmPassword)("message","Confirm Password")("formSubmitted",a.isFormSubmitted),t.R7$(),t.Y8G("ngIf",a.error))},dependencies:[C.Sq,C.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,f.$z,f.iY,h.rl,h.nJ,h.yw,w.fg,y.An,I.VO,F.wT,S.U,j.r],styles:[".app-row[_ngcontent-%COMP%]{height:calc(100vh - 158px - 4em)}@media only screen and (max-width: 1279px){.app-row[_ngcontent-%COMP%]{height:calc(100vh - 137px - 4em)}}@media only screen and (max-width: 768px){.app-row[_ngcontent-%COMP%]{height:calc(100vh - 177px - 4em)}}@media only screen and (max-width: 567px){.app-row[_ngcontent-%COMP%]{height:calc(100vh - 216px - 4em)}}"]})}return s})();function d(s,g){if(1&s&&(t.j41(0,"div",5)(1,"div",13)(2,"p",14),t.EFF(3),t.k0s()()()),2&s){const r=t.XpG();t.R7$(3),t.JRh(r.error)}}let L=(()=>{class s{constructor(r,n,a,l,m,b){this.formBuilder=r,this.accountService=n,this.userAuthService=a,this.router=l,this.masterService=m,this.toastrService=b,this.hideNewPassword=!0,this.hideConfirmPassword=!0,this.createForm()}ngOnInit(){}createForm(){this.frmPassword=this.formBuilder.group({newPassword:["",[i.k0.required,i.k0.minLength(6)]],confirmPassword:["",[i.k0.required,u.Bm.compareNewPassword]]})}changePassword(){if(this.isFormSubmitted=!0,!this.frmPassword.valid)return;var n=this.userAuthService.getUser().id;let a=this.frmPassword.value;this.changePasswordData=new P.Sw,this.changePasswordData.userId=n,this.changePasswordData.password=a.newPassword,this.masterService.changePassword(this.changePasswordData).subscribe(l=>{this.toastrService.success("Password has been changed successfully."),this.frmPassword.reset(),this.userAuthService.loggedOut(),setTimeout(()=>{this.router.navigate(["login"])})},l=>{400===l.status&&l.error.modelState?(this.error="",Object.keys(l.error.modelState).forEach(m=>{this.error+=`\n${l.error.modelState[m][0]}.`})):this.error=404===l.status?"Invalid email":"Something went wrong"})}save(){this.isFormSubmitted=!0,!this.frmPassword.invalid&&this.changePassword()}ngOnDestroy(){}static#t=this.\u0275fac=function(n){return new(n||s)(t.rXU(i.ze),t.rXU(o.Di),t.rXU(o.FJ),t.rXU(c.Ix),t.rXU(v),t.rXU(o.JE))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],decls:30,vars:16,consts:[["form","ngForm"],[1,"row","justify-content-center","align-items-center","h-100"],[1,"col-sm-8","col-md-6","col-lg-4"],[1,"border","p30","rounded"],["novalidate","",1,"app-form",3,"submit","formGroup"],[1,"row"],[1,"col-md-12"],["matInput","","formControlName","newPassword","autocomplete","nope","space-restrict","",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[3,"control","message","formSubmitted"],["matInput","","formControlName","confirmPassword","autocomplete","nope",3,"type"],["class","row",4,"ngIf"],["mat-flat-button","","color","primary",1,"app-button","w-100","my-2"],[1,"col-12"],[1,"text-danger"]],template:function(n,a){if(1&n){const l=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4"),t.EFF(4,"Change Password"),t.k0s(),t.j41(5,"form",4,0),t.bIt("submit",function(){return t.eBV(l),t.Njj(a.save())}),t.j41(7,"div",5)(8,"div",6)(9,"mat-form-field")(10,"mat-label"),t.EFF(11,"New Password"),t.k0s(),t.nrm(12,"input",7),t.j41(13,"button",8),t.bIt("click",function(){return t.eBV(l),t.Njj(a.hideNewPassword=!a.hideNewPassword)}),t.j41(14,"mat-icon"),t.EFF(15),t.k0s()(),t.nrm(16,"mat-validation-message",9),t.k0s()()(),t.j41(17,"div",5)(18,"div",6)(19,"mat-form-field")(20,"mat-label"),t.EFF(21,"Confirm Password"),t.k0s(),t.nrm(22,"input",10),t.j41(23,"button",8),t.bIt("click",function(){return t.eBV(l),t.Njj(a.hideConfirmPassword=!a.hideConfirmPassword)}),t.j41(24,"mat-icon"),t.EFF(25),t.k0s()(),t.nrm(26,"mat-validation-message",9),t.k0s()()(),t.DNE(27,d,4,1,"div",11),t.j41(28,"button",12),t.EFF(29,"Change Password"),t.k0s()()()()()}2&n&&(t.R7$(5),t.Y8G("formGroup",a.frmPassword),t.R7$(7),t.Y8G("type",a.hideNewPassword?"password":"text"),t.R7$(),t.BMQ("aria-label","Hide new password")("aria-pressed",a.hideNewPassword),t.R7$(2),t.JRh(a.hideNewPassword?"visibility_off":"visibility"),t.R7$(),t.Y8G("control",a.frmPassword.controls.newPassword)("message","New Password")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("type",a.hideConfirmPassword?"password":"text"),t.R7$(),t.BMQ("aria-label","Hide confirm password")("aria-pressed",a.hideConfirmPassword),t.R7$(2),t.JRh(a.hideConfirmPassword?"visibility_off":"visibility"),t.R7$(),t.Y8G("control",a.frmPassword.controls.confirmPassword)("message","Confirm Password")("formSubmitted",a.isFormSubmitted),t.R7$(),t.Y8G("ngIf",a.error))},dependencies:[C.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,f.$z,f.iY,h.rl,h.nJ,h.yw,w.fg,y.An,S.U,j.r],styles:[".app-row[_ngcontent-%COMP%]{height:calc(100vh - 158px - 4em)}@media only screen and (max-width: 1279px){.app-row[_ngcontent-%COMP%]{height:calc(100vh - 137px - 4em)}}@media only screen and (max-width: 768px){.app-row[_ngcontent-%COMP%]{height:calc(100vh - 177px - 4em)}}@media only screen and (max-width: 567px){.app-row[_ngcontent-%COMP%]{height:calc(100vh - 216px - 4em)}}"]})}return s})();const B=[{path:"",component:(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,a){1&n&&t.nrm(0,"router-outlet")},dependencies:[c.n3],encapsulation:2})}return s})(),canActivate:[o.q_],children:[{path:"",redirectTo:"town",pathMatch:"full"},{path:"user",canActivate:[o.LL],data:{page:o.Wt.user,action:o.eZ.list},loadChildren:()=>Promise.all([e.e(983),e.e(76),e.e(637)]).then(e.bind(e,1637)).then(s=>s.UserModule)},{path:"role",canActivate:[o.LL],data:{page:o.Wt.role,action:o.eZ.list},loadChildren:()=>Promise.all([e.e(76),e.e(767)]).then(e.bind(e,4767)).then(s=>s.RoleModule)},{path:"change-password",component:L,data:{title:"Change Password"}},{path:"change-credential",component:A,data:{title:"Change Credentials"}},{path:"company",canActivate:[o.LL],data:{page:o.Wt.company,action:o.eZ.list},loadChildren:()=>e.e(588).then(e.bind(e,2588)).then(s=>s.CompanyModule)},{path:"weight-check",canActivate:[o.LL],data:{page:o.Wt.weightCheck,action:o.eZ.list},loadChildren:()=>Promise.all([e.e(76),e.e(195)]).then(e.bind(e,7195)).then(s=>s.WeightCheckModule)},{path:"permission",canActivate:[o.LL],data:{page:o.Wt.permissioon},loadChildren:()=>Promise.all([e.e(76),e.e(263)]).then(e.bind(e,2263)).then(s=>s.PermissionModule)},{path:"pallet-packing",canActivate:[o.LL],data:{page:o.Wt.palletPacking},loadChildren:()=>Promise.all([e.e(76),e.e(727)]).then(e.bind(e,727)).then(s=>s.PalletPackingModule)},{path:"attribute-check",canActivate:[o.LL],data:{page:o.Wt.attributeCheck},loadChildren:()=>Promise.all([e.e(76),e.e(11)]).then(e.bind(e,4011)).then(s=>s.AttributeCheckModule)},{path:"trailer-inspection",canActivate:[o.LL],data:{page:o.Wt.trailerInspection},loadChildren:()=>Promise.all([e.e(76),e.e(535)]).then(e.bind(e,3535)).then(s=>s.TrailerInspectionModule)},{path:"trailor-loading",canActivate:[o.LL],data:{page:o.Wt.trailerLoading},loadChildren:()=>Promise.all([e.e(76),e.e(186)]).then(e.bind(e,2186)).then(s=>s.TrailerLoadingModule)},{path:"downtimeTracking",canActivate:[o.LL],data:{page:o.Wt.downtimeTracking},loadChildren:()=>Promise.all([e.e(76),e.e(62)]).then(e.bind(e,5062)).then(s=>s.DowntimeTrackingModule)},{path:"liquid-preparation",canActivate:[o.LL],data:{page:o.Wt.liquidPreparation},loadChildren:()=>Promise.all([e.e(76),e.e(956)]).then(e.bind(e,8956)).then(s=>s.LiquidPreparationModule)},{path:"pre-check",canActivate:[o.LL],data:{page:o.Wt.preCheck},loadChildren:()=>Promise.all([e.e(76),e.e(930)]).then(e.bind(e,4930)).then(s=>s.PreCheckModule)},{path:"production-order",canActivate:[o.LL],data:{page:o.Wt.productionOrder},loadChildren:()=>Promise.all([e.e(983),e.e(76),e.e(899)]).then(e.bind(e,899)).then(s=>s.ProductionOrderModule)},{path:"post-check",canActivate:[o.LL],data:{page:o.Wt.postCheck},loadChildren:()=>Promise.all([e.e(76),e.e(51)]).then(e.bind(e,51)).then(s=>s.PostCheckModule)},{path:"labor-variance",canActivate:[o.LL],data:{page:o.Wt.laborVariance},loadChildren:()=>Promise.all([e.e(76),e.e(906)]).then(e.bind(e,6906)).then(s=>s.LaborVarianceModule)}]}];let O=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275mod=t.$C({type:s});static#s=this.\u0275inj=t.G2t({imports:[c.iI.forChild(B),c.iI]})}return s})();var T=e(2356);let G=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275mod=t.$C({type:s});static#s=this.\u0275inj=t.G2t({providers:[v],imports:[u.Gg,O,T.c9,F.WX]})}return s})()}}]);