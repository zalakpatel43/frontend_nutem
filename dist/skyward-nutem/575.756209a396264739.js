"use strict";(self.webpackChunkskyward_admin=self.webpackChunkskyward_admin||[]).push([[575],{42956:(ct,g,n)=>{n.r(g),n.d(g,{QualityParameterModule:()=>lt});var C=n(71774),c=n(18498),t=n(54438);let v=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&t.nrm(0,"router-outlet")},dependencies:[c.n3],encapsulation:2})}return i})();var m=n(89417),P=n(80775),l=n(4434),I=n(69189),j=n(52495);let h=(()=>{class i extends l.QP{constructor(e){super(e,"qualityParameter"),this._baseService=e}generateCode(){return this._baseService.get(`${l.T6.qualityParameter}/generateCode`)}static#t=this.\u0275fac=function(r){return new(r||i)(t.KVO(l.dD))};static#e=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac})}return i})();var F=n(45794),E=n(98937),d=n(60177),p=n(88834),b=n(32102),S=n(99631),_=n(99213),Q=n(82798),N=n(86600),D=n(30220),R=n(58777),G=n(67133),$=n(71893);function A(i,o){if(1&i){const e=t.RV6();t.j41(0,"a",31),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.cancel())}),t.EFF(1," View List "),t.k0s()}}function T(i,o){if(1&i&&(t.j41(0,"mat-option",32),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function w(i,o){if(1&i&&(t.j41(0,"mat-option",32),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Y(i,o){if(1&i&&(t.j41(0,"mat-option",32),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function x(i,o){if(1&i&&(t.j41(0,"mat-option",32),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function L(i,o){if(1&i&&(t.j41(0,"mat-option",32),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function V(i,o){if(1&i&&(t.j41(0,"mat-option",32),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function U(i,o){if(1&i&&(t.j41(0,"mat-option",32),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function B(i,o){if(1&i&&(t.j41(0,"mat-option",32),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function X(i,o){if(1&i&&(t.j41(0,"mat-option",32),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function M(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",33)(1,"div",34)(2,"mat-form-field")(3,"mat-label"),t.EFF(4,"Parameter"),t.k0s(),t.j41(5,"mat-select",35),t.DNE(6,Y,2,2,"mat-option",21),t.k0s(),t.nrm(7,"mat-validation-message",17),t.k0s()(),t.j41(8,"div",34)(9,"mat-form-field")(10,"mat-label"),t.EFF(11,"Class"),t.k0s(),t.j41(12,"mat-select",36),t.DNE(13,x,2,2,"mat-option",21),t.k0s(),t.nrm(14,"mat-validation-message",17),t.k0s()(),t.j41(15,"div",34)(16,"mat-form-field")(17,"mat-label"),t.EFF(18,"LSL Dimension"),t.k0s(),t.j41(19,"mat-select",37),t.DNE(20,L,2,2,"mat-option",21),t.k0s(),t.nrm(21,"mat-validation-message",17),t.k0s()(),t.j41(22,"div",34)(23,"mat-form-field")(24,"mat-label"),t.EFF(25,"USL Dimension"),t.k0s(),t.j41(26,"mat-select",38),t.DNE(27,V,2,2,"mat-option",21),t.k0s(),t.nrm(28,"mat-validation-message",17),t.k0s()(),t.j41(29,"div",34)(30,"mat-form-field")(31,"mat-label"),t.EFF(32,"Measuring Instrument"),t.k0s(),t.j41(33,"mat-select",39),t.DNE(34,U,2,2,"mat-option",21),t.k0s(),t.nrm(35,"mat-validation-message",17),t.k0s()(),t.j41(36,"div",34)(37,"mat-form-field")(38,"mat-label"),t.EFF(39,"Sample Frequency"),t.k0s(),t.j41(40,"mat-select",40),t.DNE(41,B,2,2,"mat-option",21),t.k0s(),t.nrm(42,"mat-validation-message",17),t.k0s()(),t.j41(43,"div",34)(44,"mat-form-field")(45,"mat-label"),t.EFF(46,"Reporting Frequency"),t.k0s(),t.j41(47,"mat-select",41),t.DNE(48,X,2,2,"mat-option",21),t.k0s(),t.nrm(49,"mat-validation-message",17),t.k0s()(),t.j41(50,"div",34)(51,"mat-form-field")(52,"mat-label"),t.EFF(53,"Dimension"),t.k0s(),t.nrm(54,"input",42),t.k0s()(),t.j41(55,"div",34)(56,"mat-form-field")(57,"mat-label"),t.EFF(58,"Tolerance"),t.k0s(),t.nrm(59,"input",43),t.k0s()(),t.j41(60,"div",44)(61,"button",45),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addQualityParameterDetail())}),t.j41(62,"mat-icon"),t.EFF(63,"add"),t.k0s()(),t.j41(64,"button",45),t.bIt("click",function(){const a=t.eBV(e).index,s=t.XpG();return t.Njj(s.removeQualityParameterDetail(a))}),t.j41(65,"mat-icon"),t.EFF(66,"delete"),t.k0s()()()()}if(2&i){const e=o.$implicit,r=o.index,a=t.XpG();t.Y8G("formGroupName",r),t.R7$(6),t.Y8G("ngForOf",a.parameters),t.R7$(),t.Y8G("control",e.get("parameterId"))("message","Parameter")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.classes),t.R7$(),t.Y8G("control",e.get("classId"))("message","Class")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.lslDimensions),t.R7$(),t.Y8G("control",e.get("lslDimensionId"))("message","LSL Dimension")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.uslDimensions),t.R7$(),t.Y8G("control",e.get("uslDimensionId"))("message","USL Dimension")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.measuringInstruments),t.R7$(),t.Y8G("control",e.get("measuringInstrumentId"))("message","Measuring Instrument")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.sampleFrequencies),t.R7$(),t.Y8G("control",e.get("sampleFrequencyId"))("message","Sample Frequency")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.reportingFrequencies),t.R7$(),t.Y8G("control",e.get("reportingFrequencyId"))("message","Reporting Frequency")("formSubmitted",a.isFormSubmitted)}}function O(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",33)(1,"div",46)(2,"mat-form-field")(3,"mat-label"),t.EFF(4,"Document Name"),t.k0s(),t.nrm(5,"input",47)(6,"mat-validation-message",17),t.k0s()(),t.j41(7,"div",46),t.nrm(8,"input",48),t.j41(9,"file-uploader",49),t.bIt("removeDocument",function(){const a=t.eBV(e).index,s=t.XpG();return t.Njj(s.removeEditFile(null==s.qualityParameterData?null:s.qualityParameterData.qcParameterDocuments[a]))})("selectedFile",function(){const a=t.eBV(e).index,s=t.XpG();return t.Njj(s.selectedFile(null==s.qualityParameterData?null:s.qualityParameterData.qcParameterDocuments[a]))}),t.k0s()(),t.j41(10,"div",50)(11,"button",45),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addQualityParameterDocument())}),t.j41(12,"mat-icon"),t.EFF(13,"add"),t.k0s()(),t.j41(14,"button",45),t.bIt("click",function(){const a=t.eBV(e).index,s=t.XpG();return t.Njj(s.removeQualityParameterDocument(a))}),t.j41(15,"mat-icon"),t.EFF(16,"delete"),t.k0s()()()()}if(2&i){const e=o.$implicit,r=o.index,a=t.XpG();t.Y8G("formGroupName",r),t.R7$(6),t.Y8G("control",e.get("documentName"))("message","Document Name")("formSubmitted",a.isFormSubmitted),t.R7$(3),t.Y8G("documents",null==a.qualityParameterData||null==a.qualityParameterData.qcParameterDocuments[r]?null:a.qualityParameterData.qcParameterDocuments[r].picture)("isEditMode",a.isEditMode)("label","")("hideUploader",null==a.qualityParameterData||null==a.qualityParameterData.qcParameterDocuments[r]?null:a.qualityParameterData.qcParameterDocuments[r].hideUploader)("uploader",null==a.qualityParameterData||null==a.qualityParameterData.qcParameterDocuments[r]||null==a.qualityParameterData.qcParameterDocuments[r].uploader?null:a.qualityParameterData.qcParameterDocuments[r].uploader.uploader)}}let f=(()=>{class i{constructor(e,r,a,s,u,mt,ut){this.fb=e,this.activatedRoute=r,this.router=a,this.qualityParameterService=s,this.listService=u,this.toastr=mt,this.modalService=ut,this.isEditMode=!1,this.isFormSubmitted=!1,this.page=l.Wt.qualityParameter,this.permissions=l.eZ,this.uploadDocuments=[],this.uploadedCount=0,this.products=[],this.approvalStatuses=[],this.parameters=[],this.classes=[],this.lslDimensions=[],this.uslDimensions=[],this.measuringInstruments=[],this.sampleFrequencies=[],this.reportingFrequencies=[],this.createForm()}ngOnInit(){this.loadDropdowns(),this.getQualityParameterRoute()}createForm(){this.qualityParameterForm=this.fb.group({qualityParameterCode:[{value:"",disabled:!0},[m.k0.required]],revisionNo:[{value:"R00",disabled:!0}],drawingNumber:["",[m.k0.required]],productId:[null,m.k0.required],approvalStatusId:[null,m.k0.required],isActive:[!0],qcQuantity:[0,m.k0.required],qcParameterDetails:this.fb.array([]),qcParameterDocuments:this.fb.array([])})}getQualityParameterRoute(){this.routerSub=this.activatedRoute.params.subscribe(e=>{this.isEditMode=!l.ov.isEmpty(e.id),this.createForm(),this.isEditMode?(this.qualityParameterId=+e.id,this.getQualityParameterDetails(this.qualityParameterId)):this.generateQualityParameterCode()})}get qcParameterDetails(){return this.qualityParameterForm.get("qcParameterDetails")}get qcParameterDocuments(){return this.qualityParameterForm.get("qcParameterDocuments")}addQualityParameterDetail(e){this.qcParameterDetails.push(this.fb.group({parameterId:[e?e.parameterId:null,m.k0.required],classId:[e?e.classId:null,m.k0.required],lslDimensionId:[e?e.lslDimensionId:null,m.k0.required],uslDimensionId:[e?e.uslDimensionId:null,m.k0.required],measuringInstrumentId:[e?e.measuringInstrumentId:null,m.k0.required],sampleFrequencyId:[e?e.sampleFrequencyId:null,m.k0.required],reportingFrequencyId:[e?e.reportingFrequencyId:null,m.k0.required],dimension:[e?e.dimension:null],tolerance:[e?e.tolerance:""]}))}addQualityParameterDocument(e){let r=!0;e||(r=!1,(e=new P.Qv).pictureId=null,e.picture=null,e.documentName="",e.hideUploader=!1,e.uniqueId=l.ov.generateUUID(),e.uploader=new l.o7({maxAllowedFile:1,completeCallback:this.uploadCompleted.bind(this,e),onWhenAddingFileFailed:this.uploadFailed.bind(this)})),this.qcParameterDocuments.push(this.fb.group({documentName:[e?e.documentName:"",[m.k0.required,m.k0.maxLength(256)]],pictureId:[e?e.pictureId:null],uniqueId:[e?e.uniqueId:null]})),l.ov.isEmpty(this.qualityParameterData)&&(this.qualityParameterData=new P.Ph),r||this.qualityParameterData.qcParameterDocuments.push(e)}removeQualityParameterDetail(e){this.qcParameterDetails.removeAt(e)}removeQualityParameterDocument(e){this.qcParameterDocuments.removeAt(e),this.qualityParameterData.qcParameterDocuments.splice(e,1)}generateQualityParameterCode(){this.qualityParameterService.generateCode().subscribe(e=>{this.qualityParameterForm.patchValue({qualityParameterCode:e})},e=>{console.log(e)})}loadDropdowns(){this.listService.getList("rawmaterialProducts").subscribe(e=>{this.products=e}),this.listService.getList("approvalStatuses").subscribe(e=>{this.approvalStatuses=e}),this.listService.getList("qcparameters").subscribe(e=>{this.parameters=e}),this.listService.getList("qcclasses").subscribe(e=>{this.classes=e}),this.listService.getList("lslDimensions").subscribe(e=>{this.lslDimensions=e}),this.listService.getList("uslDimensions").subscribe(e=>{this.uslDimensions=e}),this.listService.getList("measuringInstruments").subscribe(e=>{this.measuringInstruments=e}),this.listService.getList("sampleFrequencies").subscribe(e=>{this.sampleFrequencies=e}),this.listService.getList("reportingFrequencies").subscribe(e=>{this.reportingFrequencies=e})}getQualityParameterDetails(e){this.qualityParameterService.getById(e).subscribe(r=>{this.qualityParameterData=r,l.ov.isNotEmpty(this.qualityParameterData.qcParameterDocuments)&&this.qualityParameterData.qcParameterDocuments.forEach(a=>{a.hideUploader=a.pictureId>0,a.uniqueId=l.ov.generateUUID(),a.uploader=new l.o7({maxAllowedFile:1,completeCallback:this.uploadCompleted.bind(this,a),onWhenAddingFileFailed:this.uploadFailed.bind(this)})}),this.setQualityParameterData(),this.updateRevisionNo()})}setQualityParameterData(){this.qualityParameterForm.patchValue(this.qualityParameterData),this.qualityParameterData.qcParameterDetails.forEach(e=>this.addQualityParameterDetail(e)),this.qualityParameterData.qcParameterDocuments.forEach(e=>this.addQualityParameterDocument(e))}createQualityParameter(){let e=this.qualityParameterForm.getRawValue();this.qualityParameterData=Object.assign(this.qualityParameterData,this.qualityParameterData,e),this.qualityParameterService.add(e).subscribe(()=>{this.cancel(),this.toastr.success("Quality Parameter details added successfully.")},r=>{this.error=r})}updateQualityParameter(){let e=this.qualityParameterForm.getRawValue();this.qualityParameterData=Object.assign(this.qualityParameterData,this.qualityParameterData,e),this.qualityParameterService.update(this.qualityParameterData.id,this.qualityParameterData).subscribe(()=>{this.cancel(),this.toastr.success("Quality Parameter details updated successfully."),this.updateRevisionNo()},r=>{this.error=r})}save(){if(this.isFormSubmitted=!0,!this.qualityParameterForm.invalid){if(this.qualityParameterData.qcParameterDocuments.some(e=>!e.pictureId&&!e.uploader.hasFile()))return void this.toastr.warning("Please upload all the required documents.");this.uploadDocuments=this.qualityParameterData.qcParameterDocuments.filter(e=>e.uploader.hasFile()),this.uploadedCount=0,this.uploadDocuments.length>0?this.uploadDocuments.forEach((e,r)=>{e.uploader.hasFile()&&e.uploader.uploadFiles({uploadType:j.Sq.QualityParameter,id:"0"})}):this.isEditMode?this.updateQualityParameter():this.createQualityParameter()}}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}hasFile(e){return this.isEditMode&&l.ov.isNotEmpty(e.picture)||e.uploader.hasFile()}uploadCompleted(e,r){this.uploadedCount++;const a=this.qcParameterDocuments.controls.find(s=>s.get("uniqueId").value===e.uniqueId);a&&a.get("pictureId").setValue(r.id),this.uploadedCount===this.uploadDocuments.length&&(this.isEditMode?this.updateQualityParameter():this.createQualityParameter())}uploadFailed(){this.toastr.warning("You are only allowed to upload jpg/jpeg/png/pdf/doc files.")}selectedFile(e){e.hideUploader=!0}removeEditFile(e){e.pictureId=null,e.picture=null,e.hideUploader=!1,e.uploader.uploader.clearQueue()}filePreview(e,r,a){this.filePreviewModalRef=this.modalService.show(I.v,{class:"modal-lg modal-tr"}),this.filePreviewModalRef.content.setData({file:e,type:r,title:a})}updateRevisionNo(){let e=this.qualityParameterForm.get("revisionNo").value,a=`R${(parseInt(e.replace("R",""),10)+1).toString().padStart(2,"0")}`;this.qualityParameterForm.get("revisionNo").setValue(a)}ngOnDestroy(){this.routerSub.unsubscribe()}static#t=this.\u0275fac=function(r){return new(r||i)(t.rXU(m.ze),t.rXU(c.nX),t.rXU(c.Ix),t.rXU(h),t.rXU(l.aG),t.rXU(F.tw),t.rXU(E.I8))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["ng-component"]],decls:78,vars:24,consts:[["form","ngForm"],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","color","primary","class","app-button",3,"click",4,"authPermission"],["novalidate","",1,"app-form",3,"ngSubmit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-4"],["type","text","matInput","","formControlName","qualityParameterCode"],[3,"control","message","formSubmitted"],["type","text","matInput","","formControlName","revisionNo"],["type","text","matInput","","formControlName","drawingNumber"],["formControlName","productId"],[3,"value",4,"ngFor","ngForOf"],["type","number","matInput","","formControlName","qcQuantity"],["formControlName","approvalStatusId"],[1,"card-header","d-flex","align-items-center","justify-content-between"],["type","button","mat-flat-button","","color","primary",3,"click"],["formArrayName","qcParameterDetails"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],["formArrayName","qcParameterDocuments"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","","color","primary",1,"app-button",2,"margin-right","10px"],["mat-flat-button","","color","primary",1,"app-button",3,"click"],[3,"value"],[1,"row","mt-3",3,"formGroupName"],[1,"col-md-3"],["formControlName","parameterId"],["formControlName","classId"],["formControlName","lslDimensionId"],["formControlName","uslDimensionId"],["formControlName","measuringInstrumentId"],["formControlName","sampleFrequencyId"],["formControlName","reportingFrequencyId"],["type","number","matInput","","formControlName","dimension"],["type","text","matInput","","formControlName","tolerance"],[1,"col-md-1","d-flex","align-items-center"],["type","button","mat-icon-button","","color","warn",3,"click"],[1,"col-md-5"],["type","text","matInput","","formControlName","documentName"],["type","hidden","formControlName","uniqueId"],[3,"removeDocument","selectedFile","documents","isEditMode","label","hideUploader","uploader"],[1,"col-md-2","d-flex","align-items-center"]],template:function(r,a){if(1&r){const s=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h4",6),t.nrm(6,"i",7),t.EFF(7," Add/Edit Quality Parameter"),t.k0s()(),t.j41(8,"div",8),t.DNE(9,A,2,0,"a",9),t.k0s()(),t.j41(10,"form",10,0),t.bIt("ngSubmit",function(){return t.eBV(s),t.Njj(a.save())}),t.j41(12,"div",11)(13,"div",12)(14,"h5",6),t.EFF(15,"Basic Details"),t.k0s()(),t.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"mat-form-field")(20,"mat-label"),t.EFF(21,"Quality Parameter Code"),t.k0s(),t.nrm(22,"input",16)(23,"mat-validation-message",17),t.k0s()(),t.j41(24,"div",15)(25,"mat-form-field")(26,"mat-label"),t.EFF(27,"Revision No"),t.k0s(),t.nrm(28,"input",18)(29,"mat-validation-message",17),t.k0s()(),t.j41(30,"div",15)(31,"mat-form-field")(32,"mat-label"),t.EFF(33,"Drawing Number"),t.k0s(),t.nrm(34,"input",19)(35,"mat-validation-message",17),t.k0s()(),t.j41(36,"div",15)(37,"mat-form-field")(38,"mat-label"),t.EFF(39,"Product"),t.k0s(),t.j41(40,"mat-select",20),t.DNE(41,T,2,2,"mat-option",21),t.k0s(),t.nrm(42,"mat-validation-message",17),t.k0s()(),t.j41(43,"div",15)(44,"mat-form-field")(45,"mat-label"),t.EFF(46,"Quantity To Be Checked(%)"),t.k0s(),t.nrm(47,"input",22)(48,"mat-validation-message",17),t.k0s()(),t.j41(49,"div",15)(50,"mat-form-field")(51,"mat-label"),t.EFF(52,"Approval Status"),t.k0s(),t.j41(53,"mat-select",23),t.DNE(54,w,2,2,"mat-option",21),t.k0s(),t.nrm(55,"mat-validation-message",17),t.k0s()()()()(),t.j41(56,"div",11)(57,"div",24)(58,"h5",6),t.EFF(59,"Quality Parameter Details"),t.k0s(),t.j41(60,"button",25),t.bIt("click",function(){return t.eBV(s),t.Njj(a.addQualityParameterDetail())}),t.EFF(61," Add Parameter "),t.k0s()(),t.j41(62,"div",13)(63,"div",26),t.DNE(64,M,67,29,"div",27),t.k0s()()(),t.j41(65,"div",11)(66,"div",24)(67,"h5",6),t.EFF(68,"Quality Parameter Documents"),t.k0s(),t.j41(69,"button",25),t.bIt("click",function(){return t.eBV(s),t.Njj(a.addQualityParameterDocument())}),t.EFF(70," Add Document "),t.k0s()(),t.j41(71,"div",13)(72,"div",28),t.DNE(73,O,17,9,"div",27),t.k0s()()(),t.j41(74,"div",14)(75,"div",29)(76,"button",30),t.EFF(77," Save "),t.k0s()()()()()()()}2&r&&(t.R7$(9),t.Y8G("authPermission",a.page+"_"+a.permissions.list),t.R7$(),t.Y8G("formGroup",a.qualityParameterForm),t.R7$(13),t.Y8G("control",a.qualityParameterForm.controls.qualityParameterCode)("message","Quality Parameter Code")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.qualityParameterForm.controls.revisionNo)("message","Revision No")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.qualityParameterForm.controls.drawingNumber)("message","Drawing Number")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.products),t.R7$(),t.Y8G("control",a.qualityParameterForm.controls.productId)("message","Product")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",a.qualityParameterForm.controls.qcQuantity)("message","Quantity To Be Checked(%)")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",a.approvalStatuses),t.R7$(),t.Y8G("control",a.qualityParameterForm.controls.approvalStatusId)("message","Approval Status")("formSubmitted",a.isFormSubmitted),t.R7$(9),t.Y8G("ngForOf",a.qcParameterDetails.controls),t.R7$(9),t.Y8G("ngForOf",a.qcParameterDocuments.controls))},dependencies:[d.Sq,m.qT,m.me,m.Q0,m.BC,m.cb,m.j4,m.JD,m.$R,m.v8,p.It,p.$z,p.iY,b.rl,b.nJ,S.fg,_.An,Q.VO,N.wT,D.B,R.T,G.r,$.A],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}"]})}return i})();var y=n(33380),H=n(49239),W=n(74193);let q=(()=>{class i{constructor(){this.searchChanged=new t.bkB,this.searchData={},this.searchKey="qualityParameterCode,drawingNumber,product,revisionNo,createdByUser"}updateSearchTerms(e,r){this.searchData[e]=r,this.searchChanged.emit(this.searchData)}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["quality-parameter-search-panel"]],outputs:{searchChanged:"searchChanged"},decls:5,vars:1,consts:[[1,"row"],[1,"col-lg-6"],[3,"textSearchEntered","placeHolder"],[1,"col-lg-4"],[3,"chkChanged"]],template:function(r,a){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"search-text",2),t.bIt("textSearchEntered",function(u){return a.updateSearchTerms(a.searchKey,u)}),t.k0s()(),t.j41(3,"div",3)(4,"search-inactive",4),t.bIt("chkChanged",function(u){return a.updateSearchTerms("isActive",u)}),t.k0s()()()),2&r&&(t.R7$(2),t.Y8G("placeHolder","Search Quality Parameter Code, Drawing Number, Product Name, Revision No, Prepared By"))},dependencies:[H.D,W.$],encapsulation:2})}return i})();var J=n(96081);const Z=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),K=()=>["../","add"],z=i=>["..","edit",i];function tt(i,o){1&i&&(t.j41(0,"a",20)(1,"span"),t.EFF(2,"Add New"),t.k0s(),t.nrm(3,"i",21),t.k0s()),2&i&&t.Y8G("routerLink",t.lJ4(1,K))}function et(i,o){if(1&i&&(t.j41(0,"a",24)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()),2&i){const e=t.XpG().row;t.Y8G("routerLink",t.eq3(1,z,e.id))}}function at(i,o){if(1&i){const e=t.RV6();t.j41(0,"a",27),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2).row,s=t.XpG();return t.Njj(s.activateToggleQualityParameter(a,!1))}),t.j41(1,"mat-icon"),t.EFF(2,"lock"),t.k0s()()}}function it(i,o){if(1&i){const e=t.RV6();t.j41(0,"a",27),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2).row,s=t.XpG();return t.Njj(s.activateToggleQualityParameter(a,!0))}),t.j41(1,"mat-icon"),t.EFF(2,"lock_open"),t.k0s()()}}function rt(i,o){if(1&i&&(t.qex(0,25),t.DNE(1,at,3,0,"a",26)(2,it,3,0,"a",26),t.bVm()),2&i){const e=t.XpG().row;t.R7$(),t.Y8G("ngIf",e.isActive),t.R7$(),t.Y8G("ngIf",!e.isActive)}}function ot(i,o){if(1&i&&t.DNE(0,et,3,3,"a",22)(1,rt,3,2,"ng-container",23),2&i){const e=t.XpG();t.Y8G("authPermission",e.page+"_"+e.permissions.edit),t.R7$(),t.Y8G("authPermission",e.page+"_"+e.permissions.active)}}const nt=[{path:"",component:v,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class i{constructor(e,r,a){this.qualityParameterService=e,this.notificationService=r,this.datePipe=a,this.qualityParameterData=[],this.page=l.Wt.qualityParameter,this.permissions=l.eZ,this.searchData={isActive:!1}}ngOnInit(){this.getQualityParameterData()}getQualityParameterData(){this.loading=!0,this.qualityParameterService.get().subscribe(e=>{this.qualityParameterData=e,this.loading=!1},e=>{console.log(e),this.loading=!1})}activateToggleQualityParameter(e,r){confirm(`Are you sure you want to ${r?"Activate":"Deactivate"} this quality parameter?`)&&this.qualityParameterService.toggleActivate(e.id,r).subscribe(()=>{this.getQualityParameterData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(e){this.searchData=Object.assign({},e)}isActiveRow(e){return{"text-danger":!e.isActive}}static#t=this.\u0275fac=function(r){return new(r||i)(t.rXU(h),t.rXU(F.tw),t.rXU(d.vh))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["ng-component"]],features:[t.Jv_([d.vh])],decls:22,vars:16,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","color","primary","class","app-button",3,"routerLink",4,"authPermission"],[1,"row"],[1,"col-12"],[3,"searchChanged"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","rowClass","messages"],["name","Quality Parameter Code","prop","qualityParameterCode"],["name","Revision No","prop","revisionNo"],["name","Drawing Number","prop","drawingNumber"],["name","Product","prop","product"],["name","Approval Status","prop","approvalStatus"],["name","Prepared By","prop","createdByUser"],["name","Actions",3,"sortable"],["ngx-datatable-cell-template",""],["mat-flat-button","","color","primary",1,"app-button",3,"routerLink"],[1,"icon-plus"],["class","button-padding","color","primary",3,"routerLink",4,"authPermission"],["class","ml-10",4,"authPermission"],["color","primary",1,"button-padding",3,"routerLink"],[1,"ml-10"],["class","button-padding","color","primary",3,"click",4,"ngIf"],["color","primary",1,"button-padding",3,"click"]],template:function(r,a){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6,"Quality Parameter List"),t.k0s()(),t.j41(7,"div",6),t.DNE(8,tt,4,2,"a",7),t.k0s()(),t.j41(9,"div",8)(10,"div",9)(11,"quality-parameter-search-panel",10),t.bIt("searchChanged",function(u){return a.updateSearch(u)}),t.k0s(),t.j41(12,"ngx-datatable",11),t.nI1(13,"searchtable"),t.nrm(14,"ngx-datatable-column",12)(15,"ngx-datatable-column",13)(16,"ngx-datatable-column",14)(17,"ngx-datatable-column",15)(18,"ngx-datatable-column",16)(19,"ngx-datatable-column",17),t.j41(20,"ngx-datatable-column",18),t.DNE(21,ot,2,2,"ng-template",19),t.k0s()()()()()()()),2&r&&(t.R7$(8),t.Y8G("authPermission",a.page+"_"+a.permissions.create),t.R7$(4),t.Y8G("rows",t.i5U(13,12,a.qualityParameterData,a.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",a.loading)("scrollbarH",!0)("rowClass",a.isActiveRow)("messages",t.lJ4(15,Z)),t.R7$(8),t.Y8G("sortable",!1))},dependencies:[d.bT,p.It,_.An,c.Wk,y.ge,y.ed,y.QI,D.B,q,J.j],encapsulation:2})}return i})(),canActivate:[l.LL],data:{page:l.Wt.qualityParameter,action:l.eZ.list,title:"Quality Parameter"}},{path:"add",canActivate:[l.LL],data:{page:l.Wt.qualityParameter,action:l.eZ.create,title:"Quality Parameter"},component:f},{path:"edit/:id",canActivate:[l.LL],data:{page:l.Wt.qualityParameter,action:l.eZ.edit,title:"Quality Parameter"},component:f}]}];let st=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.$C({type:i});static#a=this.\u0275inj=t.G2t({imports:[c.iI.forChild(nt),c.iI]})}return i})(),lt=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.$C({type:i});static#a=this.\u0275inj=t.G2t({providers:[h],imports:[C.Gg,st]})}return i})()}}]);