"use strict";(self.webpackChunkskyward_admin=self.webpackChunkskyward_admin||[]).push([[849],{68849:(lt,q,n)=>{n.r(q),n.d(q,{MaterialRequisitionModule:()=>ot});var E=n(71774),d=n(18498),t=n(54438);let b=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(o,a){1&o&&t.nrm(0,"router-outlet")},dependencies:[d.n3],encapsulation:2})}return i})();var c=n(89417),l=n(4434),u=n(60177);let h=(()=>{class i extends l.QP{constructor(e){super(e,"materialRequisition"),this._baseService=e}generateCode(){return this._baseService.get(`${l.T6.materialRequisition}/generateCode`)}getProductUOMs(e){return this._baseService.get(`${l.T6.product}/productUOMs/${e}`)}static#t=this.\u0275fac=function(o){return new(o||i)(t.KVO(l.dD))};static#e=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac})}return i})();var M=n(45794),k=n(26494),p=n(88834),f=n(32102),I=n(99631),C=n(99213),S=n(82798),A=n(86600),g=n(25084),D=n(30220),N=n(58777),G=n(67133);function T(i,r){if(1&i){const e=t.RV6();t.j41(0,"a",35),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.cancel())}),t.EFF(1," View List "),t.k0s()}}function x(i,r){if(1&i&&(t.j41(0,"mat-option",36),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function w(i,r){if(1&i&&(t.j41(0,"mat-option",36),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function P(i,r){if(1&i&&(t.j41(0,"mat-option",36),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function $(i,r){if(1&i&&(t.j41(0,"mat-option",36),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function L(i,r){if(1&i&&(t.j41(0,"mat-option",36),t.EFF(1),t.k0s()),2&i){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.Lme(" ",e.name," - ",e.code," ")}}function Y(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",37)(1,"div",38)(2,"mat-form-field"),t.nrm(3,"input",39),t.j41(4,"mat-label"),t.EFF(5,"Product"),t.k0s(),t.j41(6,"mat-select",40),t.bIt("selectionChange",function(a){const s=t.eBV(e).index,m=t.XpG();return t.Njj(m.onProductChange(s,a.value))}),t.DNE(7,L,2,3,"mat-option",22),t.k0s()()(),t.j41(8,"div",38)(9,"mat-form-field")(10,"mat-label"),t.EFF(11,"Product Description"),t.k0s(),t.nrm(12,"input",41)(13,"mat-validation-message",42),t.k0s()(),t.j41(14,"div",43)(15,"mat-form-field")(16,"mat-label"),t.EFF(17,"Qty"),t.k0s(),t.nrm(18,"input",44)(19,"mat-validation-message",42),t.k0s()(),t.j41(20,"div",43)(21,"mat-form-field")(22,"mat-label"),t.EFF(23,"UOM"),t.k0s(),t.nrm(24,"input",45)(25,"input",46),t.k0s()(),t.j41(26,"div",47)(27,"button",48),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addProductDetail())}),t.j41(28,"mat-icon"),t.EFF(29,"add"),t.k0s()(),t.j41(30,"button",48),t.bIt("click",function(){const a=t.eBV(e).index,s=t.XpG();return t.Njj(s.removeProductDetail(a))}),t.j41(31,"mat-icon"),t.EFF(32,"delete"),t.k0s()()(),t.nrm(33,"hr"),t.k0s()}if(2&i){const e=r.$implicit,o=r.index,a=t.XpG();t.Y8G("formGroupName",o),t.R7$(7),t.Y8G("ngForOf",a.products),t.R7$(6),t.Y8G("control",e.get("productDescription"))("message","Product Description")("formSubmitted",a.isFormSubmitted),t.R7$(6),t.Y8G("control",e.get("quantity"))("message","Qty")("formSubmitted",a.isFormSubmitted)}}let v=(()=>{class i{constructor(e,o,a,s,m,_,st,nt,rt){this.activatedRoute=e,this.router=o,this.formBuilder=a,this.materialRequisitionService=s,this.notificationService=m,this.listService=_,this.authService=st,this.datePipe=nt,this.customerService=rt,this.page=l.Wt.materialRequisition,this.permissions=l.eZ,this.uoms=[],this.loggedInUserId=this.authService.getBrowserUser().id,this.createForm()}ngOnInit(){this.getMaterialRequisitionRoute(),this.loadDropdowns(),this.isEditMode||this.generateMaterialRequisitionCode()}createForm(){this.frmMaterialRequisition=this.formBuilder.group({materialRequisitionCode:[{value:"",disabled:!0},[c.k0.required,c.k0.maxLength(32)]],materialRequisitionDate:[new Date,[c.k0.required]],warehouseId:["",[c.k0.required]],expectedDate:[new Date,[c.k0.required]],customerId:[""],shippingAddressId:[""],billingAddressId:[""],remarks:[""],materialRequisitionProductDetails:this.formBuilder.array([])})}get materialRequisitionProductDetails(){return this.frmMaterialRequisition.get("materialRequisitionProductDetails")}getMaterialRequisitionRoute(){this.routerSub=this.activatedRoute.params.subscribe(e=>{this.isEditMode=!l.ov.isEmpty(e.id),this.isEditMode&&(this.materialRequisitionId=+e.id,this.getMaterialRequisitionDetails())})}getMaterialRequisitionDetails(){this.materialRequisitionService.getById(this.materialRequisitionId).subscribe(e=>{this.materialRequisitionData=e,this.onCustomerChange(e.customerId),this.setMaterialRequisitionData(e)},e=>{this.error=e})}setMaterialRequisitionData(e){this.frmMaterialRequisition.patchValue(e),e.materialRequisitionProductDetails&&e.materialRequisitionProductDetails.forEach(o=>{this.addProductDetail(o)})}addProductDetail(e){this.materialRequisitionProductDetails.push(this.formBuilder.group({id:[e?e.id:0],productId:[e?e.productId:"",[c.k0.required]],productDescription:[e?e.productDescription:"",[c.k0.required]],quantity:[e?e.quantity:"",[c.k0.required,c.k0.min(.01)]],uomId:[e?e.uomId:"",[c.k0.required]],uomName:[{value:e?e.uomName:"",disabled:!0}]}))}removeProductDetail(e){this.materialRequisitionProductDetails.removeAt(e)}loadDropdowns(){this.listService.getList("warehouses").subscribe(e=>{this.warehouses=e}),this.listService.getList("customers").subscribe(e=>{this.customers=e}),this.listService.getList("products").subscribe(e=>{this.products=e})}onCustomerChange(e){this.customerService.getById(e).subscribe(o=>{l.ov.isNotEmpty(o)&&o.customerDetails?.length>0&&(this.shippingAddresses=o.customerDetails.map(a=>({id:a.id,name:a.street+", "+a.city+", "+a.state+", "+a.country+", "+a.zipCode})),this.billingAddresses=o.customerDetails.map(a=>({id:a.id,name:a.street+", "+a.city+", "+a.state+", "+a.country+", "+a.zipCode})))},o=>{this.shippingAddresses=[],this.billingAddresses=[],console.log(o)})}onProductChange(e,o){this.materialRequisitionService.getProductUOMs(o).subscribe(a=>{const s=this.materialRequisitionProductDetails.at(e);s.get("uomId").setValue(a.id),s.get("uomName").setValue(a.name)})}generateMaterialRequisitionCode(){this.materialRequisitionService.generateCode().subscribe(e=>{this.frmMaterialRequisition.get("materialRequisitionCode").setValue(e)})}formatDate(e){return this.datePipe.transform(e,"yyyy-MM-dd")}createMaterialRequisition(e){this.materialRequisitionService.add(e).subscribe(o=>{this.cancel(),this.notificationService.success("Material Requisition saved successfully.")},o=>{this.error=o})}updateMaterialRequisition(e){this.materialRequisitionService.update(this.materialRequisitionId,e).subscribe(o=>{this.cancel(),this.notificationService.success("Material Requisition updated successfully.")},o=>{this.error=o})}save(){if(this.isFormSubmitted=!0,this.frmMaterialRequisition.invalid)return;const e=this.frmMaterialRequisition.getRawValue();0!==e.materialRequisitionProductDetails.length?(e.id=this.materialRequisitionId,e.materialRequisitionDate=this.formatDate(e.materialRequisitionDate),e.expectedDate=this.formatDate(e.expectedDate),this.isEditMode?this.updateMaterialRequisition(e):this.createMaterialRequisition(e)):this.notificationService.warning("Please add at least one product detail.")}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}ngOnDestroy(){this.routerSub.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||i)(t.rXU(d.nX),t.rXU(d.Ix),t.rXU(c.ze),t.rXU(h),t.rXU(M.tw),t.rXU(l.aG),t.rXU(l.FJ),t.rXU(u.vh),t.rXU(k.m))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["ng-component"]],features:[t.Jv_([u.QX,u.vh])],decls:83,vars:11,consts:[["form","ngForm"],["picker1",""],["picker2",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","color","primary","class","app-button",3,"click",4,"authPermission"],["novalidate","",1,"app-form",3,"submit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-4"],["type","text","matInput","","formControlName","materialRequisitionCode","readonly",""],["matInput","","formControlName","materialRequisitionDate",3,"matDatepicker"],["matSuffix","",3,"for"],["formControlName","warehouseId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","expectedDate",3,"matDatepicker"],["formControlName","customerId",3,"selectionChange"],["formControlName","shippingAddressId"],["formControlName","billingAddressId"],[1,"col-md-8"],["matInput","","formControlName","remarks","rows","2"],[1,"card-header","d-flex","align-items-center","justify-content-between"],["type","button","mat-flat-button","","color","primary",3,"click"],["formArrayName","materialRequisitionProductDetails"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","","color","primary",1,"app-button","mr-1"],["mat-flat-button","","color","primary",1,"app-button",3,"click"],[3,"value"],[1,"row","mt-3",3,"formGroupName"],[1,"col-md-3"],["type","hidden","formControlName","id"],["formControlName","productId",3,"selectionChange"],["type","text","matInput","","formControlName","productDescription"],[3,"control","message","formSubmitted"],[1,"col-md-2"],["type","number","matInput","","formControlName","quantity"],["type","hidden","formControlName","uomId"],["type","text","matInput","","formControlName","uomName","readonly",""],[1,"col-md-1","d-flex","align-items-center"],["type","button","mat-icon-button","","color","warn",3,"click"]],template:function(o,a){if(1&o){const s=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h4",8),t.nrm(6,"i",9),t.EFF(7," Add/Edit Material Requisition"),t.k0s()(),t.j41(8,"div",10),t.DNE(9,T,2,0,"a",11),t.k0s()(),t.j41(10,"form",12,0),t.bIt("submit",function(){return t.eBV(s),t.Njj(a.save())}),t.j41(12,"div",13)(13,"div",14)(14,"h5",8),t.EFF(15,"Basic Details"),t.k0s()(),t.j41(16,"div",15)(17,"div",16)(18,"div",17)(19,"mat-form-field")(20,"mat-label"),t.EFF(21,"Material Requisition Code"),t.k0s(),t.nrm(22,"input",18),t.k0s()(),t.j41(23,"div",17)(24,"mat-form-field")(25,"mat-label"),t.EFF(26,"Material Requisition Date"),t.k0s(),t.nrm(27,"input",19)(28,"mat-datepicker-toggle",20)(29,"mat-datepicker",null,1),t.k0s()(),t.j41(31,"div",17)(32,"mat-form-field")(33,"mat-label"),t.EFF(34,"Warehouse"),t.k0s(),t.j41(35,"mat-select",21),t.DNE(36,x,2,2,"mat-option",22),t.k0s()()()(),t.j41(37,"div",16)(38,"div",17)(39,"mat-form-field")(40,"mat-label"),t.EFF(41,"Expected Date"),t.k0s(),t.nrm(42,"input",23)(43,"mat-datepicker-toggle",20)(44,"mat-datepicker",null,2),t.k0s()(),t.j41(46,"div",17)(47,"mat-form-field")(48,"mat-label"),t.EFF(49,"Customer"),t.k0s(),t.j41(50,"mat-select",24),t.bIt("selectionChange",function(_){return t.eBV(s),t.Njj(a.onCustomerChange(_.value))}),t.DNE(51,w,2,2,"mat-option",22),t.k0s()()(),t.j41(52,"div",17)(53,"mat-form-field")(54,"mat-label"),t.EFF(55,"Shipping Address"),t.k0s(),t.j41(56,"mat-select",25),t.DNE(57,P,2,2,"mat-option",22),t.k0s()()()(),t.j41(58,"div",16)(59,"div",17)(60,"mat-form-field")(61,"mat-label"),t.EFF(62,"Billing Address"),t.k0s(),t.j41(63,"mat-select",26),t.DNE(64,$,2,2,"mat-option",22),t.k0s()()(),t.j41(65,"div",27)(66,"mat-form-field")(67,"mat-label"),t.EFF(68,"Remarks"),t.k0s(),t.nrm(69,"textarea",28),t.k0s()()()()(),t.j41(70,"div",13)(71,"div",29)(72,"h5",8),t.EFF(73,"Product Details"),t.k0s(),t.j41(74,"button",30),t.bIt("click",function(){return t.eBV(s),t.Njj(a.addProductDetail())}),t.EFF(75,"Add Product"),t.k0s()(),t.j41(76,"div",15)(77,"div",31),t.DNE(78,Y,34,8,"div",32),t.k0s()()(),t.j41(79,"div",16)(80,"div",33)(81,"button",34),t.EFF(82,"Save"),t.k0s()()()()()()()}if(2&o){const s=t.sdS(30),m=t.sdS(45);t.R7$(9),t.Y8G("authPermission",a.page+"_"+a.permissions.list),t.R7$(),t.Y8G("formGroup",a.frmMaterialRequisition),t.R7$(17),t.Y8G("matDatepicker",s),t.R7$(),t.Y8G("for",s),t.R7$(8),t.Y8G("ngForOf",a.warehouses),t.R7$(6),t.Y8G("matDatepicker",m),t.R7$(),t.Y8G("for",m),t.R7$(8),t.Y8G("ngForOf",a.customers),t.R7$(6),t.Y8G("ngForOf",a.shippingAddresses),t.R7$(7),t.Y8G("ngForOf",a.billingAddresses),t.R7$(14),t.Y8G("ngForOf",a.materialRequisitionProductDetails.controls)}},dependencies:[u.Sq,c.qT,c.me,c.Q0,c.BC,c.cb,c.j4,c.JD,c.$R,c.v8,p.It,p.$z,p.iY,f.rl,f.nJ,f.yw,I.fg,C.An,S.VO,A.wT,g.Vh,g.bZ,g.bU,D.B,N.T,G.r],encapsulation:2})}return i})();var y=n(62288),R=n(33380),B=n(49239),V=n(74193);let F=(()=>{class i{constructor(){this.searchChanged=new t.bkB,this.searchData={},this.searchKey="materialRequisitionCode,warehouseName,customerName,shippingAddress,billingAddress"}updateSearchTerms(e,o){this.searchData[e]=o,this.searchChanged.emit(this.searchData)}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["material-requisition-search-panel"]],outputs:{searchChanged:"searchChanged"},decls:5,vars:1,consts:[[1,"row"],[1,"col-lg-6"],[3,"textSearchEntered","placeHolder"],[1,"col-lg-4"],[3,"chkChanged"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"search-text",2),t.bIt("textSearchEntered",function(m){return a.updateSearchTerms(a.searchKey,m)}),t.k0s()(),t.j41(3,"div",3)(4,"search-inactive",4),t.bIt("chkChanged",function(m){return a.updateSearchTerms("isActive",m)}),t.k0s()()()),2&o&&(t.R7$(2),t.Y8G("placeHolder","Search Material Requisition Code, Warehouse, Customer Name, Shipping Address, Billing Address"))},dependencies:[B.D,V.$],encapsulation:2})}return i})();var U=n(96081);const X=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),O=()=>["../","add"],H=i=>["..","edit",i];function W(i,r){1&i&&(t.j41(0,"a",23)(1,"span"),t.EFF(2,"Add New"),t.k0s(),t.nrm(3,"i",24),t.k0s()),2&i&&t.Y8G("routerLink",t.lJ4(1,O))}function J(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const e=r.value;t.R7$(),t.JRh(t.i5U(2,1,e,"dd/MM/yyyy"))}}function Q(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const e=r.value;t.R7$(),t.JRh(t.i5U(2,1,e,"dd/MM/yyyy"))}}function Z(i,r){if(1&i&&(t.j41(0,"a",27)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()),2&i){const e=t.XpG().row;t.Y8G("routerLink",t.eq3(1,H,e.id))}}function z(i,r){if(1&i){const e=t.RV6();t.j41(0,"a",30),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2).row,s=t.XpG();return t.Njj(s.activateToggleMaterialRequisition(a,!1))}),t.j41(1,"mat-icon"),t.EFF(2,"lock"),t.k0s()()}}function K(i,r){if(1&i){const e=t.RV6();t.j41(0,"a",30),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2).row,s=t.XpG();return t.Njj(s.activateToggleMaterialRequisition(a,!0))}),t.j41(1,"mat-icon"),t.EFF(2,"lock_open"),t.k0s()()}}function tt(i,r){if(1&i&&(t.qex(0,28),t.DNE(1,z,3,0,"a",29)(2,K,3,0,"a",29),t.bVm()),2&i){const e=t.XpG().row;t.R7$(),t.Y8G("ngIf",e.isActive),t.R7$(),t.Y8G("ngIf",!e.isActive)}}function et(i,r){if(1&i&&t.DNE(0,Z,3,3,"a",25)(1,tt,3,2,"ng-container",26),2&i){const e=t.XpG();t.Y8G("authPermission",e.page+"_"+e.permissions.edit),t.R7$(),t.Y8G("authPermission",e.page+"_"+e.permissions.active)}}const it=[{path:"",component:b,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class i{constructor(e,o,a){this.materialRequisitionService=e,this.notificationService=o,this.datePipe=a,this.materialRequisitionData=[],this.page=l.Wt.materialRequisition,this.permissions=l.eZ,this.searchData={isActive:!1}}ngOnInit(){this.getMaterialRequisitionData()}getMaterialRequisitionData(){this.loading=!0,this.materialRequisitionService.get().subscribe(e=>{this.materialRequisitionData=e,this.loading=!1},e=>{console.log(e),this.loading=!1})}exportToExcel(){let e=this.materialRequisitionData.map(s=>({Id:s.id,"Material Requisition Code":s.materialRequisitionCode,"Material Requisition Date":this.datePipe.transform(s.materialRequisitionDate,"dd/MM/yyyy"),"Expected Date":this.datePipe.transform(s.expectedDate,"dd/MM/yyyy"),Warehouse:s.warehouseName,"Customer Name":s.customerName,"Shipping Address":s.shippingAddress,"Billing Address":s.billingAddress,Active:s.isActive?"Yes":"No"}));const a={Sheets:{data:y.Wp.json_to_sheet(e)},SheetNames:["data"]};y._h(a,"MaterialRequisitions.xlsx")}activateToggleMaterialRequisition(e,o){confirm(`Are you sure you want to ${o?"Activate":"Deactivate"} this material requisition?`)&&this.materialRequisitionService.toggleActivate(e.id,o).subscribe(()=>{this.getMaterialRequisitionData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(e){this.searchData=Object.assign({},e)}isActiveRow(e){return{"text-danger":!e.isActive}}static#t=this.\u0275fac=function(o){return new(o||i)(t.rXU(h),t.rXU(M.tw),t.rXU(u.vh))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["ng-component"]],features:[t.Jv_([u.vh])],decls:28,vars:16,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","color","primary","class","app-button",3,"routerLink",4,"authPermission"],[1,"row","mb-3"],[1,"col-lg-9"],[3,"searchChanged"],[1,"col-lg-3"],["mat-flat-button","","color","primary",1,"app-button",2,"float","right",3,"click"],[1,"row"],[1,"col-12"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","rowClass","messages"],["name","Material Requisition Code","prop","materialRequisitionCode"],["name","Material Requisition Date","prop","materialRequisitionDate"],["ngx-datatable-cell-template",""],["name","Warehouse","prop","warehouseName"],["name","Customer Name","prop","customerName"],["name","Expected Date","prop","expectedDate"],["name","Actions",3,"sortable"],["mat-flat-button","","color","primary",1,"app-button",3,"routerLink"],[1,"icon-plus"],["class","button-padding","color","primary",3,"routerLink",4,"authPermission"],["class","ml-10",4,"authPermission"],["color","primary",1,"button-padding",3,"routerLink"],[1,"ml-10"],["class","button-padding","color","primary",3,"click",4,"ngIf"],["color","primary",1,"button-padding",3,"click"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6,"Material Requisition List"),t.k0s()(),t.j41(7,"div",6),t.DNE(8,W,4,2,"a",7),t.k0s()(),t.j41(9,"div",8)(10,"div",9)(11,"material-requisition-search-panel",10),t.bIt("searchChanged",function(m){return a.updateSearch(m)}),t.k0s()(),t.j41(12,"div",11)(13,"button",12),t.bIt("click",function(){return a.exportToExcel()}),t.EFF(14," Export to Excel "),t.k0s()()(),t.j41(15,"div",13)(16,"div",14)(17,"ngx-datatable",15),t.nI1(18,"searchtable"),t.nrm(19,"ngx-datatable-column",16),t.j41(20,"ngx-datatable-column",17),t.DNE(21,J,3,4,"ng-template",18),t.k0s(),t.nrm(22,"ngx-datatable-column",19)(23,"ngx-datatable-column",20),t.j41(24,"ngx-datatable-column",21),t.DNE(25,Q,3,4,"ng-template",18),t.k0s(),t.j41(26,"ngx-datatable-column",22),t.DNE(27,et,2,2,"ng-template",18),t.k0s()()()()()()()),2&o&&(t.R7$(8),t.Y8G("authPermission",a.page+"_"+a.permissions.create),t.R7$(9),t.Y8G("rows",t.i5U(18,12,a.materialRequisitionData,a.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",a.loading)("scrollbarH",!0)("rowClass",a.isActiveRow)("messages",t.lJ4(15,X)),t.R7$(9),t.Y8G("sortable",!1))},dependencies:[u.bT,p.It,p.$z,C.An,d.Wk,R.ge,R.ed,R.QI,D.B,F,u.vh,U.j],encapsulation:2})}return i})(),canActivate:[l.LL],data:{page:l.Wt.materialRequisition,action:l.eZ.list,title:"Material Requisition"}},{path:"add",canActivate:[l.LL],data:{page:l.Wt.materialRequisition,action:l.eZ.create,title:"Material Requisition"},component:v},{path:"edit/:id",canActivate:[l.LL],data:{page:l.Wt.materialRequisition,action:l.eZ.edit,title:"Material Requisition"},component:v}]}];let at=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.$C({type:i});static#i=this.\u0275inj=t.G2t({imports:[d.iI.forChild(it),d.iI]})}return i})(),ot=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.$C({type:i});static#i=this.\u0275inj=t.G2t({providers:[h,k.m],imports:[E.Gg,at]})}return i})()}}]);