"use strict";(self.webpackChunkskyward_nutem=self.webpackChunkskyward_nutem||[]).push([[11],{6441:(N,f,a)=>{a.d(f,{L:()=>g});var h=a(4438),p=a(4532),t=a(8498);let g=(()=>{class d{constructor(b,k){this.permissionService=b,this.router=k}canActivate(b,k){return!!this.permissionService.hasPermission(b.data.permission)||(this.router.navigate(["/unauthorized"]),!1)}static#t=this.\u0275fac=function(k){return new(k||d)(h.KVO(p.n),h.KVO(t.Ix))};static#e=this.\u0275prov=h.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},4011:(N,f,a)=>{a.r(f),a.d(f,{AttributeCheckModule:()=>Ct});var h=a(177),p=a(8498),t=a(4438);let g=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-attribute-check"]],decls:1,vars:0,template:function(o,r){1&o&&t.nrm(0,"router-outlet")},dependencies:[p.n3]})}return i})();var d=a(4434),P=a(1626);let b=(()=>{class i{constructor(e,o){this.http=e,this._baseService=o}getAttributeCheckList(){return this.http.get(`${d.T6.attributecheckList}`)}addAttributeCheck(e){return this.http.post(`${d.T6.attributecheckAdd}`,e)}updateAttributeCheck(e){return this.http.post(`${d.T6.attributecheckEdit}`,e)}getByIdAttributeCheck(e){return this.http.get(`${d.T6.attributecheckGetById}?id=`+e)}DeleteAttributeCheck(e){return this.http.delete(`${d.T6.attributecheckDelete}?id=`+e)}static#t=this.\u0275fac=function(o){return new(o||i)(t.KVO(P.Qq),t.KVO(d.dD))};static#e=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var k=a(5794),v=a(4532),D=a(8834),B=a(9213),A=a(3380),$=a(6081);const O=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),Y=()=>["../","add"],x=i=>["..","edit",i];function M(i,c){1&i&&(t.j41(0,"a",17)(1,"span"),t.EFF(2,"Add New"),t.k0s(),t.nrm(3,"i",18),t.k0s()),2&i&&t.Y8G("routerLink",t.lJ4(1,Y))}function w(i,c){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const e=c.value;t.R7$(),t.JRh(t.i5U(2,1,e,"dd/MM/yyyy hh:mm a"))}}function U(i,c){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const e=c.value;t.R7$(),t.JRh(e)}}function V(i,c){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const e=c.value;t.R7$(),t.JRh(e)}}function W(i,c){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const e=c.value;t.R7$(),t.JRh(e)}}function H(i,c){if(1&i&&(t.j41(0,"a",22)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()),2&i){const e=t.XpG().row;t.Y8G("routerLink",t.eq3(1,x,e.id))}}function X(i,c){if(1&i){const e=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(e);const r=t.XpG().row,n=t.XpG(2);return t.Njj(n.removeWeightCheck(r.id))}),t.j41(1,"mat-icon"),t.EFF(2,"close"),t.k0s()()}}function K(i,c){if(1&i&&t.DNE(0,H,3,3,"a",20)(1,X,3,0,"button",21),2&i){const e=t.XpG(2);t.Y8G("ngIf",e.IsEditPermission),t.R7$(),t.Y8G("ngIf",e.IsDeletePermission)}}function z(i,c){1&i&&(t.j41(0,"ngx-datatable-column",19),t.DNE(1,K,2,2,"ng-template",12),t.k0s()),2&i&&t.Y8G("sortable",!1)}let G=(()=>{class i{constructor(e,o,r){this.attributeCheckService=e,this.notificationService=o,this.permissionService=r,this.attributeCheckData=[],this.page=d.Wt.attributeCheck,this.permissions=d.eZ,this.searchData={},this.IsAddPemission=!1,this.IsEditPermission=!1,this.IsDeletePermission=!1}ngOnInit(){this.IsAddPemission=this.permissionService.hasPermission("Attribute Check (PER_ATTRIBUTECHECK) - Add"),this.IsEditPermission=this.permissionService.hasPermission("Attribute Check (PER_ATTRIBUTECHECK) - Edit"),this.IsDeletePermission=this.permissionService.hasPermission("Attribute Check (PER_ATTRIBUTECHECK) - Delete"),this.getattributeCheckData()}getattributeCheckData(){this.loading=!0,this.attributeCheckService.getAttributeCheckList().subscribe(e=>{this.attributeCheckData=e,this.loading=!1},e=>{this.error=e,this.loading=!1})}removeWeightCheck(e){confirm("Are you sure, you want to delete this Attribute Check?")&&this.attributeCheckService.DeleteAttributeCheck(e).subscribe(()=>{this.getattributeCheckData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(e){this.searchData=Object.assign({},e)}isActiveRow(e){return{"text-danger":!e.isActive}}static#t=this.\u0275fac=function(o){return new(o||i)(t.rXU(b),t.rXU(k.tw),t.rXU(v.n))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-list"]],decls:22,vars:15,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","class","app-button btn",3,"routerLink",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","messages"],["name","Date","prop","acDate"],["ngx-datatable-cell-template",""],["name","Product Name","prop","productName"],["name","Bottle Date Code","prop","bottleDateCode"],["name","Pack Size","prop","packSize"],["name","Actions",3,"sortable",4,"ngIf"],["mat-flat-button","",1,"app-button","btn",3,"routerLink"],[1,"icon-plus"],["name","Actions",3,"sortable"],["class","button-padding icon-green",3,"routerLink",4,"ngIf"],["type","button","style","border: none; background-color: white; color: red;",3,"click",4,"ngIf"],[1,"button-padding","icon-green",3,"routerLink"],["type","button",2,"border","none","background-color","white","color","red",3,"click"]],template:function(o,r){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6,"Attribute Check List"),t.k0s()(),t.j41(7,"div",6),t.DNE(8,M,4,2,"a",7),t.k0s()(),t.j41(9,"div",8)(10,"div",9)(11,"ngx-datatable",10),t.nI1(12,"searchtable"),t.j41(13,"ngx-datatable-column",11),t.DNE(14,w,3,4,"ng-template",12),t.k0s(),t.j41(15,"ngx-datatable-column",13),t.DNE(16,U,2,1,"ng-template",12),t.k0s(),t.j41(17,"ngx-datatable-column",14),t.DNE(18,V,2,1,"ng-template",12),t.k0s(),t.j41(19,"ngx-datatable-column",15),t.DNE(20,W,2,1,"ng-template",12),t.k0s(),t.DNE(21,z,2,1,"ngx-datatable-column",16),t.k0s()()()()()()),2&o&&(t.R7$(8),t.Y8G("ngIf",r.IsAddPemission),t.R7$(3),t.Y8G("rows",t.i5U(12,11,r.attributeCheckData,r.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",r.loading)("scrollbarH",!0)("messages",t.lJ4(14,O)),t.R7$(10),t.Y8G("ngIf",r.IsEditPermission||r.IsDeletePermission))},dependencies:[h.bT,p.Wk,D.It,B.An,A.ge,A.ed,A.QI,h.vh,$.j],styles:[".ngx-datatable .datatable-header-cell{background-color:#17bb58!important;color:#fff!important}.icon-green[_ngcontent-%COMP%]{color:green}.btn[_ngcontent-%COMP%]{background-color:#17bb58!important;color:#fff!important}  .ngx-datatable.material .datatable-body .progress-linear .container{background-color:#90ee90}  .ngx-datatable.material .datatable-body .progress-linear .container .bar{background-color:green}"]})}return i})();var l=a(9417),q=a(1528),I=a(2102),J=a(9631),Q=a(2798),Z=a(6600),T=a(5084),tt=a(8777),et=a(7133),_=a(2356);function it(i,c){if(1&i){const e=t.RV6();t.j41(0,"a",45),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.cancel())}),t.EFF(1," View List "),t.k0s()}}function ot(i,c){if(1&i&&(t.j41(0,"mat-option",28),t.EFF(1),t.k0s()),2&i){const e=c.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.poNumber," ")}}function rt(i,c){if(1&i&&(t.j41(0,"mat-option",28),t.EFF(1),t.k0s()),2&i){const e=c.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.productName," ")}}function at(i,c){if(1&i&&(t.j41(0,"mat-option",28),t.EFF(1),t.k0s()),2&i){const e=c.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function st(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",46)(1,"div",16)(2,"div",17)(3,"mat-form-field",18)(4,"mat-label"),t.EFF(5,"Date Time"),t.k0s(),t.nrm(6,"input",47)(7,"ngx-material-timepicker",null,2),t.k0s()(),t.j41(9,"div",17)(10,"mat-form-field",18)(11,"mat-label"),t.EFF(12,"Good Condition?"),t.k0s(),t.j41(13,"mat-select",48)(14,"mat-option",28),t.EFF(15,"Yes"),t.k0s(),t.j41(16,"mat-option",28),t.EFF(17,"No"),t.k0s()()()(),t.j41(18,"div",17)(19,"mat-form-field",18)(20,"mat-label"),t.EFF(21,"Cap Torque (Lb-In)"),t.k0s(),t.nrm(22,"input",49),t.k0s()(),t.j41(23,"div",17)(24,"mat-form-field",18)(25,"mat-label"),t.EFF(26,"Empty Bottle Weight (G)"),t.k0s(),t.nrm(27,"input",50),t.k0s()(),t.j41(28,"div",17)(29,"mat-form-field",18)(30,"mat-label"),t.EFF(31,"Lot No. Of Liquid"),t.k0s(),t.nrm(32,"input",51),t.k0s()(),t.j41(33,"div",17)(34,"mat-form-field",18)(35,"mat-label"),t.EFF(36,"Leak Test (60 Min)"),t.k0s(),t.j41(37,"mat-select",52)(38,"mat-option",28),t.EFF(39,"None"),t.k0s(),t.j41(40,"mat-option",28),t.EFF(41,"Yes"),t.k0s(),t.j41(42,"mat-option",28),t.EFF(43,"No"),t.k0s()()()(),t.j41(44,"div",17)(45,"mat-form-field",18)(46,"mat-label"),t.EFF(47,"Is Correct?"),t.k0s(),t.j41(48,"mat-select",53)(49,"mat-option",28),t.EFF(50,"Yes"),t.k0s(),t.j41(51,"mat-option",28),t.EFF(52,"No"),t.k0s()()()(),t.j41(53,"div",17)(54,"mat-form-field",18)(55,"mat-label"),t.EFF(56,"Done By"),t.k0s(),t.j41(57,"mat-select",54),t.DNE(58,at,2,2,"mat-option",23),t.k0s()()(),t.j41(59,"div",55)(60,"button",56),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.addFinalAttributeDetail())}),t.j41(61,"mat-icon"),t.EFF(62,"add"),t.k0s()()()()()}if(2&i){const e=c.index,o=t.sdS(8),r=t.XpG();t.Y8G("formGroupName",e),t.R7$(6),t.Y8G("ngxTimepicker",o),t.R7$(8),t.Y8G("value",!0),t.R7$(2),t.Y8G("value",!1),t.R7$(22),t.Y8G("value",0),t.R7$(2),t.Y8G("value",1),t.R7$(2),t.Y8G("value",2),t.R7$(7),t.Y8G("value",!0),t.R7$(2),t.Y8G("value",!1),t.R7$(7),t.Y8G("ngForOf",r.usersList)}}function nt(i,c){1&i&&(t.qex(0),t.EFF(1,"None"),t.bVm())}function ct(i,c){1&i&&(t.qex(0),t.EFF(1,"Yes"),t.bVm())}function dt(i,c){1&i&&(t.qex(0),t.EFF(1,"No"),t.bVm())}function lt(i,c){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.DNE(14,nt,2,0,"ng-container",57)(15,ct,2,0,"ng-container",57)(16,dt,2,0,"ng-container",57),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s(),t.j41(19,"td")(20,"button",58),t.bIt("click",function(){const r=t.eBV(e),n=r.$implicit,m=r.index,s=t.XpG();return t.Njj(s.onEditDetail(n,m))}),t.nrm(21,"i",59),t.k0s(),t.j41(22,"button",60),t.bIt("click",function(){const r=t.eBV(e).index,n=t.XpG();return t.Njj(n.removeAttributeCheckDetail(r))}),t.nrm(23,"i",61),t.k0s()()()}if(2&i){const e=c.$implicit;t.R7$(2),t.SpI(" ",e.TDateTime," "),t.R7$(2),t.SpI(" ",e.Usernames," "),t.R7$(2),t.SpI(" ",e.IsGoodCondition?"Yes":"No"," "),t.R7$(2),t.SpI(" ",e.CapTorque," "),t.R7$(2),t.SpI(" ",e.EmptyBottleWeight," "),t.R7$(2),t.SpI(" ",e.LotNoOfLiquid," "),t.R7$(2),t.Y8G("ngIf",0===e.LeakTest),t.R7$(),t.Y8G("ngIf",1===e.LeakTest),t.R7$(),t.Y8G("ngIf",2===e.LeakTest),t.R7$(2),t.SpI(" ",e.IsCorrect?"Yes":"No"," ")}}let S=(()=>{class i{constructor(e,o,r,n,m,s,u){this.activatedRoute=e,this.router=o,this.formBuilder=r,this.attributeCheckService=n,this.notificationService=m,this.weightCheckService=s,this.permissionService=u,this.page=d.Wt.attributeCheck,this.permissions=d.eZ,this.productionOrderList=[],this.productList=[],this.usersList=[],this.AddedattributeCheckDetailsList=[],this.EditDetailsId=-1,this.IsViewPermission=!1}ngOnInit(){this.getRoute(),this.loadDropdowns(),this.IsViewPermission=this.permissionService.hasPermission("Weight Check (PER_WEIGHTCHECK) - View")}getRoute(){this.routerSub=this.activatedRoute.params.subscribe(e=>{this.isEditMode=!d.ov.isEmpty(e.id),this.createForm(),this.addAttributeDetail(),this.isEditMode&&(this.attributeCheckId=e.id,this.getAttributeCheckById())})}getAttributeCheckById(){this.attributeCheckService.getByIdAttributeCheck(this.attributeCheckId).subscribe(e=>{this.attributeCheckData=e,this.setAttirbuteCheckData()},e=>{console.log(e)})}setAttirbuteCheckData(){this.attributeCheckForm.patchValue({ACCode:this.attributeCheckData.code,ACDate:this.attributeCheckData.acDate,ProductionOrderId:this.attributeCheckData.productionOrderId,ProductId:this.attributeCheckData.productId,BottleDateCode:this.attributeCheckData.bottleDateCode,PackSize:this.attributeCheckData.packSize,IsWeightRange:this.attributeCheckData.isWeightRange,Note:this.attributeCheckData.note}),this.attributeCheckForm.get("ProductionOrderId").disable(),this.attributeCheckForm.get("ProductId").disable();const e=o=>new Date(o).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});setTimeout(()=>{this.attributeCheckData.attributeCheckDetails?.forEach(o=>{const r=o.doneByUserIds.split(",").map(s=>Number(s.trim())).filter(s=>!isNaN(s));let n=this.usersList.filter(s=>o.doneByUserIds?.includes(s.id)).map(s=>s.name),m={TDateTime:e(o.tDateTime),IsGoodCondition:o.isGoodCondition,CapTorque:o.capTorque,Id:o.id,EmptyBottleWeight:o.emptyBottleWeight,LotNoOfLiquid:o.lotNoOfLiquid,IsCorrect:o.isCorrect,LeakTest:o.leakTest,DoneByUserIds:r,Usernames:n};this.AddedattributeCheckDetailsList.push(m)})},500)}loadDropdowns(){this.weightCheckService.getProductionOrderList().subscribe(e=>{this.productionOrderList=e}),this.weightCheckService.getProductList().subscribe(e=>{this.productList=e}),this.weightCheckService.getUserList().subscribe(e=>{this.usersList=e})}createForm(){this.attributeCheckForm=this.formBuilder.group({ACCode:[{value:"",disabled:!0},,[l.k0.required]],ACDate:["",[l.k0.required]],ProductionOrderId:["",[l.k0.required]],ProductId:["",[l.k0.required]],BottleDateCode:["",[l.k0.required]],PackSize:["",[l.k0.required]],IsWeightRange:[!1],Note:[""],attributeCheckDetails:this.formBuilder.array([])}),this.attributeCheckForm.controls.ACDate.setValue((new Date).toISOString().split("T")[0])}getToday(){return(new Date).toISOString().split("T")[0]}addAttributeDetail(){this.attributeCheckDetails?.clear(),this.EditDetailsId=-1;const e=this.formBuilder.group({});e.addControl("TDateTime",this.formBuilder.control("")),e.addControl("IsGoodCondition",this.formBuilder.control(!0)),e.addControl("CapTorque",this.formBuilder.control("")),e.addControl("EmptyBottleWeight",this.formBuilder.control("")),e.addControl("LotNoOfLiquid",this.formBuilder.control("")),e.addControl("IsCorrect",this.formBuilder.control(!0)),e.addControl("LeakTest",this.formBuilder.control(0)),e.addControl("DoneByUserIds",this.formBuilder.control("")),this.attributeCheckDetails=this.attributeCheckForm?.get("attributeCheckDetails"),this.attributeCheckDetails.push(e)}addFinalAttributeDetail(){const e=this.attributeCheckDetails.at(0).value;e.TDateTime?e.DoneByUserIds?this.EditDetailsId>=0?(e.Usernames=this.usersList.filter(o=>e.DoneByUserIds.includes(o.id)).map(o=>o.name),this.AddedattributeCheckDetailsList[this.EditDetailsId]=e,this.addAttributeDetail()):(e.Usernames=this.usersList.filter(o=>e.DoneByUserIds.includes(o.id)).map(o=>o.name),this.AddedattributeCheckDetailsList.push(e),this.addAttributeDetail()):this.notificationService.error("please select Done by"):this.notificationService.error("please select time")}onEditDetail(e,o){this.populateFormWithValues(this.AddedattributeCheckDetailsList[o]),this.EditDetailsId=o}removeAttributeCheckDetail(e){this.AddedattributeCheckDetailsList.splice(e,1)}populateFormWithValues(e){const o=Array.isArray(e)?e:[e];this.attributeCheckDetails=this.attributeCheckForm.get("attributeCheckDetails"),this.attributeCheckDetails.clear(),o.forEach(r=>{const n=this.formBuilder.group({}),m=r.DoneByUserIds.split(",").map(s=>Number(s.trim())).filter(s=>!isNaN(s));n.addControl("TDateTime",this.formBuilder.control(r.TDateTime||"")),n.addControl("IsGoodCondition",this.formBuilder.control(r.IsGoodCondition||"")),n.addControl("CapTorque",this.formBuilder.control(r.CapTorque||"")),n.addControl("EmptyBottleWeight",this.formBuilder.control(r.EmptyBottleWeight||"")),n.addControl("LotNoOfLiquid",this.formBuilder.control(r.LotNoOfLiquid||"")),n.addControl("IsCorrect",this.formBuilder.control(r.IsCorrect||"")),n.addControl("LeakTest",this.formBuilder.control(r.LeakTest||"")),n.addControl("DoneByUserIds",this.formBuilder.control(m||"")),this.attributeCheckDetails.push(n)})}removeAttributeDetail(e){this.AddedattributeCheckDetailsList.splice(e,1)}createAttributeCheck(e){this.attributeCheckService.addAttributeCheck(e).subscribe(()=>{this.cancel(),this.notificationService.success("Attribute Check created successfully.")},o=>{this.error=o})}updateAttributeCheck(e){this.attributeCheckService.updateAttributeCheck(e).subscribe(()=>{this.cancel(),this.notificationService.success("Attribute Check updated successfully.")},o=>{this.error=o})}save(){if(this.isFormSubmitted=!0,!this.attributeCheckForm.invalid){if(this.AddedattributeCheckDetailsList.length<1)return void this.notificationService.error("at lease one Attribute check deatils required");{let e=this.attributeCheckForm.value;e.attributeCheckDetails=this.AddedattributeCheckDetailsList;let o=this.transformData(e);this.isEditMode?this.updateAttributeCheck(o):this.createAttributeCheck(o)}}}transformData(e){function r(s){const F=s.match(/(\d{1,2}):(\d{2}) (AM|PM)/i);if(!F)throw new Error("Invalid time format");let[,j,R,E]=F,C=parseInt(j,10);const ft=parseInt(R,10);"AM"===E.toUpperCase()?12===C&&(C=0):"PM"===E.toUpperCase()&&12!==C&&(C+=12);const gt=C.toString().padStart(2,"0"),vt=ft.toString().padStart(2,"0"),L=new Date;return`${L.getFullYear()}-${(L.getMonth()+1).toString().padStart(2,"0")}-${L.getDate().toString().padStart(2,"0")}T${gt}:${vt}`}const n=Array.isArray(e.attributeCheckDetails)?e.attributeCheckDetails:Object.values(e.attributeCheckDetails||{});return{id:this.isEditMode?this.attributeCheckData.id:0,code:this.isEditMode?this.attributeCheckData.code:"",aCDate:function o(s){const u=new Date(s);if(isNaN(u.getTime()))throw new Error("Invalid date string provided");return`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}-${String(u.getDate()).padStart(2,"0")}T${String(u.getHours()).padStart(2,"0")}:${String(u.getMinutes()).padStart(2,"0")}`}(e.ACDate),productionOrderId:this.isEditMode?this.attributeCheckData.productionOrderId:e.ProductionOrderId,productId:this.isEditMode?this.attributeCheckData.productId:e.ProductId,bottleDateCode:e.BottleDateCode.toString(),packSize:e.PackSize.toString(),isWeightRange:e.IsWeightRange,note:e.Note,attributeCheckDetails:Array.isArray(n)?n.map((s,u)=>({id:0,headerId:0,tDateTime:r(s.TDateTime),isGoodCondition:s.IsGoodCondition,capTorque:s.CapTorque,emptyBottleWeight:(s.EmptyBottleWeight?s.EmptyBottleWeight:0).toString(),lotNoOfLiquid:s.LotNoOfLiquid,isCorrect:s.IsCorrect,leakTest:s.LeakTest,DoneByUserIdList:s.DoneByUserIds})):[]}}cancel(){this.router.navigate(["/secure/masters","production-order"])}ngOnDestroy(){this.routerSub.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||i)(t.rXU(p.nX),t.rXU(p.Ix),t.rXU(l.ze),t.rXU(b),t.rXU(k.tw),t.rXU(q.Q),t.rXU(v.n))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-add-edit"]],decls:106,vars:33,consts:[["form","ngForm"],["pickerACDate",""],["timepicker",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","class","app-button back-Green",3,"click",4,"ngIf"],["novalidate","",1,"app-form",3,"submit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],["appearance","fill",1,"full-width"],["matInput","","formControlName","ACDate",3,"matDatepicker"],["matSuffix","",3,"for"],[3,"control","message","formSubmitted"],["formControlName","ProductionOrderId",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],["formControlName","ProductId",3,"disabled"],["matInput","","formControlName","BottleDateCode"],["matInput","","formControlName","PackSize","type","number"],["formControlName","IsWeightRange"],[3,"value"],["selected","",3,"value"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-3"],["matInput","","formControlName","Note"],[1,"card-header","d-flex","align-items-center","justify-content-between"],["formArrayName","attributeCheckDetails"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"table-responsive"],["id","gridAttributeCheck",1,"table","table-hover","table-bordered","display","mb-30","fixed-table-scroll-inner"],[1,"bg-primary","text-primary","text-center"],[1,"back-Green",2,"width","8%"],[1,"back-Green",2,"width","12%"],[1,"back-Green"],[4,"ngFor","ngForOf"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","",1,"app-button","mr-1","back-Green"],["mat-flat-button","",1,"app-button","back-Green",3,"click"],[1,"row","mt-3",3,"formGroupName"],["matInput","","placeholder","Select time","formControlName","TDateTime",3,"ngxTimepicker"],["formControlName","IsGoodCondition"],["matInput","","formControlName","CapTorque"],["matInput","","formControlName","EmptyBottleWeight","type","number"],["matInput","","formControlName","LotNoOfLiquid"],["formControlName","LeakTest"],["formControlName","IsCorrect"],["formControlName","DoneByUserIds","multiple",""],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3","p-1","d-flex","align-items-center"],["type","button","mat-icon-button","",1,"icon-green",3,"click"],[4,"ngIf"],["type","button",1,"btn","btn-success","btn-sm","btnModifyRow","back-Green",3,"click"],[1,"fa","fa-pencil"],["type","button",1,"btn","btn-danger","btn-sm","btnRemoveRow","ms-1",3,"click"],[1,"fa","fa-close"]],template:function(o,r){if(1&o){const n=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h4",8),t.nrm(6,"i",9),t.EFF(7," Add/Edit Attribute Check"),t.k0s()(),t.j41(8,"div",10),t.DNE(9,it,2,0,"a",11),t.k0s()(),t.j41(10,"form",12,0),t.bIt("submit",function(){return t.eBV(n),t.Njj(r.save())}),t.j41(12,"div",13)(13,"div",14)(14,"h5",8),t.EFF(15,"Basic Details"),t.k0s()(),t.j41(16,"div",15)(17,"div",16)(18,"div",17)(19,"mat-form-field",18)(20,"mat-label"),t.EFF(21,"Date"),t.k0s(),t.nrm(22,"input",19)(23,"mat-datepicker-toggle",20)(24,"mat-datepicker",null,1)(26,"mat-validation-message",21),t.k0s()(),t.j41(27,"div",17)(28,"mat-form-field",18)(29,"mat-label"),t.EFF(30,"Production Order"),t.k0s(),t.j41(31,"mat-select",22),t.DNE(32,ot,2,2,"mat-option",23),t.k0s(),t.nrm(33,"mat-validation-message",21),t.k0s()(),t.j41(34,"div",17)(35,"mat-form-field",18)(36,"mat-label"),t.EFF(37,"Product"),t.k0s(),t.j41(38,"mat-select",24),t.DNE(39,rt,2,2,"mat-option",23),t.k0s(),t.nrm(40,"mat-validation-message",21),t.k0s()(),t.j41(41,"div",17)(42,"mat-form-field",18)(43,"mat-label"),t.EFF(44,"Bottle Date Code"),t.k0s(),t.nrm(45,"input",25)(46,"mat-validation-message",21),t.k0s()(),t.j41(47,"div",17)(48,"mat-form-field",18)(49,"mat-label"),t.EFF(50,"Pack Size"),t.k0s(),t.nrm(51,"input",26)(52,"mat-validation-message",21),t.k0s()(),t.j41(53,"div",17)(54,"mat-form-field",18)(55,"mat-label"),t.EFF(56,"Is Weight Range"),t.k0s(),t.j41(57,"mat-select",27)(58,"mat-option",28),t.EFF(59,"Yes"),t.k0s(),t.j41(60,"mat-option",29),t.EFF(61,"No"),t.k0s()(),t.nrm(62,"mat-validation-message",21),t.k0s()(),t.j41(63,"div",30)(64,"mat-form-field",18)(65,"mat-label"),t.EFF(66,"Note"),t.k0s(),t.nrm(67,"textarea",31)(68,"mat-validation-message",21),t.k0s()()()()(),t.j41(69,"div",13)(70,"div",32)(71,"h5",8),t.EFF(72,"Attribute Check"),t.k0s()(),t.j41(73,"div",15)(74,"div",33),t.DNE(75,st,63,10,"div",34),t.k0s()()(),t.j41(76,"div",16)(77,"div",35)(78,"div",36)(79,"table",37)(80,"thead",38)(81,"tr")(82,"th",39),t.EFF(83,"Time"),t.k0s(),t.j41(84,"th",40),t.EFF(85,"Done By"),t.k0s(),t.j41(86,"th",41),t.EFF(87,"Good Condition?"),t.k0s(),t.j41(88,"th",41),t.EFF(89,"Cap Torque (Lb-In)"),t.k0s(),t.j41(90,"th",41),t.EFF(91,"Empty Bottle Weight (G)"),t.k0s(),t.j41(92,"th",41),t.EFF(93,"Lot No. Of Liquid"),t.k0s(),t.j41(94,"th",41),t.EFF(95,"Leak Test (60 Min)"),t.k0s(),t.j41(96,"th",41),t.EFF(97,"Is The Date, Code Correct And Visible?"),t.k0s(),t.j41(98,"th",39),t.EFF(99,"Action"),t.k0s()()(),t.j41(100,"tbody"),t.DNE(101,lt,24,10,"tr",42),t.k0s()()()()(),t.j41(102,"div",16)(103,"div",43)(104,"button",44),t.EFF(105,"Save"),t.k0s()()()()()()()}if(2&o){const n=t.sdS(25);t.R7$(9),t.Y8G("ngIf",r.IsViewPermission),t.R7$(),t.Y8G("formGroup",r.attributeCheckForm),t.R7$(12),t.Y8G("matDatepicker",n),t.R7$(),t.Y8G("for",n),t.R7$(3),t.Y8G("control",r.attributeCheckForm.controls.ACDate)("message","AC Date")("formSubmitted",r.isFormSubmitted),t.R7$(5),t.Y8G("disabled",r.isEditMode),t.R7$(),t.Y8G("ngForOf",r.productionOrderList),t.R7$(),t.Y8G("control",r.attributeCheckForm.controls.ProductionOrderId)("message","Production Order")("formSubmitted",r.isFormSubmitted),t.R7$(5),t.Y8G("disabled",r.isEditMode),t.R7$(),t.Y8G("ngForOf",r.productList),t.R7$(),t.Y8G("control",r.attributeCheckForm.controls.ProductId)("message","Product")("formSubmitted",r.isFormSubmitted),t.R7$(6),t.Y8G("control",r.attributeCheckForm.controls.BottleDateCode)("message","Bottle Date Code")("formSubmitted",r.isFormSubmitted),t.R7$(6),t.Y8G("control",r.attributeCheckForm.controls.PackSize)("message","Pack Size")("formSubmitted",r.isFormSubmitted),t.R7$(6),t.Y8G("value",!0),t.R7$(2),t.Y8G("value",!1),t.R7$(2),t.Y8G("control",r.attributeCheckForm.controls.IsWeightRange)("message","Is Weight Range")("formSubmitted",r.isFormSubmitted),t.R7$(6),t.Y8G("control",r.attributeCheckForm.controls.Note)("message","Note")("formSubmitted",r.isFormSubmitted),t.R7$(7),t.Y8G("ngForOf",null==r.attributeCheckDetails?null:r.attributeCheckDetails.controls),t.R7$(26),t.Y8G("ngForOf",r.AddedattributeCheckDetailsList)}},dependencies:[h.Sq,h.bT,l.qT,l.me,l.Q0,l.BC,l.cb,l.j4,l.JD,l.$R,l.v8,D.It,D.$z,D.iY,I.rl,I.nJ,I.yw,J.fg,B.An,Q.VO,Z.wT,T.Vh,T.bZ,T.bU,tt.T,et.r,_.zk,_.v2],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.full-width[_ngcontent-%COMP%]{width:100%}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}.card-header[_ngcontent-%COMP%]{background-color:#17bb58!important;border-bottom:1px solid rgb(23,187,88)!important;padding:.75rem 1.25rem;color:#fff}.back-Green[_ngcontent-%COMP%]{background-color:#17bb58!important;color:#fff!important}.icon-green[_ngcontent-%COMP%]{color:green}"]})}return i})();a(9239);var y=a(6441);const ht=[{path:"",component:g,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:G,canActivate:[y.L],data:{permission:"Attribute Check (PER_ATTRIBUTECHECK) - View"}},{path:"add",canActivate:[y.L],data:{permission:"Attribute Check (PER_ATTRIBUTECHECK) - Add"},component:S},{path:"edit/:id",canActivate:[y.L],data:{permission:"Attribute Check (PER_ATTRIBUTECHECK) - Edit"},component:S}]}];let pt=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.$C({type:i});static#i=this.\u0275inj=t.G2t({imports:[p.iI.forChild(ht),p.iI]})}return i})();var bt=a(1774),kt=a(9830);let Ct=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.$C({type:i});static#i=this.\u0275inj=t.G2t({providers:[b,(0,kt._c)()],imports:[h.MD,pt,bt.Gg,_.c9]})}return i})()}}]);