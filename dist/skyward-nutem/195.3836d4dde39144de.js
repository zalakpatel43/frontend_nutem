"use strict";(self.webpackChunkskyward_nutem=self.webpackChunkskyward_nutem||[]).push([[195],{7195:(Wt,w,h)=>{h.r(w),h.d(w,{WeightCheckModule:()=>ut});var k=h(177),f=h(8498),t=h(4438);let I=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-weight-check"]],decls:1,vars:0,template:function(a,i){1&a&&t.nrm(0,"router-outlet")},dependencies:[f.n3]})}return o})();var g=h(4434),W=h(1528),R=h(5794),C=h(8834),T=h(9213),F=h(3380),j=h(220),A=h(6081);const z=()=>["../","add"],$=()=>({emptyMessage:"No Data to Display",totalMessage:"Total"}),M=o=>["..","edit",o];function L(o,r){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=r.value;t.R7$(),t.JRh(t.i5U(2,1,e,"dd/MM/yyyy hh:mm a"))}}function B(o,r){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=r.value;t.R7$(),t.JRh(t.i5U(2,1,e,"dd/MM/yyyy hh:mm a"))}}function P(o,r){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=r.value;t.R7$(),t.JRh(e)}}function G(o,r){if(1&o&&(t.j41(0,"a",19)(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()),2&o){const e=t.XpG().row;t.Y8G("routerLink",t.eq3(1,M,e.id))}}function O(o,r){if(1&o){const e=t.RV6();t.DNE(0,G,3,3,"a",17),t.j41(1,"button",18),t.bIt("click",function(){const i=t.eBV(e).row,n=t.XpG();return t.Njj(n.removeWeightCheck(i.id))}),t.j41(2,"mat-icon"),t.EFF(3,"close"),t.k0s()()}if(2&o){const e=t.XpG();t.Y8G("authPermission",e.page+"_"+e.permissions.edit)}}let _=(()=>{class o{constructor(e,a){this.weightCheckService=e,this.notificationService=a,this.weightCheckData=[],this.page=g.Wt.weightCheck,this.permissions=g.eZ,this.searchData={},this.showDeleteModal=!1}ngOnInit(){this.getWeightCheckData()}getWeightCheckData(){this.loading=!0,this.weightCheckService.getWeightCheckList().subscribe(e=>{this.weightCheckData=e,console.log("Weight checl list",this.weightCheckData),this.loading=!1},e=>{this.error=e,this.loading=!1})}removeWeightCheck(e){confirm("Are you sure, you want to delete this Weight Check?")&&this.weightCheckService.DeleteWeightCheck(e).subscribe(()=>{this.getWeightCheckData()},()=>{this.notificationService.error("Something went wrong.")})}updateSearch(e){this.searchData=Object.assign({},e),console.log("serach data",this.searchData)}isActiveRow(e){return{"text-danger":!e.isActive}}static#t=this.\u0275fac=function(a){return new(a||o)(t.rXU(W.Q),t.rXU(R.tw))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-list"]],decls:24,vars:16,consts:[[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end","leftSideHeader"],[1,"mb20","float-left"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end","rightSideHeader","mb10"],["mat-flat-button","","color","primary",1,"app-button",3,"routerLink"],[1,"icon-plus"],[1,"row"],[1,"col-12"],[1,"material",3,"rows","columnMode","headerHeight","footerHeight","rowHeight","limit","loadingIndicator","scrollbarH","messages"],["name","Start Date","prop","startDateTime"],["ngx-datatable-cell-template",""],["name","End Date","prop","endDateTime"],["name","Shift","prop","shiftName"],["name","Actions",3,"sortable"],["class","button-padding","color","primary",3,"routerLink",4,"authPermission"],["type","button",2,"border","none","background-color","white","color","red",3,"click"],["color","primary",1,"button-padding",3,"routerLink"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.EFF(6,"Weight Check List"),t.k0s()(),t.j41(7,"div",6)(8,"a",7)(9,"span"),t.EFF(10,"Add New"),t.k0s(),t.nrm(11,"i",8),t.k0s()()(),t.j41(12,"div",9)(13,"div",10)(14,"ngx-datatable",11),t.nI1(15,"searchtable"),t.j41(16,"ngx-datatable-column",12),t.DNE(17,L,3,4,"ng-template",13),t.k0s(),t.j41(18,"ngx-datatable-column",14),t.DNE(19,B,3,4,"ng-template",13),t.k0s(),t.j41(20,"ngx-datatable-column",15),t.DNE(21,P,2,1,"ng-template",13),t.k0s(),t.j41(22,"ngx-datatable-column",16),t.DNE(23,O,4,1,"ng-template",13),t.k0s()()()()()()()),2&a&&(t.R7$(8),t.Y8G("routerLink",t.lJ4(14,z)),t.R7$(6),t.Y8G("rows",t.i5U(15,11,i.weightCheckData,i.searchData))("columnMode","force")("headerHeight",50)("footerHeight",50)("rowHeight","auto")("limit",10)("loadingIndicator",i.loading)("scrollbarH",!0)("messages",t.lJ4(15,$)),t.R7$(8),t.Y8G("sortable",!1))},dependencies:[f.Wk,C.It,T.An,F.ge,F.ed,F.QI,j.B,k.vh,A.j],styles:[".button-padding[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .button-padding[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;vertical-align:middle}.button-padding[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px;text-decoration:none;color:inherit}"]})}return o})();var d=h(9417),D=h(2102),Y=h(9631),x=h(2798),U=h(6600),b=h(5084),V=h(8777),X=h(7133),S=h(2356);function H(o,r){if(1&o){const e=t.RV6();t.j41(0,"a",52),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.cancel())}),t.EFF(1," View List "),t.k0s()}}function Q(o,r){if(1&o&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.shiftName," ")}}function J(o,r){if(1&o&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.poNumber," ")}}function Z(o,r){if(1&o&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.productName," ")}}function K(o,r){1&o&&(t.j41(0,"mat-error"),t.EFF(1," Min Weight Range is required. "),t.k0s())}function q(o,r){1&o&&(t.j41(0,"mat-error"),t.EFF(1," Min Weight Range must be a non-negative number. "),t.k0s())}function tt(o,r){1&o&&(t.j41(0,"mat-error"),t.EFF(1," Max Weight Range is required. "),t.k0s())}function et(o,r){if(1&o&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function it(o,r){if(1&o&&(t.j41(0,"div",63)(1,"mat-form-field",56)(2,"mat-label"),t.EFF(3),t.k0s(),t.nrm(4,"input",64),t.k0s()()),2&o){const e=r.$implicit;t.R7$(3),t.JRh(e.nozzelName),t.R7$(),t.Y8G("formControlName",e.nozzelName)}}function ot(o,r){if(1&o&&(t.j41(0,"mat-option",53),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function at(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",54)(1,"div",17)(2,"div",55)(3,"mat-form-field",56)(4,"mat-label"),t.EFF(5,"Time"),t.k0s(),t.nrm(6,"input",57)(7,"ngx-material-timepicker",null,3),t.k0s()(),t.DNE(9,it,5,2,"div",58),t.j41(10,"div",59)(11,"mat-form-field",56)(12,"mat-label"),t.EFF(13,"Done By"),t.k0s(),t.j41(14,"mat-select",60),t.DNE(15,ot,2,2,"mat-option",25),t.k0s()()(),t.j41(16,"div",61)(17,"button",62),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.addFinalWeightDetail())}),t.j41(18,"mat-icon"),t.EFF(19,"add"),t.k0s()()()()()}if(2&o){const e=r.index,a=t.sdS(8),i=t.XpG();t.Y8G("formGroupName",e),t.R7$(6),t.Y8G("ngxTimepicker",a),t.R7$(3),t.Y8G("ngForOf",i.NozzleList),t.R7$(6),t.Y8G("ngForOf",i.usersList)}}function nt(o,r){if(1&o&&(t.j41(0,"th",65),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(),t.SpI("",e.nozzelName," ")}}function rt(o,r){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&o){const e=r.$implicit,a=t.XpG().$implicit;t.R7$(),t.SpI(" ",a[e.nozzelName]||""," ")}}function st(o,r){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.DNE(5,rt,2,1,"td",49),t.j41(6,"td"),t.EFF(7),t.nI1(8,"number"),t.k0s(),t.j41(9,"td")(10,"button",66),t.bIt("click",function(){const i=t.eBV(e),n=i.$implicit,l=i.index,m=t.XpG();return t.Njj(m.onEditDetail(n,l))}),t.nrm(11,"i",67),t.k0s()()()}if(2&o){const e=r.$implicit,a=t.XpG();t.R7$(2),t.SpI(" ",e.Time," "),t.R7$(2),t.SpI(" ",e.DoneByNames," "),t.R7$(),t.Y8G("ngForOf",a.NozzleList),t.R7$(2),t.SpI(" ",t.i5U(8,4,e.Average,"1.2-2")," ")}}let E=(()=>{class o{constructor(e,a,i,n,l){this.activatedRoute=e,this.router=a,this.formBuilder=i,this.weightCheckService=n,this.notificationService=l,this.page=g.Wt.weightCheck,this.permissions=g.eZ,this.shiftList=[],this.productionOrderList=[],this.productList=[],this.NozzleList=[],this.usersList=[],this.AddedWeightCheckDetailsList=[],this.EditNozzleDetailsId=-1,this.minEndDate=null,this.weightRangeValidator=m=>{const s=m.get("MinWeightRange")?.value,c=m.get("MaxWeightRange")?.value;return null!=s&&null!=c&&""!==s&&""!==c&&s>c?{rangeError:!0}:null},this.endDateValidator=m=>{const s=m.get("StartDateTime")?.value,c=m.get("EndDateTime")?.value;return c&&s&&c<s?{endDateBeforeStartDate:!0}:null},this.createForm()}ngOnInit(){this.getRoute(),this.loadDropdowns(),this.WeightCheckForm.get("MinWeightRange")?.valueChanges.subscribe(()=>this.onWeightRangeChange()),this.WeightCheckForm.get("MaxWeightRange")?.valueChanges.subscribe(()=>this.onWeightRangeChange())}getRoute(){this.routerSub=this.activatedRoute.params.subscribe(e=>{this.isEditMode=!g.ov.isEmpty(e.id),console.log("iseditmode",this.isEditMode),this.createForm(),this.isEditMode&&(this.weightCheckId=e.id,this.getWeightCheckById())})}getWeightCheckById(){this.weightCheckService.getByIdWeightCheck(this.weightCheckId).subscribe(e=>{this.weightCheckData=e,this.setWeightCheckData(),console.log("get by id data",e)},e=>{console.log(e)})}setWeightCheckData(){this.WeightCheckForm.patchValue({Code:this.weightCheckData.code,StartDateTime:this.weightCheckData.startDateTime,EndDateTime:this.weightCheckData.endDateTime,ShiftId:this.weightCheckData.shiftId,SAPProductionOrderId:this.weightCheckData.sapProductionOrderId,ProductId:this.weightCheckData.productId,BottleDateCode:this.weightCheckData.bottleDateCode,PackSize:this.weightCheckData.packSize,StandardWeight:this.weightCheckData.targetWeight,MinWeightRange:this.weightCheckData.minWeightRange,MaxWeightRange:this.weightCheckData.maxWeightRange,QAUserId:this.weightCheckData.qaUserId,Note:this.weightCheckData.note}),this.WeightCheckForm.get("SAPProductionOrderId").disable(),this.WeightCheckForm.get("ProductId").disable();const e=a=>new Date(a).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});setTimeout(()=>{this.weightCheckData.weightCheckDetails?.forEach(a=>{const i={};this.NozzleList.forEach(s=>{const c=a.weightCheckSubDetails.find(u=>u.nozzleId===s.id);i[s.id]=c?c.weight??"":""});const n=a.doneByUserIds.split(",").map(s=>Number(s.trim())).filter(s=>!isNaN(s));let l=this.usersList.filter(s=>a.doneByUserIds?.includes(s.id)).map(s=>s.name).join(", ");console.log("nozzle weight ",i);let m={Time:e(a.tDateTime),DoneBy:n,Average:a.avgWeight,Id:a.id,HeaderId:a.headerId,DoneByNames:l};Object.entries(i).forEach(([s,c])=>{m[s]=c}),this.AddedWeightCheckDetailsList.push(m)}),console.log("added nozzle data",this.AddedWeightCheckDetailsList)},500)}loadDropdowns(){this.weightCheckService.getNozzleList().subscribe(e=>{this.NozzleList=e.items,this.addWeightDetail()}),this.weightCheckService.getShiftList().subscribe(e=>{this.shiftList=e}),this.weightCheckService.getProductionOrderList().subscribe(e=>{this.productionOrderList=e}),this.weightCheckService.getProductList().subscribe(e=>{this.productList=e}),this.weightCheckService.getUserList().subscribe(e=>{this.usersList=e})}createForm(){this.WeightCheckForm=this.formBuilder.group({Code:[{value:"",disabled:!0},[d.k0.required]],StartDateTime:["",[d.k0.required]],EndDateTime:["",[d.k0.required,this.endDateValidator]],ShiftId:["",[d.k0.required]],SAPProductionOrderId:["",[d.k0.required]],ProductId:["",[d.k0.required]],BottleDateCode:["",[d.k0.required]],PackSize:["",[d.k0.required]],StandardWeight:["",[d.k0.required]],MinWeightRange:["",[d.k0.required,d.k0.min(0)]],MaxWeightRange:["",[d.k0.required,d.k0.min(0)]],QAUserId:["",[d.k0.required]],Note:["",""],WeightCheckDetails:this.formBuilder.array([])},{validators:this.weightRangeValidator}),this.WeightCheckForm.controls.StartDateTime.setValue((new Date).toISOString().split("T")[0])}onWeightRangeChange(){const e=this.WeightCheckForm.get("MinWeightRange")?.value,a=this.WeightCheckForm.get("MaxWeightRange")?.value;null!=e&&null!=a&&(Number(e)>Number(a)?this.notificationService.error("Max Weight Range should be greater than Min Weight Range"):this.notificationService.clear())}onStartDateChange(){const e=this.WeightCheckForm.get("StartDateTime")?.value;this.minEndDate=e?new Date(e):null}onEndDateChange(){const e=this.WeightCheckForm.get("EndDateTime")?.value,a=this.WeightCheckForm.get("StartDateTime")?.value;a||this.notificationService.error("please select Start date"),a&&e&&new Date(e)<=new Date(a)?this.notificationService.error("End date should be greated than Start date"):this.WeightCheckForm.get("EndDateTime")?.updateValueAndValidity()}getToday(){return(new Date).toISOString().split("T")[0]}addWeightDetail(){this.WeightCheckDetails?.clear(),this.EditNozzleDetailsId=-1;const e=this.formBuilder.group({});console.log("NozzleList",this.NozzleList),this.NozzleList.forEach((a,i)=>{e.addControl(a.nozzelName,this.formBuilder.control(""))}),e.addControl("Time",this.formBuilder.control("")),e.addControl("DoneBy",this.formBuilder.control("")),this.WeightCheckDetails=this.WeightCheckForm?.get("WeightCheckDetails"),this.WeightCheckDetails.push(e),console.log("weightDeatilsList",this.WeightCheckDetails)}addFinalWeightDetail(){const e=this.WeightCheckDetails.at(0).value;if(e.Time)if(e.DoneBy)if(this.EditNozzleDetailsId>=0){const a=this.calculateAverageForEntry(e);e.Average=a;let i=this.usersList.filter(n=>e.DoneBy.includes(n.id)).map(n=>n.name).join(", ");e.DoneByNames=i,this.AddedWeightCheckDetailsList[this.EditNozzleDetailsId]=e,this.addWeightDetail()}else{const a=this.calculateAverageForEntry(e);e.Average=a;let i=this.usersList.filter(n=>e.DoneBy.includes(n.id)).map(n=>n.name).join(", ");e.DoneByNames=i,this.AddedWeightCheckDetailsList.push(e),this.addWeightDetail(),console.log("Added nozzle with average:",this.AddedWeightCheckDetailsList)}else this.notificationService.error("please select Done by");else this.notificationService.error("please select time")}calculateAverageForEntry(e){const a=Object.keys(e).filter(n=>"Time"!==n&&"DoneBy"!==n&&"Average"!==n).map(n=>parseFloat(e[n])).filter(n=>!isNaN(n)),i=a.reduce((n,l)=>n+l,0);return a.length?i/a.length:0}onEditDetail(e,a){console.log("weight",e),console.log("i",a),console.log("details selected for edit",this.AddedWeightCheckDetailsList[a]),this.populateFormWithValues(this.AddedWeightCheckDetailsList[a]),this.EditNozzleDetailsId=a}populateFormWithValues(e){const a=Array.isArray(e)?e:[e];this.WeightCheckDetails=this.WeightCheckForm.get("WeightCheckDetails"),this.WeightCheckDetails.clear(),a.forEach(i=>{const n=this.formBuilder.group({});this.NozzleList.forEach(l=>{n.addControl(l.nozzelName,this.formBuilder.control(i[l.nozzelName]||""))}),n.addControl("Time",this.formBuilder.control(i.Time||"")),n.addControl("DoneBy",this.formBuilder.control(i.DoneBy||"")),this.WeightCheckDetails.push(n)}),console.log("Populated WeightCheckDetails:",this.WeightCheckDetails)}removeWeightDetail(e){this.AddedWeightCheckDetailsList.splice(e,1),console.log("control",this.AddedWeightCheckDetailsList),console.log("items",this.AddedWeightCheckDetailsList)}createWeightCheck(e){this.weightCheckService.addWeightCheck(e).subscribe(()=>{this.cancel(),this.notificationService.success("Weight Check created successfully.")},a=>{this.error=a})}updateWeightCheck(e){this.weightCheckService.updateWeightCheck(e).subscribe(()=>{this.cancel(),this.notificationService.success("Weight Check updated successfully.")},a=>{this.error=a})}save(){this.isFormSubmitted=!0;const e=this.WeightCheckForm.get("EndDateTime")?.value,a=this.WeightCheckForm.get("StartDateTime")?.value;if(!this.WeightCheckForm.invalid){if(new Date(e)<=new Date(a))return void this.notificationService.error("End date should be greated than Start date");if(this.AddedWeightCheckDetailsList.length<1)return void this.notificationService.error("at lease one Nozzlewise deatils required");{let i=this.WeightCheckForm.value;i.WeightCheckDetails=this.AddedWeightCheckDetailsList,console.log("formvalue",i);let n=this.transformData(i);console.log("Playload",n),console.log("json stringyfy",JSON.stringify(n,null,2)),this.isEditMode?this.updateWeightCheck(n):this.createWeightCheck(n)}}}transformData(e){function a(m){const s=new Date(m);if(isNaN(s.getTime()))throw new Error("Invalid date string provided");return`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}T${String(s.getHours()).padStart(2,"0")}:${String(s.getMinutes()).padStart(2,"0")}`}function i(m){const c=m.match(/(\d{1,2}):(\d{2}) (AM|PM)/i);if(!c)throw new Error("Invalid time format");let[,u,y,v]=c,p=parseInt(u,10);const pt=parseInt(y,10);"AM"===v.toUpperCase()?12===p&&(p=0):"PM"===v.toUpperCase()&&12!==p&&(p+=12);const ft=p.toString().padStart(2,"0"),kt=pt.toString().padStart(2,"0"),N=new Date;return`${N.getFullYear()}-${(N.getMonth()+1).toString().padStart(2,"0")}-${N.getDate().toString().padStart(2,"0")}T${ft}:${kt}`}const n=Array.isArray(e.WeightCheckDetails)?e.WeightCheckDetails:Object.values(e.WeightCheckDetails||{});return{Id:this.isEditMode?this.weightCheckData.id:0,Code:this.isEditMode?this.weightCheckData.code:"",StartDateTime:a(e.StartDateTime),EndDateTime:a(e.EndDateTime),SAPProductionOrderId:this.isEditMode?this.weightCheckData.sapProductionOrderId:e.SAPProductionOrderId,ProductId:this.isEditMode?this.weightCheckData.productId:e.ProductId,ShiftId:e.ShiftId,BottleDateCode:e.BottleDateCode.toString(),PackSize:e.PackSize.toString(),TargetWeight:e.StandardWeight.toString(),MinWeightRange:e.MinWeightRange,MaxWeightRange:e.MaxWeightRange,QAUserId:e.QAUserId,Note:e.Note,WeightCheckDetails:Array.isArray(n)?n.map((m,s)=>({Id:0,HeaderId:0,TDateTime:i(m.Time),AvgWeight:m.Average,DoneByUserIdList:m.DoneBy,WeightCheckSubDetails:Object.entries(m).filter(([c,u])=>"Average"!==c&&"Time"!==c&&"DoneBy"!==c&&"DoneByNames"!==c).map(([c,u])=>({Id:0,DetailId:0,NozzleId:Number(c),Weight:""!==u?u:null}))})):[]}}cancel(){this.router.navigate(this.isEditMode?["../..","list"]:["..","list"],{relativeTo:this.activatedRoute})}ngOnDestroy(){this.routerSub.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||o)(t.rXU(f.nX),t.rXU(f.Ix),t.rXU(d.ze),t.rXU(W.Q),t.rXU(R.tw))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-add-edit"]],decls:136,vars:51,consts:[["form","ngForm"],["pickerStart",""],["pickerEnd",""],["timepicker",""],[1,"row","justify-content-center"],[1,"col-xl-11","col-lg-12"],[1,"border","p30","rounded"],[1,"row","align-items-center","mb-4"],[1,"col-lg-7","col-sm-9","col-xs-10","d-flex","align-items-end"],[1,"mb-0"],[1,"icon-edit"],[1,"col-lg-5","col-sm-3","col-xs-2","d-flex","justify-content-end"],["mat-flat-button","","color","primary","class","app-button",3,"click",4,"authPermission"],["novalidate","",1,"app-form",3,"submit","formGroup"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-3"],["appearance","fill",1,"full-width"],["matInput","","formControlName","StartDateTime",3,"dateChange","matDatepicker","min"],["matSuffix","",3,"for"],[3,"control","message","formSubmitted"],["matInput","","formControlName","EndDateTime",3,"dateChange","matDatepicker","min"],["formControlName","ShiftId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","SAPProductionOrderId",3,"disabled"],["formControlName","ProductId",3,"disabled"],["matInput","","formControlName","BottleDateCode"],["matInput","","formControlName","PackSize","type","number"],["matInput","","formControlName","StandardWeight","type","number"],["matInput","","formControlName","MinWeightRange","type","number"],[4,"ngIf"],["matInput","","formControlName","MaxWeightRange","type","number"],["formControlName","QAUserId"],[1,"col-12","col-sm-12","col-md-12","col-lg-12","mb-3"],["matInput","","formControlName","Note"],[1,"card-header","d-flex","align-items-center","justify-content-between"],["formArrayName","WeightCheckDetails"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"table-responsive"],["id","gridNozzlewiseWeight",1,"table","table-hover","table-bordered","display","mb-30","fixed-table-scroll-inner",2,"overflow","scroll","width","auto"],[1,"bg-primary","text-primary","text-center"],[2,"width","8%"],[2,"width","12%"],[2,"text-align","center"],[2,"width","5%"],["data-nozzleid","1",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"col-lg-12","text-center"],["type","submit","mat-flat-button","","color","primary",1,"app-button","mr-1"],["mat-flat-button","","color","primary",1,"app-button",3,"click"],[3,"value"],[1,"row","mt-3",3,"formGroupName"],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3"],[1,"full-width"],["matInput","","placeholder","Select time","formControlName","Time",3,"ngxTimepicker"],["class","col-12 col-sm-12 col-md-1 col-lg-1 mb-3 ",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-3","p-1"],["formControlName","DoneBy","multiple",""],[1,"col-12","col-sm-12","col-md-2","col-lg-2","mb-3","p-1","d-flex","align-items-center"],["type","button","mat-icon-button","","color","warn",3,"click"],[1,"col-12","col-sm-12","col-md-1","col-lg-1","mb-3"],["type","number","matInput","",3,"formControlName"],["data-nozzleid","1"],["type","button",1,"btn","btn-primary","btn-sm","btnModifyRow",3,"click"],[1,"fa","fa-pencil"]],template:function(a,i){if(1&a){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h4",9),t.nrm(6,"i",10),t.EFF(7," Add/Edit Weight Check"),t.k0s()(),t.j41(8,"div",11),t.DNE(9,H,2,0,"a",12),t.k0s()(),t.j41(10,"form",13,0),t.bIt("submit",function(){return t.eBV(n),t.Njj(i.save())}),t.j41(12,"div",14)(13,"div",15)(14,"h5",9),t.EFF(15,"Basic Details"),t.k0s()(),t.j41(16,"div",16)(17,"div",17)(18,"div",18)(19,"mat-form-field",19)(20,"mat-label"),t.EFF(21,"Start Date"),t.k0s(),t.j41(22,"input",20),t.bIt("dateChange",function(){return t.eBV(n),t.Njj(i.onStartDateChange())}),t.k0s(),t.nrm(23,"mat-datepicker-toggle",21)(24,"mat-datepicker",null,1)(26,"mat-validation-message",22),t.k0s()(),t.j41(27,"div",18)(28,"mat-form-field",19)(29,"mat-label"),t.EFF(30,"End Date"),t.k0s(),t.j41(31,"input",23),t.bIt("dateChange",function(){return t.eBV(n),t.Njj(i.onEndDateChange())}),t.k0s(),t.nrm(32,"mat-datepicker-toggle",21)(33,"mat-datepicker",null,2)(35,"mat-validation-message",22),t.k0s()(),t.j41(36,"div",18)(37,"mat-form-field",19)(38,"mat-label"),t.EFF(39,"Shift"),t.k0s(),t.j41(40,"mat-select",24),t.DNE(41,Q,2,2,"mat-option",25),t.k0s(),t.nrm(42,"mat-validation-message",22),t.k0s()(),t.j41(43,"div",18)(44,"mat-form-field",19)(45,"mat-label"),t.EFF(46,"SAP Production Order"),t.k0s(),t.j41(47,"mat-select",26),t.DNE(48,J,2,2,"mat-option",25),t.k0s(),t.nrm(49,"mat-validation-message",22),t.k0s()(),t.j41(50,"div",18)(51,"mat-form-field",19)(52,"mat-label"),t.EFF(53,"Product"),t.k0s(),t.j41(54,"mat-select",27),t.DNE(55,Z,2,2,"mat-option",25),t.k0s(),t.nrm(56,"mat-validation-message",22),t.k0s()(),t.j41(57,"div",18)(58,"mat-form-field",19)(59,"mat-label"),t.EFF(60,"Bottle Date Code"),t.k0s(),t.nrm(61,"input",28)(62,"mat-validation-message",22),t.k0s()(),t.j41(63,"div",18)(64,"mat-form-field",19)(65,"mat-label"),t.EFF(66,"Pack Size"),t.k0s(),t.nrm(67,"input",29)(68,"mat-validation-message",22),t.k0s()(),t.j41(69,"div",18)(70,"mat-form-field",19)(71,"mat-label"),t.EFF(72,"Standard Weight"),t.k0s(),t.nrm(73,"input",30)(74,"mat-validation-message",22),t.k0s()(),t.j41(75,"div",18)(76,"mat-form-field",19)(77,"mat-label"),t.EFF(78,"Min Weight Range"),t.k0s(),t.nrm(79,"input",31),t.DNE(80,K,2,0,"mat-error",32)(81,q,2,0,"mat-error",32),t.k0s()(),t.j41(82,"div",18)(83,"mat-form-field",19)(84,"mat-label"),t.EFF(85,"Max Weight Range"),t.k0s(),t.nrm(86,"input",33),t.DNE(87,tt,2,0,"mat-error",32),t.k0s()(),t.j41(88,"div",18)(89,"mat-form-field",19)(90,"mat-label"),t.EFF(91,"QA User"),t.k0s(),t.j41(92,"mat-select",34),t.DNE(93,et,2,2,"mat-option",25),t.k0s(),t.nrm(94,"mat-validation-message",22),t.k0s()(),t.j41(95,"div",35)(96,"mat-form-field",19)(97,"mat-label"),t.EFF(98,"Note"),t.k0s(),t.nrm(99,"textarea",36)(100,"mat-validation-message",22),t.k0s()()()()(),t.j41(101,"div",14)(102,"div",37)(103,"h5",9),t.EFF(104,"Nozzlewise Weight Details"),t.k0s()(),t.j41(105,"div",16)(106,"div",38),t.DNE(107,at,20,4,"div",39),t.k0s()()(),t.j41(108,"div",17)(109,"div",40)(110,"div",41)(111,"table",42)(112,"thead",43)(113,"tr"),t.nrm(114,"th",44)(115,"th",45),t.j41(116,"th",46),t.EFF(117,"Nozzle(s)"),t.k0s(),t.nrm(118,"th",44)(119,"th",47),t.k0s(),t.j41(120,"tr")(121,"th"),t.EFF(122,"Time"),t.k0s(),t.j41(123,"th"),t.EFF(124,"Done By"),t.k0s(),t.DNE(125,nt,2,1,"th",48),t.j41(126,"th"),t.EFF(127,"Avg Weight"),t.k0s(),t.j41(128,"th"),t.EFF(129,"Action"),t.k0s()()(),t.j41(130,"tbody"),t.DNE(131,st,12,7,"tr",49),t.k0s()()()()(),t.j41(132,"div",17)(133,"div",50)(134,"button",51),t.EFF(135,"Save"),t.k0s()()()()()()()}if(2&a){const n=t.sdS(25),l=t.sdS(34);t.R7$(9),t.Y8G("authPermission",i.page+"_"+i.permissions.list),t.R7$(),t.Y8G("formGroup",i.WeightCheckForm),t.R7$(12),t.Y8G("matDatepicker",n)("min",i.getToday()),t.R7$(),t.Y8G("for",n),t.R7$(3),t.Y8G("control",i.WeightCheckForm.controls.StartDateTime)("message","Start Date Time")("formSubmitted",i.isFormSubmitted),t.R7$(5),t.Y8G("matDatepicker",l)("min",i.WeightCheckForm.controls.StartDateTime),t.R7$(),t.Y8G("for",l),t.R7$(3),t.Y8G("control",i.WeightCheckForm.controls.EndDateTime)("message","End Date Time")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",i.shiftList),t.R7$(),t.Y8G("control",i.WeightCheckForm.controls.ShiftId)("message","Shift")("formSubmitted",i.isFormSubmitted),t.R7$(5),t.Y8G("disabled",i.isEditMode),t.R7$(),t.Y8G("ngForOf",i.productionOrderList),t.R7$(),t.Y8G("control",i.WeightCheckForm.controls.SAPProductionOrderId)("message","SAP Production Order")("formSubmitted",i.isFormSubmitted),t.R7$(5),t.Y8G("disabled",i.isEditMode),t.R7$(),t.Y8G("ngForOf",i.productList),t.R7$(),t.Y8G("control",i.WeightCheckForm.controls.ProductId)("message","Product")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.WeightCheckForm.controls.BottleDateCode)("message","Bottle Date Code")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.WeightCheckForm.controls.PackSize)("message","Pack Size")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.WeightCheckForm.controls.StandardWeight)("message","Standard Weight")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("ngIf",i.WeightCheckForm.get("MinWeightRange").hasError("required")&&i.isFormSubmitted),t.R7$(),t.Y8G("ngIf",i.WeightCheckForm.get("MinWeightRange").hasError("min")&&i.isFormSubmitted),t.R7$(6),t.Y8G("ngIf",i.WeightCheckForm.get("MaxWeightRange").hasError("required")&&i.isFormSubmitted),t.R7$(6),t.Y8G("ngForOf",i.usersList),t.R7$(),t.Y8G("control",i.WeightCheckForm.controls.QAUserId)("message","QA User")("formSubmitted",i.isFormSubmitted),t.R7$(6),t.Y8G("control",i.WeightCheckForm.controls.Note)("message","Note")("formSubmitted",i.isFormSubmitted),t.R7$(7),t.Y8G("ngForOf",null==i.WeightCheckDetails?null:i.WeightCheckDetails.controls),t.R7$(9),t.BMQ("colspan",i.NozzleList.length),t.R7$(9),t.Y8G("ngForOf",i.NozzleList),t.R7$(6),t.Y8G("ngForOf",i.AddedWeightCheckDetailsList)}},dependencies:[k.Sq,k.bT,d.qT,d.me,d.Q0,d.BC,d.cb,d.j4,d.JD,d.$R,d.v8,C.It,C.$z,C.iY,D.rl,D.nJ,D.TL,D.yw,Y.fg,T.An,x.VO,U.wT,b.Vh,b.bZ,b.bU,j.B,V.T,X.r,S.zk,S.v2,k.QX],styles:[".card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 1px 3px #0000001a}.card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:.75rem 1.25rem}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.full-width[_ngcontent-%COMP%]{width:100%}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem}"]})}return o})();h(9239);const ct=[{path:"",component:I,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:_,canActivate:[g.LL],data:{page:g.Wt.weightCheck,title:"WeightCheck"}},{path:"add",canActivate:[g.LL],data:{page:g.Wt.weightCheck,title:"WeightCheck"},component:E},{path:"edit/:id",canActivate:[g.LL],data:{page:g.Wt.weightCheck,title:"WeightCheck"},component:E}]}];let lt=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.$C({type:o});static#i=this.\u0275inj=t.G2t({imports:[f.iI.forChild(ct),f.iI]})}return o})();var mt=h(1774),gt=h(9830);let ut=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.$C({type:o});static#i=this.\u0275inj=t.G2t({providers:[W.Q,(0,gt._c)()],imports:[k.MD,lt,mt.Gg,S.c9]})}return o})()}}]);